if (self.CavalryLogger) { CavalryLogger.start_js(["jUlbV\/0"]); }

__d("ContextualConfigConstants",[],(function(a,b,c,d,e,f){"use strict";a=1e3;f.ANALYTICS_SAMPLE_RATE=a;b=", ";f.BUCKET_DELIMITER=b;c={SAME:"same",NULL:"null",NNULL:"nnull",CATCH_ALL:"catch_all",EQ:"eq",NEQ:"neq",LT:"lt",LTE:"lte",GT:"gt",GTE:"gte",COR:"cor",CONTAINS:"contains",REGEX:"regex",IN:"in",NIN:"nin"};f.CONTEXT_BUCKET_STRATEGY=c;d={DENSE:"dense",MULTI_OUTPUT_RESOLVED:"multi-output-resolved",TABLE:"table"};f.CONFIG_TYPE=d;e=[];f.EMPTY_RESOLVED_CONTEXTS=e;a=[];f.EMPTY_RESOLVED_MONITORS=a;b=[];f.EMPTY_RESULT_PARAMS=b;c={BAD_BOOLEAN_FORMAT:"Bad boolean format",BAD_CONFIG:"Bad config",BAD_CONTEXT_IDENTIFIER:"Bad context identifier",BAD_CONTEXT_VALUE:"Bad context value",BAD_MONITORED_CONTEXTS:"Bad monitored contexts",BAD_NUMBER_FORMAT:"Bad number format",BAD_OUTPUT_NAME:"Bad output name",BAD_OUTPUT_TYPE:"Bad output type",BAD_VALUE_ORDER:"Bad values order",DUPLICATE_OUTPUT_NAME:"Duplicate output name",ILLEGAL_BOOLEAN_STRATEGY:"Illegal boolean strategy",ILLEGAL_BUCKET_VALUES:"Illegal bucket values",ILLEGAL_NUMERIC_STRATEGY:"Illegal numeric strategy",ILLEGAL_STRING_STRATEGY:"Illegal string strategy",INVALID_BOOLEAN:"Invalid boolean",INVALID_FLOAT:"Invalid float",INVALID_INTEGER:"Invalid integer",INVALID_STRING:"Invalid string",INVALID_VALUE_TYPE:"Invalid value type",MISMATCH_NUMBER_OF_VALUES:"Mismatching number of values",MISSING_BUCKETS:"Missing buckets",MISSING_BUCKET_MATCH:"Missing bucket match",MISSING_BUCKET_NAME:"Missing bucket name",MISSING_BUCKET_STRATEGY:"Missing bucket strategy",MISSING_CONTEXT_IN_CONFIG:"Missing context in config",MISSING_DEFAULT_VALUE:"Missing default value",MISSING_OUTPUTS_DEFINITION:"Missing outputs field definition",MISSING_RESULTS:"Missing results",MISSING_TABLE:"Missing table",MISSING_TABLE_ITEM_BUCKET:"Missing table item bucket",MISSING_TABLE_ITEM_VALUES:"Missing table item values",MISSING_VECTOR:"Missing vector",REGEX_SYNTAX_ERROR:"Regex syntax error",REQUESTED_PARAM_NOT_FOUND:"Requested param not found",RESULTS_VECTOR_SIZE_MISMATCH:"Results vector size mismatch",UNDECLARED_OUTPUT_PARAM:"Undeclared output param",UNKNOWN_BUCKET_DEFINITION:"Unknown bucket definition",UNKNOWN_CONFIG_TYPE:"Unknown config type",UNSUPPORTED_CONFIG_VERSION:"Unsupported config version"};f.ERROR=c;d=10;f.JSON_SUB_SAMPLE_RATE=d;e=", ";f.LIST_DELIMITER=e;a={BOOL:"BOOL",FLOAT:"FLOAT",INT:"INT",STRING:"STRING"};f.TYPE=a}),null);
__d("ContextualConfigResolvedContextsUtils",[],(function(a,b,c,d,e,f){"use strict";a=function(a){var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=e.bucketIndex;if(e==void 0)break;b.push(e)}return b};f.getBucketIndices=a;b=function(a){var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=e.bucketName;if(e===void 0)break;b.push(e)}return b};f.getBucketNames=b;var g=function(a){return a.name};c=function(a){return a.map(g)};f.getContextNames=c;d=function(a){var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=e.value;if(e===void 0)break;b.push(e)}return b};f.getContextValues=d}),null);
__d("ContextualConfigCollateExposureData",["ContextualConfigConstants","ContextualConfigResolvedContextsUtils"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=["cfg_ver_timestamp","policy_id","version","sample_rate"],h=function(a){return a.join(b("ContextualConfigConstants").LIST_DELIMITER)},i=function(a,b){for(var c=0;c<g.length;c++){var d=g[c];b[d]!=null&&(a[d]=b[d])}b.name&&(a.config_name=b.name)},j=function(a,c){var d=c[0],e=c[1],f=c[2];c=c[3];d!=null&&(a.exception=d.message);a.result=h(e.map(function(a){return a.value}))||"INVALID";a.context=h(b("ContextualConfigResolvedContextsUtils").getContextNames(f));a.context_value=h(b("ContextualConfigResolvedContextsUtils").getContextValues(f));a.bucket_name=h(b("ContextualConfigResolvedContextsUtils").getBucketNames(f));a.monitor=h(b("ContextualConfigResolvedContextsUtils").getContextNames(c));a.monitor_value=h(b("ContextualConfigResolvedContextsUtils").getContextValues(c))};function a(a,c,d){var e={sample_rate:b("ContextualConfigConstants").ANALYTICS_SAMPLE_RATE};i(e,a);j(e,c);d&&(e.config_contents=JSON.stringify(a));return e}}),null);
__d("ContextualConfigExposureEvent",["Random"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c,d){this.$2=a,this.$4=b("Random").random()<1/a.sample_rate,this.$3=c,this.$1=d}var c=a.prototype;c.getData=function(){return this.$2};c.log=function(a){var b=this.$2,c=this.$3,d=this.$4;a&&c(b);d&&this.$1(b);return this};c.isSampled=function(){return this.$4};return a}();e.exports=a}),null);
__d("ContextualConfigExposureLoggerFactory",["ContextualConfigExposureEvent"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=function(){function a(a,b){this.$2=a,this.$1=b}var c=a.prototype;c.createEvent=function(a){var c=this.$1,d=this.$2;a=new(b("ContextualConfigExposureEvent"))(a,d,c);return a};return a}();function a(a,b){return new g(a,b)}}),null);
__d("ContextualConfigExposureLogger",["ContextualConfigExposureLoggerFactory","MarauderLogger"],(function(a,b,c,d,e,f){"use strict";a=function(a){};c=function(a){b("MarauderLogger").log("contextual_config_exposure","",a)};d=b("ContextualConfigExposureLoggerFactory")(a,c);e.exports=d}),null);
__d("ContextualConfigAssert",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){if(a===!1)throw new Error(b)}}),null);
__d("ContextualConfigValidators",["ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";a=function(a){return Array.isArray(a)};f.isArray=a;c=function(a){return typeof a==="boolean"};f.isBoolean=c;d=function(a){return a!=null};f.isDefined=d;e=function(a){return function(b){return Object.prototype.hasOwnProperty.call(a,b)}};f.isKey=e;a=function(a){return g(a)&&a%1===0};f.isInteger=a;c=function(a){return h(a)&&a.length>0};f.isNonEmptyString=c;var g=function(a){return typeof a==="number"&&!isNaN(a)&&a!==Infinity&&a!==-Infinity};f.isNumber=g;var h=function(a){return typeof a==="string"};f.isString=h;d=function(a){switch(a){case b("ContextualConfigConstants").TYPE.BOOL:case b("ContextualConfigConstants").TYPE.FLOAT:case b("ContextualConfigConstants").TYPE.INT:case b("ContextualConfigConstants").TYPE.STRING:return!0;default:return!1}};f.isType=d}),null);
__d("ContextualConfigParseBoolean",["ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){switch(a.toUpperCase()){case"TRUE":return!0;case"FALSE":return!1;default:throw new Error(b("ContextualConfigConstants").ERROR.BAD_BOOLEAN_FORMAT)}}}),null);
__d("ContextualConfigParsePredBoolean",["ContextualConfigConstants","ContextualConfigParseBoolean"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c){var d;switch(c){case b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.SAME:var e=b("ContextualConfigParseBoolean")(a);d=function(a){return a===e};break;case b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NULL:d=function(a){return a==null};break;case b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NNULL:d=function(a){return a!=null};break;case b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.CATCH_ALL:d=function(a){return!0};break;default:throw new Error(b("ContextualConfigConstants").ERROR.ILLEGAL_BOOLEAN_STRATEGY)}return function(a){return d(a)}}}),null);
__d("ContextualConfigParseFloat",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=/^[-\+]?([1-9]\d*|0)(\.\d+)?$/,i=function(a){return h.test(a)};function a(a){(g||(g=b("ContextualConfigAssert")))(i(a),b("ContextualConfigConstants").ERROR.BAD_NUMBER_FORMAT);a=parseFloat(a);g(b("ContextualConfigValidators").isNumber(a),b("ContextualConfigConstants").ERROR.BAD_NUMBER_FORMAT);return a}}),null);
__d("ContextualConfigParseInteger",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=/^[-\+]?([1-9]\d*|0)$/,i=function(a){return h.test(a)};function a(a){(g||(g=b("ContextualConfigAssert")))(i(a),b("ContextualConfigConstants").ERROR.BAD_NUMBER_FORMAT);a=parseInt(a,10);g(b("ContextualConfigValidators").isNumber(a),b("ContextualConfigConstants").ERROR.BAD_NUMBER_FORMAT);return a}}),null);
__d("ContextualConfigPredAssertions",["ContextualConfigAssert","ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";var g;a=function(a){return(g||(g=b("ContextualConfigAssert")))(a>0,b("ContextualConfigConstants").ERROR.MISMATCH_NUMBER_OF_VALUES)};f.assertHasValues=a;c=function(a,c){return(g||(g=b("ContextualConfigAssert")))(a===c,b("ContextualConfigConstants").ERROR.MISMATCH_NUMBER_OF_VALUES)};f.assertNumberOfValues=c;d=function(a,c){return(g||(g=b("ContextualConfigAssert")))(a<c,b("ContextualConfigConstants").ERROR.BAD_VALUE_ORDER)};f.assertValueOrder=d}),null);
__d("ContextualConfigParsePredNumeric",["ContextualConfigConstants","ContextualConfigParseFloat","ContextualConfigParseInteger","ContextualConfigPredAssertions","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g;function a(a,c,d,e){var f=d.map(e?b("ContextualConfigParseInteger"):g||(g=b("ContextualConfigParseFloat"))),h;switch(c){case b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.SAME:var i=e?b("ContextualConfigParseInteger")(a):(g||(g=b("ContextualConfigParseFloat")))(a);h=function(a){return e&&!b("ContextualConfigValidators").isInteger(a)?!1:a===i};break;case b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NULL:h=function(a){return a==null};break;case b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NNULL:h=function(a){return a!=null};break;case b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.CATCH_ALL:h=function(a){return!0};break;case b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.COR:b("ContextualConfigPredAssertions").assertNumberOfValues(f.length,2);b("ContextualConfigPredAssertions").assertValueOrder(f[0],f[1]);h=function(a){if(typeof a!=="number")return!1;return e&&!b("ContextualConfigValidators").isInteger(a)?!1:a>=f[0]&&a<f[1]};break;case b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.LT:b("ContextualConfigPredAssertions").assertNumberOfValues(f.length,1);h=function(a){if(typeof a!=="number")return!1;return e&&!b("ContextualConfigValidators").isInteger(a)?!1:a<f[0]};break;case b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.LTE:b("ContextualConfigPredAssertions").assertNumberOfValues(f.length,1);h=function(a){if(typeof a!=="number")return!1;return e&&!b("ContextualConfigValidators").isInteger(a)?!1:a<=f[0]};break;case b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.EQ:b("ContextualConfigPredAssertions").assertNumberOfValues(f.length,1);h=function(a){if(typeof a!=="number")return!1;return e&&!b("ContextualConfigValidators").isInteger(a)?!1:a===f[0]};break;case b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NEQ:b("ContextualConfigPredAssertions").assertNumberOfValues(f.length,1);h=function(a){if(typeof a!=="number")return!1;return e&&!b("ContextualConfigValidators").isInteger(a)?!1:a!==f[0]};break;case b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.GT:b("ContextualConfigPredAssertions").assertNumberOfValues(f.length,1);h=function(a){if(typeof a!=="number")return!1;return e&&!b("ContextualConfigValidators").isInteger(a)?!1:a>f[0]};break;case b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.GTE:b("ContextualConfigPredAssertions").assertNumberOfValues(f.length,1);h=function(a){if(typeof a!=="number")return!1;return e&&!b("ContextualConfigValidators").isInteger(a)?!1:a>=f[0]};break;default:throw new Error(b("ContextualConfigConstants").ERROR.ILLEGAL_NUMERIC_STRATEGY)}return function(a){return h(a)}}}),null);
__d("ContextualConfigParseRegExp",["ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=/^\/(.+)\/(.*)$/;function a(a){try{var c=a.match(g);if(c!=null)return new RegExp(c[1],c[2]);else return new RegExp(a)}catch(a){throw new Error(b("ContextualConfigConstants").ERROR.REGEX_SYNTAX_ERROR)}}}),null);
__d("ContextualConfigParsePredString",["ContextualConfigConstants","ContextualConfigParseRegExp","ContextualConfigPredAssertions"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=function(a){if(typeof a!=="string")throw new Error(b("ContextualConfigConstants").ERROR.INVALID_VALUE_TYPE);return a},h=function(a){var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b.push(g(e))}return b};function a(a,c,d){var e=h(d),f;switch(c){case b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.SAME:f=function(b){return typeof b!=="string"?!1:b===a};break;case b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NULL:f=function(a){return a==null};break;case b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NNULL:f=function(a){return a!=null};break;case b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.CATCH_ALL:f=function(a){return!0};break;case b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.IN:b("ContextualConfigPredAssertions").assertHasValues(e.length);f=function(a){return typeof a!=="string"?!1:e.indexOf(a)!==-1};break;case b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NIN:b("ContextualConfigPredAssertions").assertHasValues(e.length);f=function(a){return typeof a!=="string"?!1:e.indexOf(a)===-1};break;case b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.CONTAINS:b("ContextualConfigPredAssertions").assertNumberOfValues(e.length,1);f=function(a){return typeof a!=="string"?!1:a.indexOf(e[0])!==-1};break;case b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.REGEX:b("ContextualConfigPredAssertions").assertNumberOfValues(e.length,1);var g=b("ContextualConfigParseRegExp")(e[0]);f=function(a){return typeof a!=="string"?!1:g.test(a)};break;default:throw new Error(b("ContextualConfigConstants").ERROR.ILLEGAL_STRING_STRATEGY)}return function(a){return f(a)}}}),null);
__d("ContextualConfigParseContextBuckets",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParsePredBoolean","ContextualConfigParsePredNumeric","ContextualConfigParsePredString","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=function(a){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigValidators").isDefined(a),b("ContextualConfigConstants").ERROR.MISSING_BUCKETS)},i=function(a){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigValidators").isArray(a),b("ContextualConfigConstants").ERROR.MISSING_BUCKETS)},j=b("ContextualConfigValidators").isKey(b("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY),k=function(a){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigValidators").isString(a)&&j(a.toUpperCase()),b("ContextualConfigConstants").ERROR.MISSING_BUCKET_STRATEGY)},l=function(a){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigValidators").isArray(a),b("ContextualConfigConstants").ERROR.ILLEGAL_BUCKET_VALUES)},m=function(a){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigValidators").isNonEmptyString(a),b("ContextualConfigConstants").ERROR.MISSING_BUCKET_NAME)},n=function(a,c){var d=c.name;m(d);var e=c.strategy;k(e);c=c.values||[];l(c);switch(a){case b("ContextualConfigConstants").TYPE.BOOL:return b("ContextualConfigParsePredBoolean")(d,e);case b("ContextualConfigConstants").TYPE.FLOAT:return b("ContextualConfigParsePredNumeric")(d,e,c,!1);case b("ContextualConfigConstants").TYPE.INT:return b("ContextualConfigParsePredNumeric")(d,e,c,!0);case b("ContextualConfigConstants").TYPE.STRING:return b("ContextualConfigParsePredString")(d,e,c);default:throw new Error(b("ContextualConfigConstants").ERROR.UNKNOWN_BUCKET_DEFINITION)}},o=function(a,b){h(b);var c=b.name;m(c);return{name:c,pred:n(a,b)}};function a(a,b){i(b);return b.map(function(b){return o(a,b)})}}),null);
__d("ContextualConfigParseContexts",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseContextBuckets","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=function(a){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigValidators").isDefined(a),b("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},i=function(a){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigValidators").isArray(a)&&a.length>0,b("ContextualConfigConstants").ERROR.MISSING_CONTEXT_IN_CONFIG)},j=function(a){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigValidators").isNonEmptyString(a),b("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},k=function(a){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigValidators").isType(a),b("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},l=function(a){h(a);var c=a.name,d=a.type;a=a.buckets;j(c);k(d);return{name:c,type:d,buckets:b("ContextualConfigParseContextBuckets")(d,a)}};function a(a){i(a);return a.map(l)}}),null);
__d("ContextualConfigIsEqualParams",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c+=1){var d=a[c],e=b[c];if(d.name!==e.name||d.type!==e.type)return!1}return!0}}),null);
__d("ContextualConfigParseResultParamValue",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseBoolean","ContextualConfigParseFloat","ContextualConfigParseInteger","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=function(a){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigValidators").isString(a),b("ContextualConfigConstants").ERROR.INVALID_STRING)};function a(a,c){i(c);switch(a){case b("ContextualConfigConstants").TYPE.BOOL:return b("ContextualConfigParseBoolean")(c);case b("ContextualConfigConstants").TYPE.FLOAT:return(h||(h=b("ContextualConfigParseFloat")))(c);case b("ContextualConfigConstants").TYPE.INT:return b("ContextualConfigParseInteger")(c);case b("ContextualConfigConstants").TYPE.STRING:return c;default:throw new Error(b("ContextualConfigConstants").ERROR.INVALID_VALUE_TYPE)}}}),null);
__d("ContextualConfigParseResultParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseResultParamValue","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=function(a){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigValidators").isArray(a),b("ContextualConfigConstants").ERROR.MISSING_RESULTS)},j=function(a){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigValidators").isDefined(a),b("ContextualConfigConstants").ERROR.BAD_CONTEXT_VALUE)},k=function(a){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigValidators").isNonEmptyString(a),b("ContextualConfigConstants").ERROR.BAD_CONTEXT_VALUE)},l=function(a){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigValidators").isType(a),b("ContextualConfigConstants").ERROR.BAD_CONTEXT_VALUE)},m=function(a,c){for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;if(f.name===c)return f.type}throw new Error(b("ContextualConfigConstants").ERROR.UNDECLARED_OUTPUT_PARAM)},n=function(a){return function(c){j(c);var d=c.name;k(d);var e=m(a,d);l(e);c=(h||(h=b("ContextualConfigParseResultParamValue")))(e,c.value);return{name:d,type:e,value:c}}};function a(a,b){i(b);return b.map(n(a))}}),null);
__d("ContextualConfigParseDenseResultParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigIsEqualParams","ContextualConfigParseResultParams"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=function(a,c){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigIsEqualParams")(a,c),b("ContextualConfigConstants").ERROR.RESULTS_VECTOR_SIZE_MISMATCH)};function a(a,c){c=b("ContextualConfigParseResultParams")(a,c.map(function(b,c){return{name:a[c].name,value:b}}));h(a,c);return c}}),null);
__d("ContextualConfigParseDenseDefaults",["ContextualConfigConstants","ContextualConfigParseDenseResultParams"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c){try{return b("ContextualConfigParseDenseResultParams")(a,c)}catch(a){throw new Error(b("ContextualConfigConstants").ERROR.MISSING_DEFAULT_VALUE)}}}),null);
__d("ContextualConfigParseMonitors",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=function(a){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigValidators").isDefined(a),b("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},i=function(a){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigValidators").isArray(a),b("ContextualConfigConstants").ERROR.BAD_MONITORED_CONTEXTS)},j=function(a){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigValidators").isNonEmptyString(a),b("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},k=function(a){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigValidators").isType(a),b("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},l=function(a){h(a);var b=a.name;a=a.type;j(b);k(a);return{name:b,type:a}};function a(a){i(a);return a.map(l)}}),null);
__d("ContextualConfigParseOutputParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(a,b,c,d,e,f){e.exports=a;var g,h=function(a){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigValidators").isArray(a),b("ContextualConfigConstants").ERROR.MISSING_OUTPUTS_DEFINITION)},i=function(a){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigValidators").isType(a),b("ContextualConfigConstants").ERROR.BAD_OUTPUT_TYPE)},j=function(a){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigValidators").isNonEmptyString(a),b("ContextualConfigConstants").ERROR.BAD_OUTPUT_NAME)},k=function(a){return(g||(g=b("ContextualConfigAssert")))(l(a),b("ContextualConfigConstants").ERROR.DUPLICATE_OUTPUT_NAME)},l=function(a){var b={};for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;if(b[e.name])return!1;b[e.name]=!0}return!0},m=function(a){j(a.name);i(a.type);return a};function a(a){h(a);a=a.map(m);k(a);return a}}),null);
__d("ContextualConfigParseVector",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseResultParamValue","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=function(a){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigValidators").isArray(a),b("ContextualConfigConstants").ERROR.MISSING_VECTOR)},j=function(a,c){return(g||(g=b("ContextualConfigAssert")))(a===c,b("ContextualConfigConstants").ERROR.RESULTS_VECTOR_SIZE_MISMATCH)},k=function(a,c){j(a.length,c.length);for(var d=0;d<a.length;d+=1){var e=a[d].type,f=c[d];(h||(h=b("ContextualConfigParseResultParamValue")))(e,f)}},l=function(a){return a.reduce(function(a,b){b=b.buckets;return a*b.length},1)};function a(a,b,c){i(c);b=l(b);var d=a.length;j(b*d,c.length);for(var e=0;e<b;e+=1){var f=e*d;k(a,c.slice(f,f+d))}return c}}),null);
__d("ContextualConfigResolveContexts",["ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=function(a,b){for(var c=0;c<a.length;c+=1){var d=a[c];try{if(d.pred(b))return[d.name,c]}catch(a){return null}}return null};function a(a,c,d){var e=null;a=a.map(function(a){var f=a.name,h={name:f};if(e!=null)return h;var i;d[f]!=null?i=d[f]:c[f]!=null?i=c[f]():i=null;h.value=i;if(a.buckets!=null){f=g(a.buckets,i);if(f==null){e=new Error(b("ContextualConfigConstants").ERROR.MISSING_BUCKET_MATCH);return h}a=f[0];i=f[1];h.bucketName=a;h.bucketIndex=i}return h});return[e,a]}}),null);
__d("DenseContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseContexts","ContextualConfigParseDenseDefaults","ContextualConfigParseDenseResultParams","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseVector","ContextualConfigResolveContexts","ContextualConfigResolvedContextsUtils","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";var g,h=function(a){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigValidators").isDefined(a),b("ContextualConfigConstants").ERROR.BAD_CONFIG)},i=function(a){var b=[],c=1;for(var d=a.length-1;d>=0;d-=1)b.push(c),c*=a[d].buckets.length;return b.reverse()},j=function(a,c,d,e){try{c=c.slice(d,d+a.length);return[null,b("ContextualConfigParseDenseResultParams")(a,c)]}catch(a){return[a,e]}},k=function(a,c,d){try{d=d.reduce(function(c,d,e){(g||(g=b("ContextualConfigAssert")))(e<a.length,"Auxillery index out of range.");return c+a[e]*d},0);return[null,d*c]}catch(a){return[a,-1]}};a=function(){function a(a,c){h(a);this.globalContextProviders=babelHelpers["extends"]({},c);c=b("ContextualConfigParseOutputParams")(a.outputs);var d=b("ContextualConfigParseContexts")(a.contexts);this.aux=i(d);this.contexts=d;this.defaults=b("ContextualConfigParseDenseDefaults")(c,a.vectorDefaults);this.monitors=a.monitors!=null?b("ContextualConfigParseMonitors")(a.monitors):[];this.outputs=c;this.vector=b("ContextualConfigParseVector")(c,d,a.vector)}var c=a.prototype;c.resolve=function(a){try{return this.unsafeResolve(a)}catch(a){return[a,this.defaults,b("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,b("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]}};c.unsafeResolve=function(a){var c=this.aux,d=this.globalContextProviders,e=this.contexts,f=this.defaults,g=this.monitors,h=this.outputs,i=this.vector;e=b("ContextualConfigResolveContexts")(e,d,a);var l=e[0];e=e[1];if(l!=null)return[l,f,e,b("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS];l=k(c,h.length,b("ContextualConfigResolvedContextsUtils").getBucketIndices(e));c=l[0];l=l[1];if(c!=null)return[c,f,e,b("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS];c=j(h,i,l,f);h=c[0];i=c[1];if(h!=null)return[h,i,e,b("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS];l=b("ContextualConfigResolveContexts")(g,d,a);f=l[0];c=l[1];return f!=null?[f,i,e,b("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]:[null,i,e,c]};return a}();e.exports=a}),null);
__d("MultiOutputResolvedContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseResultParams","ContextualConfigResolveContexts","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";var g,h=function(a){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigValidators").isDefined(a),b("ContextualConfigConstants").ERROR.BAD_CONFIG)};a=function(){function a(a,c){h(a);this.globalContextProviders=babelHelpers["extends"]({},c);c=b("ContextualConfigParseOutputParams")(a.outputs);this.monitors=a.monitors!=null?b("ContextualConfigParseMonitors")(a.monitors):[];this.values=b("ContextualConfigParseResultParams")(c,a.values)}var c=a.prototype;c.resolve=function(a){try{return this.unsafeResolve(a)}catch(a){return[a,this.values,b("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,b("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]}};c.unsafeResolve=function(a){var c=this.globalContextProviders,d=this.monitors,e=this.values;d=b("ContextualConfigResolveContexts")(d,c,a);c=d[0];a=d[1];return c!=null?[c,e,b("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,b("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]:[null,e,b("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,a]};return a}();e.exports=a}),null);
__d("ContextualConfigMergePartialResultParams",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){var c={};for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;c[f.name]=f}f=[];for(var e=a,d=Array.isArray(e),b=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(b>=e.length)break;a=e[b++]}else{b=e.next();if(b.done)break;a=b.value}a=a;var g=c[a.name];f.push(g!=null&&g.name===a.name&&g.type===a.type?g:a)}return f}}),null);
__d("ContextualConfigParseDefaults",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigIsEqualParams","ContextualConfigParseResultParams"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=function(a,c){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigIsEqualParams")(a,c),b("ContextualConfigConstants").ERROR.MISSING_DEFAULT_VALUE)};function a(a,c){c=b("ContextualConfigParseResultParams")(a,c);h(a,c);return c}}),null);
__d("ContextualConfigParseTable",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseResultParams","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=function(a){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigValidators").isArray(a),b("ContextualConfigConstants").ERROR.MISSING_TABLE)},i=function(a){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigValidators").isDefined(a),b("ContextualConfigConstants").ERROR.MISSING_TABLE)},j=function(a){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigValidators").isNonEmptyString(a),b("ContextualConfigConstants").ERROR.MISSING_TABLE_ITEM_BUCKET)},k=function(a){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigValidators").isArray(a),b("ContextualConfigConstants").ERROR.MISSING_TABLE_ITEM_VALUES)},l=function(a,c){i(c);var d=c.bucket;c=c.values;j(d);k(c);return{bucket:d,values:b("ContextualConfigParseResultParams")(a,c)}};function a(a,b){h(b);return b.reduce(function(b,c){c=l(a,c);b[c.bucket]=c.values;return b},{})}}),null);
__d("TableContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigMergePartialResultParams","ContextualConfigParseContexts","ContextualConfigParseDefaults","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseTable","ContextualConfigResolveContexts","ContextualConfigResolvedContextsUtils","ContextualConfigValidators"],(function(a,b,c,d,e,f){"use strict";var g,h=[],i=function(a){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigValidators").isDefined(a),b("ContextualConfigConstants").ERROR.BAD_CONFIG)};a=function(){function a(a,c){i(a);this.globalContextProviders=babelHelpers["extends"]({},c);c=b("ContextualConfigParseOutputParams")(a.outputs);this.contexts=b("ContextualConfigParseContexts")(a.contexts);this.defaults=b("ContextualConfigParseDefaults")(c,a.defaults);this.monitors=a.monitors!=null?b("ContextualConfigParseMonitors")(a.monitors):[];this.table=b("ContextualConfigParseTable")(c,a.table)}var c=a.prototype;c.resolve=function(a){try{return this.unsafeResolve(a)}catch(a){return[a,this.defaults,b("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,b("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]}};c.unsafeResolve=function(a){var c=this.globalContextProviders,d=this.contexts,e=this.defaults,f=this.monitors,g=this.table;d=b("ContextualConfigResolveContexts")(d,c,a);var i=d[0];d=d[1];if(i!=null)return[i,e,d,[]];i=b("ContextualConfigResolvedContextsUtils").getBucketNames(d).join(b("ContextualConfigConstants").BUCKET_DELIMITER);g=g[i]||h;i=b("ContextualConfigMergePartialResultParams")(e,g);e=b("ContextualConfigResolveContexts")(f,c,a);g=e[0];f=e[1];return g!=null?[g,i,d,[]]:[null,i,d,f]};return a}();e.exports=a}),null);
__d("ContextualConfigParseConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators","DenseContextualConfig","MultiOutputResolvedContextualConfig","TableContextualConfig"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=[1],i=function(a){return(g||(g=b("ContextualConfigAssert")))(b("ContextualConfigValidators").isDefined(a)&&b("ContextualConfigValidators").isDefined(a.version),b("ContextualConfigConstants").ERROR.BAD_CONFIG)},j=function(a){return(g||(g=b("ContextualConfigAssert")))(h.indexOf(a)!==-1,b("ContextualConfigConstants").ERROR.UNSUPPORTED_CONFIG_VERSION)};function a(a,c){i(a);j(a.version);switch(a.cctype){case b("ContextualConfigConstants").CONFIG_TYPE.DENSE:return new(b("DenseContextualConfig"))(a,c);case b("ContextualConfigConstants").CONFIG_TYPE.MULTI_OUTPUT_RESOLVED:return new(b("MultiOutputResolvedContextualConfig"))(a,c);case b("ContextualConfigConstants").CONFIG_TYPE.TABLE:return new(b("TableContextualConfig"))(a,c);default:throw new Error(b("ContextualConfigConstants").ERROR.UNKNOWN_CONFIG_TYPE)}}}),null);
__d("ContextualConfigWarn",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){}}),null);
__d("ContextualConfigResult",["ContextualConfigConstants","ContextualConfigWarn"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a.reduce(function(a,b){var c=b.name;b=b.value;a[c]=b;return a},{}),this.$2=a}var c=a.prototype;c.get=function(a,c){try{a=this.$1[a];if(typeof a!==typeof c){b("ContextualConfigWarn")(b("ContextualConfigConstants").ERROR.REQUESTED_PARAM_NOT_FOUND);return c}return a}catch(a){b("ContextualConfigWarn")(a.message);return c}};c.getParams=function(){return this.$2};return a}();e.exports=a}),null);
__d("ErrorContextualConfig",["ContextualConfigConstants"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.error=a}var c=a.prototype;c.resolve=function(a){return[this.error,b("ContextualConfigConstants").EMPTY_RESULT_PARAMS,b("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,b("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]};return a}();e.exports=a}),null);
__d("ContextualConfig",["ContextualConfigCollateExposureData","ContextualConfigConstants","ContextualConfigExposureLogger","ContextualConfigParseConfig","ContextualConfigResult","ErrorContextualConfig","Random"],(function(a,b,c,d,e,f){"use strict";var g=1/b("ContextualConfigConstants").JSON_SUB_SAMPLE_RATE,h=1;a=function(){function a(a,b){b===void 0&&(b={}),this.isDebugLoggingEnabled=!1,this.$3=!1,this.$4=a,this.$2=b}var c=a.prototype;c.$5=function(){if(this.$1)return this.$1;var a=this.$2,c=this.$4;try{c=b("ContextualConfigParseConfig")(c,a)}catch(a){c=new(b("ErrorContextualConfig"))(a)}this.$1=c;return c};c.$6=function(a){var c=this.isDebugLoggingEnabled,d=this.$4,e=this.$3;e=!e&&b("Random").random()<g;e&&(this.$3=!0);d=b("ContextualConfigCollateExposureData")(d,a,e);a=b("ContextualConfigExposureLogger").createEvent(d);a.log(c)};c.resolve=function(a){a===void 0&&(a={});var c=this.$1||this.$5();c=c.resolve(a);this.$6(c);return new(b("ContextualConfigResult"))(c[h])};return a}();e.exports=a}),null);