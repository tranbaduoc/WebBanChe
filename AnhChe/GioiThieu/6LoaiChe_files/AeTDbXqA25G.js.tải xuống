if (self.CavalryLogger) { CavalryLogger.start_js(["Sz4yDbZ"]); }

__d("CometSettingsDropdownAllProductsSectionsQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"5215813221822707",metadata:{},name:"CometSettingsDropdownAllProductsSectionsQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("WebPixelRatio",["SiteData"],(function(a,b,c,d,e,f){f.get=a;function a(){return b("SiteData").pr!=null&&b("SiteData").pr>0?b("SiteData").pr:window.devicePixelRatio||1}}),null);
__d("BladeRunnerDeferredClient",["Promise","nullthrows","requireDeferred"],(function(a,b,c,d,e,f){a=function(){function a(){this.$1=null}var c=a.prototype;c.requestStream=function(a,c,d,e){this.$2();return b("nullthrows")(this.$1).then(function(b){return b.requestStream(a,c,d,e)})};c.logInfo=function(a){this.$2();return b("nullthrows")(this.$1).then(function(b){b.logInfo(a)})};c.bumpCounter=function(a){this.$2();return b("nullthrows")(this.$1).then(function(b){b.bumpCounter(a)})};c.$2=function(){this.$1==null&&(this.$1=new(b("Promise"))(function(a){b("requireDeferred")("BladeRunnerClient").__setRef("BladeRunnerDeferredClient").onReady(function(b){a(new b())})}))};return a}();c=new a();e.exports=c}),null);
__d("BladeRunnerStreamHandler",[],(function(a,b,c,d,e,f){a=function(){function a(a,b,c,d,e,f){this.$1=a,this.$2=b,this.$3=c||function(a){},this.$4=d||function(a){},this.$5=e||function(a){},this.$6=f}var b=a.prototype;b.onData=function(a){var b=this.$1,c=this.$2;if(b!=null)b(a.decodeData());else if(c!=null){b=atob(a.rawData());a=new Uint8Array(b.length);for(var d=0;d<b.length;d++)a[d]=b.charCodeAt(d);c(a.buffer)}};b.onStatusUpdate=function(a){this.$3(a)};b.onLog=function(a){this.$4(a)};b.onBatch=function(a){this.$5(a)};b.onClientCancel=function(){};b.getUpdatedRequestBody=function(){if(this.$6!=null)return this.$6()};return a}();e.exports=a}),null);
__d("BladeRunnerTypes",[],(function(a,b,c,d,e,f){a={REQUEST:1,DATA:2,DATA_ACK:3,STATUS_UPDATE:4,REWRITE_REQUEST:5,LOG:6};f.StreamFrameType=a;b={BLADE_RUNNER:1,GATEWAY:2};f.StreamRequestType=b;c={ACCEPTED:1,REJECTED:2,STARTED:3,PAUSED:4,CLOSED:5};f.StreamStatus=c}),null);
__d("BladeRunnerInstrumentedStreamHandler",["BladeRunnerDeferredClient","BladeRunnerStreamHandler","BladeRunnerTypes","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){var g=60*1e3;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this)||this;e.$BladeRunnerInstrumentedStreamHandler1=c;e.$BladeRunnerInstrumentedStreamHandler2=d;e.$BladeRunnerInstrumentedStreamHandler3=Date.now();e.$BladeRunnerInstrumentedStreamHandler5=b("setTimeoutAcrossTransitions")(function(){e.$BladeRunnerInstrumentedStreamHandler4==null&&e.$BladeRunnerInstrumentedStreamHandler6(-1,Date.now())},g);return e}var d=c.prototype;d.onData=function(a){b("BladeRunnerDeferredClient").bumpCounter("received_data."+this.$BladeRunnerInstrumentedStreamHandler2),this.$BladeRunnerInstrumentedStreamHandler1.onData(a)};d.onStatusUpdate=function(a){this.$BladeRunnerInstrumentedStreamHandler6(a,Date.now()),this.$BladeRunnerInstrumentedStreamHandler1.onStatusUpdate(a)};d.onLog=function(a){this.$BladeRunnerInstrumentedStreamHandler1.onLog(a)};d.onBatch=function(a){this.$BladeRunnerInstrumentedStreamHandler1.onBatch(a)};d.onClientCancel=function(){this.$BladeRunnerInstrumentedStreamHandler6(b("BladeRunnerTypes").StreamStatus.CLOSED,Date.now())};d.$BladeRunnerInstrumentedStreamHandler6=function(a,c){b("BladeRunnerDeferredClient").bumpCounter("received_status_"+a+"."+this.$BladeRunnerInstrumentedStreamHandler2);if(this.$BladeRunnerInstrumentedStreamHandler4==null){this.$BladeRunnerInstrumentedStreamHandler4=c;a=Math.max(this.$BladeRunnerInstrumentedStreamHandler4-this.$BladeRunnerInstrumentedStreamHandler3,0);c=a>=1e4?Math.round(Math.min(a/1e4,6))*10:Math.round(Math.min(a/1e3,10));b("BladeRunnerDeferredClient").bumpCounter("status_latency."+this.$BladeRunnerInstrumentedStreamHandler2+"."+c+".s")}clearTimeout(this.$BladeRunnerInstrumentedStreamHandler5)};return c}(b("BladeRunnerStreamHandler"));e.exports=a}),null);
__d("RequestStreamHandler",["err"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){var b=a.onData,c=a.onTermination,d=a.onLog,e=a.onFlowStatus;a=a.onRetryUpdateRequestBody;this.$1=b||function(a){};this.$2=c||function(a){};this.$3=d||function(a){};this.$4=e;this.$5=a}var c=a.prototype;c.onFlowStatus=function(a){this.$4(a)};c.onData=function(a){this.$1(a)};c.onTermination=function(a){this.$2(b("err")(a))};c.onLog=function(a){this.$3(a)};c.onRetryUpdateRequestBody=function(){if(this.$5!=null)return this.$5()};return a}();e.exports=a}),null);
__d("DGWStreamGroupType",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["SINGLE","MULTI","NONE"]);f.DGWStreamGroupType=a}),null);
__d("DGWAuth",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";f.fromStringToDGWAuth=a;f.fromDGWAuthToString=c;var g=b("$InternalEnum")({TEST:"0:0",FACEBOOK:"1:0"});f.DGWAuth=g;function a(a){if(a==="TEST")return g.TEST;else if(a==="FACEBOOK")return g.FACEBOOK;else{a=new Error("failed to convert string ("+a+") to DGWAuth Type");a.stack;throw a}}function c(a){if(a===g.FACEBOOK)return"FACEBOOK";else return"TEST"}}),null);
__d("DgwClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1755537");c=b("FalcoLoggerInternal").create("dgw_client",a);e.exports=c}),null);
__d("DGWLoggingContext",["$InternalEnum","DgwClientFalcoEvent","FBLogger"],(function(a,b,c,d,e,f){"use strict";var g="dgw_client";f.DGW_MODULE=g;a=b("$InternalEnum")({STREAM_COMPONENT:"WebStream",STREAM_GROUP_COMPONENT:"WebStreamGroup",GROUPED_STREAM_COMPONENT:"GroupedWebStream",WEBSOCKET_TRANSPORT_COMPONENT:"WebSocketTransport",ACK_MANAGER_COMPONENT:"WebStreamAckManager",CODEC_COMPONENT:"WebCodec"});f.DGWLoggingComponent=a;c=function(){function a(a,b,c,d,e){e===void 0&&(e=!1),this.$5=a,this.$1=b,this.$4=c,this.$3=d,this.$2=e}var c=a.prototype;c.logEvent=function(a,c,d){if(!this.$2){this.$6(a,c,null,d);a="dgwComponent: "+a+" | Event: "+c;d!=null&&(a+=" | Extra Info: "+d);b("FBLogger")(g).debug(a)}};c.$6=function(a,c,d,e){var f=this,g=this.$1;g!=null&&b("DgwClientFalcoEvent").log(function(){return{event:c,logging_id:g,dgw_version:f.$5,error:d,uuid:f.$3,dgw_component:a,extra_info:e,destination_tier:f.$4}})};c.logError=function(a,c,d,e){this.$2||(this.$6(a,c,d,e),b("FBLogger")(g).mustfix("Error received. Event: "+c+" | Error: "+d))};c.logWarn=function(a,c,d,e){this.$2||(this.$6(a,c,d,e),b("FBLogger")(g).warn("Warning received. Event: "+c+" | Warning: "+d))};return a}();f.DGWLoggingContext=c}),null);
__d("DGWAckManager",["DGWLoggingContext","Promise","regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g=function(){var b=a.prototype;b.stopTracking=function(a){clearTimeout(this.$1),this.$3(a)};function a(a,b,c){var d=this;this.$3=c;this.sendId=a;this.$2=b;this.handleAckReceived=function(){d.stopTracking(!0)};this.$1=setTimeout(function(){d.stopTracking(!1)},b)}return a}();a=function(){function a(a){this.$1=new Map(),this.$2=a}var c=a.prototype;c.waitForAck=function(a,c){var d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:d=this.$1;f.prev=1;f.next=4;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(b,e){d.set(a,new g(a,c,b))}));case 4:e=f.sent;e===!0?this.$2.logEvent(b("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"Received ACK","sendId: "+a):this.$2.logWarn(b("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ACK timeout","Request "+a+" timed out after "+c+"ms");d["delete"](a);return f.abrupt("return",e);case 10:f.prev=10;f.t0=f["catch"](1);d["delete"](a);throw f.t0;case 14:case"end":return f.stop()}},null,this,[[1,10]])};c.handleAckReceived=function(a){var c=this.$1.get(a);if(c===void 0){this.$2.logWarn(b("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"untracked ACK","Received ACK for ackId "+a+" which was not being tracked");return}c.handleAckReceived()};c.clearPendingAcks=function(){var a=this;this.$1.forEach(function(c,d,e){a.$2.logEvent(b("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"Clearing pending ACK with ackId "+c.sendId),c.stopTracking(!1),e["delete"](d)})};return a}();f.DGWAckManager=a}),null);
__d("DGWConstants",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";f.drainReasonToDrainReasonString=a;f.DgwCodecReturnCodeToString=c;f.frameTypeToString=d;e=3e4;f.DEFAULT_ACK_TIMEOUT_MS=e;a="prod";f.DEFAULT_SERVICE_TIER=a;c=128;f.MAX_ACK_ID=c;e=(d=b("$InternalEnum"))({NORMAL_CLOSURE:1e3,GOING_AWAY:1001,ABNORMAL_CLOSURE:1006,SERVER_INTERNAL_ERROR:1011,DGW_NORMAL_CLOSURE:4e3,DGW_PING_TIMEOUT:4001});f.WebsocketCloseCodes=e;var g=d({DrainReason_ELB:0,DrainReason_SLB:1,DrainReason_AppServerPush:2,DrainReason_GracePeriodExpired:3,DrainReason_Unknown:4});f.DrainReason=g;function a(a){switch(a){case g.DrainReason_ELB:return"DrainReason_ELB";case g.DrainReason_SLB:return"DrainReason_SLB";case g.DrainReason_AppServerPush:return"DrainReason_AppServerPush";case g.DrainReason_GracePeriodExpired:return"DrainReason_GracePeriodExpired";case g.DrainReason_Unknown:return"DrainReason_Unknown"}}var h=d({DgwCodecReturnCode_Success:0,DgwCodecReturnCode_Failure:1,DgwCodecReturnCode_NotEnoughData:2,DgwCodecReturnCode_OutOfMemory:3,DgwCodecReturnCode_AckIdOutOfBounds:4,DgwCodecReturnCode_InvalidParameter:5,DgwCodecReturnCode_InvalidFrameType:6,DgwCodecReturnCode_InvalidAckFrameLength:7,DgwCodecReturnCode_InvalidDrainReason:8,DgwCodecReturnCode_InvalidDataFrameLength:9,DgwCodecReturnCode_InvalidDrainFrameLength:10});f.DgwCodecReturnCode=h;function c(a){switch(a){case h.DgwCodecReturnCode_Success:return"DgwCodecReturnCode_Success";case h.DgwCodecReturnCode_Failure:return"DgwCodecReturnCode_Failure";case h.DgwCodecReturnCode_NotEnoughData:return"DgwCodecReturnCode_NotEnoughData";case h.DgwCodecReturnCode_OutOfMemory:return"DgwCodecReturnCode_OutOfMemory";case h.DgwCodecReturnCode_AckIdOutOfBounds:return"DgwCodecReturnCode_AckIdOutOfBounds";case h.DgwCodecReturnCode_InvalidParameter:return"DgwCodecReturnCode_InvalidParameter";case h.DgwCodecReturnCode_InvalidFrameType:return"DgwCodecReturnCode_InvalidFrameType";case h.DgwCodecReturnCode_InvalidAckFrameLength:return"DgwCodecReturnCode_InvalidAckFrameLength";case h.DgwCodecReturnCode_InvalidDrainReason:return"DgwCodecReturnCode_InvalidDrainReason";case h.DgwCodecReturnCode_InvalidDataFrameLength:return"DgwCodecReturnCode_InvalidDataFrameLength";case h.DgwCodecReturnCode_InvalidDrainFrameLength:return"DgwCodecReturnCode_InvalidDrainFrameLength"}}var i=d({DgwFrameType_Data:0,DgwFrameType_Ack:1,DgwFrameType_Empty:2,DgwFrameType_Drain:3,DgwFrameType_Deauth:4,DgwFrameType_StreamGroup_EstablishStream:5,DgwFrameType_StreamGroup_Data:6,DgwFrameType_StreamGroup_Ack:7,DgwFrameType_StreamGroup_EndOfData:8,DgwFrameType_Ping:9,DgwFrameType_Pong:10});f.DgwFrameType=i;function d(a){switch(a){case i.DgwFrameType_Data:return"DgwFrameType_Data";case i.DgwFrameType_Ack:return"DgwFrameType_Ack";case i.DgwFrameType_Empty:return"DgwFrameType_Empty";case i.DgwFrameType_Drain:return"DgwFrameType_Drain";case i.DgwFrameType_Deauth:return"DgwFrameType_Deauth";case i.DgwFrameType_StreamGroup_EstablishStream:return"DgwFrameType_StreamGroup_EstablishStream";case i.DgwFrameType_StreamGroup_Data:return"DgwFrameType_StreamGroup_Data";case i.DgwFrameType_StreamGroup_Ack:return"DgwFrameType_StreamGroup_Ack";case i.DgwFrameType_StreamGroup_EndOfData:return"DgwFrameType_StreamGroup_EndOfData";case i.DgwFrameType_Ping:return"DgwFrameType_Ping";case i.DgwFrameType_Pong:return"DgwFrameType_Pong"}}a={HEADER_APPID:"x-dgw-appid",HEADER_APPVERSION:"x-dgw-appversion",HEADER_AUTHTYPE:"x-dgw-authtype",HEADER_AUTHTOKEN:"Authorization",HEADER_DGW_VERSION:"x-dgw-version",HEADER_LOGGING_ID:"x-dgw-loggingid",HEADER_REGIONHINT:"x-dgw-regionhint",HEADER_TARGET_TIER:"x-dgw-tier",HEADER_UUID:"x-dgw-uuid",kShadowHeader:"x-dgw-shadow",APPHEADER_PREFIX:"x-dgw-app-"};f.HEADER_CONSTANTS=a}),null);
__d("DGWExponentialBackoff",["Promise","regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";f.callWithExponentialBackoff=a;var g={maxRetries:5,baseRetryInterval:1e3,backoffFactor:Math.sqrt(2)},h=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.errors=c;return a}return a}(babelHelpers.wrapNativeSuper(Error));function a(a,c){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:c===void 0&&(c=g);d.prev=1;d.next=4;return b("regeneratorRuntime").awrap(i(a,c));case 4:return d.abrupt("return",d.sent);case 7:d.prev=7;d.t0=d["catch"](1);throw d.t0.errors[d.t0.errors.length-1];case 10:case"end":return d.stop()}},null,this,[[1,7]])}function i(a,c){var d,e,f,g,i;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:d=0,e=[],f=c.baseRetryInterval,g=c.backoffFactor;case 4:if(!(d<=c.maxRetries)){k.next=20;break}k.prev=5;k.next=8;return b("regeneratorRuntime").awrap(a());case 8:i=k.sent;return k.abrupt("return",i);case 12:k.prev=12,k.t0=k["catch"](5),e.push(k.t0);case 15:k.next=17;return b("regeneratorRuntime").awrap(j(f*Math.pow(g,d)));case 17:++d;k.next=4;break;case 20:throw new h("Max call count exceeded",e);case 21:case"end":return k.stop()}},null,this,[[5,12]])}function j(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(b){return setTimeout(b,a)}));case 2:case"end":return c.stop()}},null,this)}}),null);
__d("DGWStream",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";f.streamErrorToString=a;var g=b("$InternalEnum").Mirrored(["ABNORMAL_CLOSURE","GOING_AWAY","SERVER_INTERNAL_ERROR","PREMATURE_CLOSE","UNKNOWN_ERROR","KEEPALIVE_TIMEOUT","TRANSPORT_CLOSED_BEFORE_STREAM_INIT"]);f.StreamError=g;function a(a){switch(a){case g.ABNORMAL_CLOSURE:return"ABNORMAL_CLOSURE";case g.GOING_AWAY:return"GOING_AWAY";case g.SERVER_INTERNAL_ERROR:return"SERVER_INTERNAL_ERROR";case g.PREMATURE_CLOSE:return"PREMATURE_CLOSE";case g.UNKNOWN_ERROR:return"UNKNOWN_ERROR";case g.KEEPALIVE_TIMEOUT:return"KEEPALIVE_TIMEOUT";case g.TRANSPORT_CLOSED_BEFORE_STREAM_INIT:return"TRANSPORT_CLOSED_BEFORE_STREAM_INIT"}}}),null);
__d("DGWStreamEvents",["DGWLoggingContext","FBLogger"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c){this.$4=new Map(),this.$5=new Map(),this.$6=a,this.$1=b,c!=null&&(this.$8="streamId:"+c+"::")}var c=a.prototype;c.streamEstablished=function(){this.$6.logEvent(this.$1,"open",this.$8),this.$3=Date.now(),b("FBLogger")(b("DGWLoggingContext").DGW_MODULE,"stream_establishment_success")};c.streamEstablishmentPending=function(){this.$2=Date.now(),this.$6.logEvent(this.$1,"streamPending",this.$8),b("FBLogger")(b("DGWLoggingContext").DGW_MODULE,"stream_establishment_pending")};c.dataSent=function(a,b,c){var d=c?"sendWithAckRequested":"sendWithoutAckRequested";this.$6.logEvent(this.$1,d,((d=this.$8)!=null?d:"")+"sendId:"+a+", payloadSize:"+b);this.$4.set(a,{ackRequested:c,payloadSize:b,sendTimestamp:Date.now()})};c.ackReceived=function(a){var c;this.$6.logEvent(this.$1,"AckReceived",((c=this.$8)!=null?c:"")+"sendId:"+a+"}");b("FBLogger")(b("DGWLoggingContext").DGW_MODULE).debug("DGWStreamEvents ackReceived - sendId:"+a);c=this.$4.get(a);c!=null&&(c.ackReceivedTimestamp=Date.now())};c.ackSent=function(a){var c;b("FBLogger")(b("DGWLoggingContext").DGW_MODULE).debug("DGWStreamEvents ackSent - ackId:"+a);this.$6.logEvent(this.$1,"ACK sent",((c=this.$8)!=null?c:"")+"ackId: "+a)};c.drainSent=function(a){var c;b("FBLogger")(b("DGWLoggingContext").DGW_MODULE).debug("DGWStreamEvents drainSent - drainReason:"+a);this.$6.logEvent(this.$1,"Drain sent",((c=this.$8)!=null?c:"")+"drainReason: "+a)};c.dataReceived=function(a,c,d){var e;b("FBLogger")(b("DGWLoggingContext").DGW_MODULE).debug("dataReceived - sendId:"+((e=d)!=null?e:"null")+", payloadSize:"+a+", ackRequested:"+c.toString());this.$6.logEvent(this.$1,"Data received",((e=this.$8)!=null?e:"")+"sendId: "+((e=d)!=null?e:"null")+", ackRequested: "+c.toString()+", payloadSize: "+a);d!=null&&this.$5.set(d,{ackRequested:c,payloadSize:a,receiveTimestamp:Date.now()})};c.endOfDataReceived=function(){b("FBLogger")(b("DGWLoggingContext").DGW_MODULE).debug("endOfDataReceived"),this.$6.logEvent(this.$1,"EndOfDataReceived",this.$8)};c.endOfDataSent=function(){b("FBLogger")(b("DGWLoggingContext").DGW_MODULE).debug("endOfDataSent"),this.$6.logEvent(this.$1,"EndOfDataSent",this.$8)};c.streamClosed=function(a,c){this.$7=Date.now();var d=this.$9();if(a){this.$6.logEvent(this.$1,"Stream closed gracefully",""+((a=this.$8)!=null?a:"")+d);b("FBLogger")(b("DGWLoggingContext").DGW_MODULE,"stream_closed_gracefully")}else{b("FBLogger")(b("DGWLoggingContext").DGW_MODULE,"stream_closed_with_error").debug("streamClosed with errors. DGWStreamEvents: ",d);this.$6.logError(this.$1,"Stream closed abnormally",c,""+((a=this.$8)!=null?a:"")+d)}};c.connectionEstablishmentFailure=function(a){this.$6.logEvent(this.$1,"WebSocket connection establishment failure","WebSocket close code: "+a)};c.streamEstablishmentFailure=function(a,c){this.$6.logError(this.$1,"Failed to establish DGW Stream","Last seen error: "+a.toString(),""+((a=this.$8)!=null?a:"")+c);b("FBLogger")(b("DGWLoggingContext").DGW_MODULE,"stream_establishment_failure")};c.error=function(a,b){var c={};c.msg=b;c.state=this.$9();this.$6.logError(this.$1,a,JSON.stringify(c),this.$8)};c.$9=function(){var a={};a.currentNetworkCondition=window.navigator&&window.navigator.onLine==!0;a.establishRequestTimestamp=this.$2;a.establishedTimestamp=this.$3;a.streamClosedTimestamp=this.$7;a.sendHistory=JSON.stringify(Array.from(this.$4.entries()));a.receiveHistory=JSON.stringify(Array.from(this.$5.entries()));return JSON.stringify(a)};return a}();f.DGWStreamEvents=a}),null);
__d("DGWCppBridge",["Promise"],(function(h,i,j,k,l,m){var n=function(){var j=typeof document!=="undefined"&&document.currentScript?document.currentScript.src:void 0;return function(k){k=k||{};var k=typeof k!=="undefined"?k:{},o;k.ready=new(i("Promise"))(function(h,i){o=h,i});var p={},q;for(q in k)Object.prototype.hasOwnProperty.call(k,q)&&(p[q]=k[q]);var r=[];(function(h,i){throw i});var s=!0,t=!1,u="";function v(h){return k.locateFile?k.locateFile(h,u):u+h}var w;(s||t)&&(t?u=self.location.href:document.currentScript&&(u=document.currentScript.src),j&&(u=j),u.indexOf("blob:")!==0?u=u.substr(0,u.lastIndexOf("/")+1):u="",(function(h){try{var i=new XMLHttpRequest();i.open("GET",h,!1);i.send(null);return i.responseText}catch(j){i=ba(h);if(i)return va(i);throw j}},t&&(w=function(h){try{var i=new XMLHttpRequest();i.open("GET",h,!1);i.responseType="arraybuffer";i.send(null);return new Uint8Array(i.response)}catch(j){i=ba(h);if(i)return i;throw j}}),function(h,i,j){var k=new XMLHttpRequest();k.open("GET",h,!0);k.responseType="arraybuffer";k.onload=function(){if(k.status==200||k.status==0&&k.response){i(k.response);return}var l=ba(h);if(l){i(l.buffer);return}j()};k.onerror=j;k.send(null)}),function(h){document.title=h});var x=k.print||emptyFunction.bind(console),y=k.printErr||emptyFunction.bind(console);for(q in p)Object.prototype.hasOwnProperty.call(p,q)&&(k[q]=p[q]);p=null;k.arguments&&(r=k.arguments);k.thisProgram&&k.thisProgram;k.quit&&k.quit;var z;k.wasmBinary&&(z=k.wasmBinary);k.noExitRuntime&&k.noExitRuntime;var A={Memory:function(h){return{buffer:new ArrayBuffer(h.initial*65536),grow:function(h){h=ea(h);return h}}},Table:function(h){var i=new Array(h.initial);i.grow=function(h){i.length>=1+0&&U("Unable to grow wasm table. Use a higher value for RESERVED_FUNCTION_POINTERS or set ALLOW_TABLE_GROWTH."),i.push(null)};i.set=function(h,j){i[h]=j};i.get=function(h){return i[h]};return i},Module:function(h){return{}},Instance:function(i,j){i=function(k,i,j){function j(i,k,j){var l=k.memory,m=new i.Int8Array(j);new i.Int16Array(j);var n=new i.Int32Array(j),o=new i.Uint8Array(j);new i.Uint16Array(j);var p=new i.Uint32Array(j);new i.Float32Array(j);new i.Float64Array(j);var q=i.Math.imul;i.Math.fround;i.Math.abs;var r=i.Math.clz32;i.Math.min;i.Math.max;i.Math.floor;i.Math.ceil;i.Math.sqrt;k.abort;i.NaN;i.Infinity;var s=k.emscripten_memcpy_big,t=k.emscripten_resize_heap,u=5245120,v=0;function w(h,i,j,k,l,r){var s=0,t=0;s=u-80|0;u=s;n[s+72>>2]=h;n[s+68>>2]=i;n[s+64>>2]=j;n[s+60>>2]=k;n[s+56>>2]=l;n[s+52>>2]=r;a:{b:{c:{if(!n[s+72>>2]|!n[s+68>>2]|(!n[s+64>>2]|!n[s+60>>2]))break c;if(!n[s+56>>2])break c;if(n[s+52>>2])break b}n[s+76>>2]=5;break a}n[n[s+64>>2]>>2]=0;n[n[s+60>>2]>>2]=0;t=s,j=z(n[s+72>>2],n[s+68>>2],n[s+56>>2],n[s+52>>2]),n[t+48>>2]=j;if(!n[s+48>>2]){n[s+76>>2]=0;break a}t=s,j=y(q(n[s+48>>2],20)),n[t+44>>2]=j;if(!n[s+44>>2]){n[s+76>>2]=3;break a}n[s+40>>2]=n[s+44>>2];n[s+36>>2]=n[s+72>>2];n[s+32>>2]=n[s+68>>2]-n[n[s+52>>2]>>2];n[s+28>>2]=0;while(1){if(p[s+28>>2]<p[s+48>>2]){if(p[s+32>>2]<1){M(n[s+44>>2],n[s+28>>2]);n[s+76>>2]=1;break a}m[s+27|0]=o[n[s+36>>2]];n[s+36>>2]=n[s+36>>2]+1;n[s+32>>2]=n[s+32>>2]-1;d:{if(!o[s+27|0]|o[s+27|0]==1|(o[s+27|0]==2|o[s+27|0]==3))break d;if(o[s+27|0]==4|o[s+27|0]==9|o[s+27|0]==10)break d;if(Q(o[s+27|0])&1)break d;M(n[s+44>>2],n[s+28>>2]);n[s+76>>2]=6;break a}h=n[s+40>>2];n[h>>2]=o[s+27|0]&15|n[h>>2]&-16;e:{f:{if(!(o[s+27|0]==2|o[s+27|0]==4|o[s+27|0]==9)&&o[s+27|0]!=10)break f;h=n[s+40>>2];n[h>>2]=n[h>>2]&-268435441;n[s+40>>2]=n[s+40>>2]+20;break e}if(Q(o[s+27|0])&1){t=s,j=x(n[s+40>>2],s+36|0,s+32|0),n[t+20>>2]=j;if(!n[s+20>>2]){n[s+40>>2]=n[s+40>>2]+20;break e}M(n[s+44>>2],n[s+28>>2]);n[s+76>>2]=n[s+20>>2];break a}n[s+16>>2]=0;if(p[s+32>>2]<3){M(n[s+44>>2],n[s+28>>2]);n[s+76>>2]=1;break a}h=n[s+36>>2];i=o[h|0]|o[h+1|0]<<8;m[s+16|0]=i;m[s+17|0]=i>>>8;m[s+18|0]=o[h+2|0];n[s+36>>2]=n[s+36>>2]+3;n[s+32>>2]=n[s+32>>2]-3;if(!(n[s+16>>2]==1|o[s+27|0]!=1)){M(n[s+44>>2],n[s+28>>2]);n[s+76>>2]=7;break a}h=n[s+40>>2];n[h>>2]=n[h>>2]&-268435441|(n[s+16>>2]&16777215)<<4;if(o[s+27|0]==3){if(n[s+16>>2]!=1){M(n[s+44>>2],n[s+28>>2]);n[s+76>>2]=10;break a}m[s+15|0]=0;if(p[s+32>>2]<1){H(n[s+44>>2]);n[s+76>>2]=1;break a}m[s+15|0]=o[n[s+36>>2]];n[s+36>>2]=n[s+36>>2]+1;n[s+32>>2]=n[s+32>>2]-1;g:{if(o[s+15|0]<=4){m[n[s+40>>2]+4|0]=o[s+15|0];break g}m[n[s+40>>2]+4|0]=4}n[s+40>>2]=n[s+40>>2]+20;break e}t=s,j=O(s+36|0,s+32|0,s+14|0,s+13|0),n[t+8>>2]=j;if(n[s+8>>2]){M(n[s+44>>2],n[s+28>>2]);n[s+76>>2]=n[s+8>>2];break a}if(o[s+27|0]==1){h=n[s+40>>2];m[h+4|0]=m[h+4|0]&1|o[s+13|0]<<1;n[s+40>>2]=n[s+40>>2]+20;break e}if(!o[s+27|0]){t=s,j=K(s+36|0,s+32|0,n[s+16>>2],n[s+40>>2]+8|0,n[s+40>>2]+12|0),n[t+4>>2]=j;if(n[s+4>>2]){M(n[s+44>>2],n[s+28>>2]);n[s+76>>2]=n[s+4>>2];break a}h=n[s+40>>2];m[h+4|0]=m[s+14|0]&1|o[h+4|0]&254;h=n[s+40>>2];m[h+4|0]=m[h+4|0]&1|o[s+13|0]<<1;n[s+40>>2]=n[s+40>>2]+20}}n[s+28>>2]=n[s+28>>2]+1;continue}break}if(n[s+32>>2]){M(n[s+44>>2],n[s+48>>2]);n[s+76>>2]=1;break a}n[n[s+64>>2]>>2]=n[s+44>>2];n[n[s+60>>2]>>2]=n[s+48>>2];n[s+76>>2]=0}u=s+80|0;return n[s+76>>2]}function x(h,i,j){var k=0,l=0;k=u-32|0;u=k;n[k+24>>2]=h;n[k+20>>2]=i;n[k+16>>2]=j;a:{if(!(Q(n[n[k+24>>2]>>2]&15)&1)){n[k+28>>2]=1;break a}if(p[n[k+16>>2]>>2]<1){n[k+28>>2]=1;break a}m[n[k+24>>2]+4|0]=o[n[n[k+20>>2]>>2]];h=n[k+20>>2];n[h>>2]=n[h>>2]+1;h=n[k+16>>2];n[h>>2]=n[h>>2]-1;if((n[n[k+24>>2]>>2]&15)==8){h=n[k+24>>2];n[h>>2]=n[h>>2]&-268435441;n[k+28>>2]=0;break a}if(p[n[k+16>>2]>>2]<3){n[k+28>>2]=11;break a}n[k+12>>2]=0;h=n[n[k+20>>2]>>2];i=o[h|0]|o[h+1|0]<<8;m[k+12|0]=i;m[k+13|0]=i>>>8;m[k+14|0]=o[h+2|0];h=n[k+20>>2];n[h>>2]=n[h>>2]+3;h=n[k+16>>2];n[h>>2]=n[h>>2]-3;h=n[k+24>>2];n[h>>2]=n[h>>2]&-268435441|(n[k+12>>2]&16777215)<<4;if(p[n[k+16>>2]>>2]<p[k+12>>2]){n[k+28>>2]=11;break a}if((n[n[k+24>>2]>>2]&15)==5){n[n[k+24>>2]+12>>2]=n[k+12>>2];h=y(n[k+12>>2]);n[n[k+24>>2]+8>>2]=h;if(!n[n[k+24>>2]+8>>2]){n[k+28>>2]=3;break a}A(n[n[k+24>>2]+8>>2],n[n[k+20>>2]>>2],n[k+12>>2]);h=n[k+20>>2];n[h>>2]=n[k+12>>2]+n[h>>2];h=n[k+16>>2];n[h>>2]=n[h>>2]-n[k+12>>2];n[k+28>>2]=0;break a}l=k,j=O(n[k+20>>2],n[k+16>>2],k+11|0,k+10|0),n[l+4>>2]=j;if(n[k+4>>2]){n[k+28>>2]=n[k+4>>2];break a}if((n[n[k+24>>2]>>2]&15)==7){h=n[k+24>>2];m[h+8|0]=m[h+8|0]&1|o[k+10|0]<<1;n[k+28>>2]=0;break a}if((n[n[k+24>>2]>>2]&15)==6){l=k,j=K(n[k+20>>2],n[k+16>>2],n[k+12>>2],n[k+24>>2]+12|0,n[k+24>>2]+16|0),n[l>>2]=j;if(n[k>>2]){n[k+28>>2]=n[k>>2];break a}h=n[k+24>>2];m[h+8|0]=m[k+11|0]&1|o[h+8|0]&254;h=n[k+24>>2];m[h+8|0]=m[h+8|0]&1|o[k+10|0]<<1;n[k+28>>2]=0;break a}n[k+28>>2]=1}u=k+32|0;return n[k+28>>2]}function y(l){var m=0,h,o=0,i=0,p=0,j=0,q=0,s=0,k=0,t;q=8;a:{b:{while(1){if(q+-1&q)break b;q=q>>>0>8?q:8;o=n[515];j=o;p=n[514];s=p;l=l>>>0>8?l+3&-4:8;c:{if(l>>>0<=127){i=(l>>>3|0)+-1|0;break c}m=r(l);i=((l>>>29-m^4)-(m<<2)|0)+110|0;if(l>>>0<=4095)break c;m=((l>>>30-m^2)-(m<<1)|0)+71|0;i=m>>>0<63?m:63}m=i;h=m&31;32<=(m&63)>>>0?(m=0,h=o>>>h|0):(m=o>>>h|0,h=((1<<h)-1&o)<<32-h|s>>>h);o=m;if(m|h){while(1){j=h;p=la(h,o);m=p;h=m&31;32<=(m&63)>>>0?(m=0,j=o>>>h|0):(m=o>>>h|0,j=((1<<h)-1&o)<<32-h|j>>>h);o=m;i=i+p|0;p=i<<4;m=n[p+1032>>2];s=p+1024|0;d:{if((m|0)!=(s|0)){h=E(m,q,l);if(h)break a;h=n[m+4>>2];n[h+8>>2]=n[m+8>>2];n[n[m+8>>2]+4>>2]=h;n[m+8>>2]=s;h=p+1028|0;n[m+4>>2]=n[h>>2];n[h>>2]=m;n[n[m+4>>2]+8>>2]=m;i=i+1|0;h=(o&1)<<31|j>>>1;o=o>>>1|0;break d}m=n[515];k=2056,t=n[514]&L(i),n[k>>2]=t;n[515]=v&m;h=j^1}if(h|o)continue;break}p=n[514];j=n[515]}o=r(j);o=63-((o|0)==32?r(p)+32|0:o)<<4;m=o+1024|0;o=n[o+1032>>2];e:{if(!j&p>>>0<1073741824|j>>>0<0)break e;i=99;if((m|0)==(o|0))break e;while(1){if(!i)break e;h=E(o,q,l);if(h)break a;i=i+-1|0;o=n[o+8>>2];if((m|0)!=(o|0))continue;break}o=m}if(D(l+48|0))continue;break}if((m|0)==(o|0))break b;while(1){h=E(o,q,l);if(h)break a;o=n[o+8>>2];if((m|0)!=(o|0))continue;break}}h=0}return h}function z(h,i,j,k){var l=0;l=u-48|0;u=l;n[l+40>>2]=h;n[l+36>>2]=i;n[l+32>>2]=j;n[l+28>>2]=k;n[l+24>>2]=0;n[l+20>>2]=n[l+40>>2];a:{b:{c:{while(1){if(p[l+36>>2]<=0)break b;n[l+16>>2]=n[l+20>>2];m[l+15|0]=o[n[l+20>>2]];n[l+36>>2]=n[l+36>>2]-1;n[l+20>>2]=n[l+20>>2]+1;d:{if(!(o[l+15|0]==2|o[l+15|0]==4|o[l+15|0]==9)&&o[l+15|0]!=10)break d;n[l+24>>2]=n[l+24>>2]+1;continue}n[l+8>>2]=1;if(Q(o[l+15|0])&1){if(p[l+36>>2]<1){n[n[l+32>>2]>>2]=n[l+16>>2];n[n[l+28>>2]>>2]=n[l+36>>2]+n[l+8>>2];break a}n[l+36>>2]=n[l+36>>2]-1;n[l+8>>2]=n[l+8>>2]+1;n[l+20>>2]=n[l+20>>2]+1;if(o[l+15|0]==8){n[l+24>>2]=n[l+24>>2]+1;continue}}if(p[l+36>>2]<3)break c;n[l+4>>2]=0;h=l+4|0;i=n[l+20>>2];j=o[i|0]|o[i+1|0]<<8;m[h|0]=j;m[h+1|0]=j>>>8;m[h+2|0]=o[i+2|0];n[l+36>>2]=n[l+36>>2]-3;n[l+8>>2]=n[l+8>>2]+3;n[l+20>>2]=n[l+20>>2]+3;if(p[l+4>>2]<=p[l+36>>2]){n[l+24>>2]=n[l+24>>2]+1;n[l+20>>2]=n[l+4>>2]+n[l+20>>2];n[l+36>>2]=n[l+36>>2]-n[l+4>>2];continue}break}n[n[l+32>>2]>>2]=n[l+16>>2];n[n[l+28>>2]>>2]=n[l+36>>2]+n[l+8>>2];break a}n[n[l+32>>2]>>2]=n[l+16>>2];n[n[l+28>>2]>>2]=n[l+36>>2]+n[l+8>>2];break a}n[n[l+28>>2]>>2]=n[l+36>>2]}n[l+44>>2]=n[l+24>>2];u=l+48|0;return n[l+44>>2]}function A(i,j,k){var l,h;if(k>>>0>=512){s(i|0,j|0,k|0)|0;return}l=i+k|0;a:{if(!((i^j)&3)){b:{if((k|0)<1){k=i;break b}if(!(i&3)){k=i;break b}k=i;while(1){m[k|0]=o[j|0];j=j+1|0;k=k+1|0;if(k>>>0>=l>>>0)break b;if(k&3)continue;break}}i=l&-4;c:{if(i>>>0<64)break c;h=i+-64|0;if(k>>>0>h>>>0)break c;while(1){n[k>>2]=n[j>>2];n[k+4>>2]=n[j+4>>2];n[k+8>>2]=n[j+8>>2];n[k+12>>2]=n[j+12>>2];n[k+16>>2]=n[j+16>>2];n[k+20>>2]=n[j+20>>2];n[k+24>>2]=n[j+24>>2];n[k+28>>2]=n[j+28>>2];n[k+32>>2]=n[j+32>>2];n[k+36>>2]=n[j+36>>2];n[k+40>>2]=n[j+40>>2];n[k+44>>2]=n[j+44>>2];n[k+48>>2]=n[j+48>>2];n[k+52>>2]=n[j+52>>2];n[k+56>>2]=n[j+56>>2];n[k+60>>2]=n[j+60>>2];j=j- -64|0;k=k- -64|0;if(k>>>0<=h>>>0)continue;break}}if(k>>>0>=i>>>0)break a;while(1){n[k>>2]=n[j>>2];j=j+4|0;k=k+4|0;if(k>>>0<i>>>0)continue;break}break a}if(l>>>0<4){k=i;break a}h=l+-4|0;if(h>>>0<i>>>0){k=i;break a}k=i;while(1){m[k|0]=o[j|0];m[k+1|0]=o[j+1|0];m[k+2|0]=o[j+2|0];m[k+3|0]=o[j+3|0];j=j+4|0;k=k+4|0;if(k>>>0<=h>>>0)continue;break}}if(k>>>0<l>>>0)while(1){m[k|0]=o[j|0];j=j+1|0;k=k+1|0;if((l|0)!=(k|0))continue;break}}function B(i,j,k,l,q,r,h){var s=0,t=0;s=u+-64|0;u=s;m[s+59|0]=i;n[s+52>>2]=j;n[s+48>>2]=k;m[s+47|0]=l;m[s+46|0]=q;n[s+40>>2]=r;n[s+36>>2]=h;a:{if(!(!(m[s+47|0]&1)|o[s+46|0]<=127)){n[s+60>>2]=4;break a}b:{if(!(!n[s+52>>2]|(!n[s+40>>2]|!n[s+36>>2]))&&p[s+48>>2]<=16777215)break b;n[s+60>>2]=5;break a}n[s+32>>2]=n[s+48>>2]+6;t=s,k=y(n[s+32>>2]),n[t+28>>2]=k;if(!n[s+28>>2]){n[s+60>>2]=3;break a}n[s+24>>2]=n[s+28>>2];m[s+23|0]=6;m[n[s+24>>2]]=o[s+23|0];n[s+24>>2]=n[s+24>>2]+1;m[n[s+24>>2]]=o[s+59|0];n[s+24>>2]=n[s+24>>2]+1;n[s+16>>2]=n[s+48>>2]+1;if(p[s+16>>2]<p[s+48>>2]){H(n[s+28>>2]);n[s+60>>2]=9;break a}i=n[s+24>>2];j=o[s+16|0]|o[s+17|0]<<8;m[i|0]=j;m[i+1|0]=j>>>8;m[i+2|0]=o[s+18|0];n[s+24>>2]=n[s+24>>2]+3;m[s+15|0]=o[s+46|0];m[s+47|0]&1&&(m[s+15|0]=o[s+15|0]|128);m[n[s+24>>2]]=o[s+15|0];n[s+24>>2]=n[s+24>>2]+1;A(n[s+24>>2],n[s+52>>2],n[s+48>>2]);n[n[s+40>>2]>>2]=n[s+28>>2];n[n[s+36>>2]>>2]=n[s+32>>2];n[s+60>>2]=0}u=s- -64|0;return n[s+60>>2]}function C(i,j,k,l,q,r){var h=0,s=0;h=u-48|0;u=h;n[h+40>>2]=i;n[h+36>>2]=j;m[h+35|0]=k;m[h+34|0]=l;n[h+28>>2]=q;n[h+24>>2]=r;a:{if(!(!(m[h+35|0]&1)|o[h+34|0]<=127)){n[h+44>>2]=4;break a}b:{if(!(!n[h+40>>2]|(!n[h+28>>2]|!n[h+24>>2]))&&p[h+36>>2]<=16777215)break b;n[h+44>>2]=5;break a}n[h+20>>2]=n[h+36>>2]+5;s=h,k=y(n[h+20>>2]),n[s+16>>2]=k;if(!n[h+16>>2]){n[h+44>>2]=3;break a}n[h+12>>2]=n[h+16>>2];m[h+11|0]=0;m[n[h+12>>2]]=o[h+11|0];n[h+12>>2]=n[h+12>>2]+1;n[h+4>>2]=n[h+36>>2]+1;if(p[h+4>>2]<p[h+36>>2]){H(n[h+16>>2]);n[h+44>>2]=9;break a}i=n[h+12>>2];j=o[h+4|0]|o[h+5|0]<<8;m[i|0]=j;m[i+1|0]=j>>>8;m[i+2|0]=o[h+6|0];n[h+12>>2]=n[h+12>>2]+3;m[h+3|0]=o[h+34|0];m[h+35|0]&1&&(m[h+3|0]=o[h+3|0]|128);m[n[h+12>>2]]=o[h+3|0];n[h+12>>2]=n[h+12>>2]+1;A(n[h+12>>2],n[h+40>>2],n[h+36>>2]);n[n[h+28>>2]>>2]=n[h+16>>2];n[n[h+24>>2]>>2]=n[h+20>>2];n[h+44>>2]=0}u=h+48|0;return n[h+44>>2]}function D(k){var l,h=0,m,i,o=0,j;l=ma(k);if((l|0)>=1){h=16;i=k+l|0;m=i+-16|0;n[m+12>>2]=16;n[m>>2]=16;k=n[512];a:{b:{if(!(!k|(l|0)!=n[k+8>>2])){h=n[l+-4>>2];o=l-(h>>31^h)|0;j=n[o+-4>>2];n[k+8>>2]=i;h=-16;k=o-(j>>31^j)|0;if(n[(k+n[k>>2]|0)+-4>>2]>-1)break b;l=n[k+4>>2];n[l+8>>2]=n[k+8>>2];n[n[k+8>>2]+4>>2]=l;l=m-k|0;n[k>>2]=l;break a}n[l+12>>2]=16;n[l>>2]=16;n[l+8>>2]=i;n[l+4>>2]=k;n[512]=l}k=l+h|0;l=m-k|0;n[k>>2]=l}n[((l&-4)+k|0)+-4>>2]=l^-1;o=k;h=n[k>>2]+-8|0;c:{if(h>>>0<=127){l=(h>>>3|0)+-1|0;break c}i=r(h);l=((h>>>29-i^4)-(i<<2)|0)+110|0;if(h>>>0<=4095)break c;l=((h>>>30-i^2)-(i<<1)|0)+71|0;l=l>>>0<63?l:63}m=l<<4;n[o+4>>2]=m+1024;m=m+1032|0;n[k+8>>2]=n[m>>2];n[m>>2]=k;n[n[k+8>>2]+4>>2]=k;m=n[515];k=l&31;32<=(l&63)>>>0?(l=1<<k,k=0):(l=(1<<k)-1&1>>>32-k,k=1<<k);n[514]=k|n[514];n[515]=l|m;k=1}else k=0;return k}function E(k,l,h){var m,i=0,o=0,j=0;i=k+4|0;m=(i+l|0)+-1&0-l;l=n[k>>2];if(m+h>>>0<=(l+k|0)+-4>>>0){o=n[k+4>>2];n[o+8>>2]=n[k+8>>2];n[n[k+8>>2]+4>>2]=o;(i|0)!=(m|0)&&(m=m-i|0,o=n[k+-4>>2],o=k-(o>>31^o)|0,i=m+n[o>>2]|0,n[o>>2]=i,n[(o+(i&-4)|0)+-4>>2]=i,k=k+m|0,l=l-m|0,n[k>>2]=l);a:{if(h+24>>>0<=l>>>0){i=(k+h|0)+8|0;l=l-h|0;m=l+-8|0;n[i>>2]=m;n[(i+(m&-4)|0)+-4>>2]=7-l;j=i;o=n[i>>2]+-8|0;b:{if(o>>>0<=127){m=(o>>>3|0)+-1|0;break b}l=r(o);m=((o>>>29-l^4)-(l<<2)|0)+110|0;if(o>>>0<=4095)break b;l=((o>>>30-l^2)-(l<<1)|0)+71|0;m=l>>>0<63?l:63}l=m;m=l<<4;n[j+4>>2]=m+1024;m=m+1032|0;n[i+8>>2]=n[m>>2];n[m>>2]=i;n[n[i+8>>2]+4>>2]=i;m=n[515];i=l&31;32<=(l&63)>>>0?(l=1<<i,j=0):(l=(1<<i)-1&1>>>32-i,j=1<<i);n[514]=j|n[514];n[515]=l|m;l=h+8|0;n[k>>2]=l;n[((l&-4)+k|0)+-4>>2]=l;break a}n[(k+l|0)+-4>>2]=l}k=k+4|0}else k=0;return k}function F(i,j,k,l,q){var r=0,h=0;r=u-48|0;u=r;m[r+43|0]=i;n[r+36>>2]=j;n[r+32>>2]=k;n[r+28>>2]=l;n[r+24>>2]=q;a:{if(!(n[r+24>>2]?n[r+28>>2]:0)){n[r+44>>2]=5;break a}n[n[r+28>>2]>>2]=0;n[n[r+24>>2]>>2]=0;if(!(p[r+32>>2]<=16777215?n[r+36>>2]:0)){n[r+44>>2]=5;break a}n[r+20>>2]=n[r+32>>2]+5;h=r,k=y(n[r+20>>2]),n[h+16>>2]=k;if(!n[r+16>>2]){n[r+44>>2]=3;break a}n[r+12>>2]=n[r+16>>2];m[r+11|0]=5;m[n[r+12>>2]]=o[r+11|0];n[r+12>>2]=n[r+12>>2]+1;m[n[r+12>>2]]=o[r+43|0];n[r+12>>2]=n[r+12>>2]+1;i=n[r+12>>2];j=o[r+32|0]|o[r+33|0]<<8;m[i|0]=j;m[i+1|0]=j>>>8;m[i+2|0]=o[r+34|0];n[r+12>>2]=n[r+12>>2]+3;A(n[r+12>>2],n[r+36>>2],n[r+32>>2]);n[r+12>>2]=n[r+32>>2]+n[r+12>>2];n[n[r+28>>2]>>2]=n[r+16>>2];n[n[r+24>>2]>>2]=n[r+20>>2];n[r+44>>2]=0}u=r+48|0;return n[r+44>>2]}function H(j){var k=0,h,l=0,i,m=0;if(j){h=j+-4|0;i=n[h>>2];l=i;k=h;m=n[j+-8>>2];(m|0)<=-1&&(j=h+m|0,k=n[j+5>>2],n[k+8>>2]=n[j+9>>2],n[n[j+9>>2]+4>>2]=k,l=i+(m^-1)|0,k=j+1|0);j=h+i|0;h=n[j>>2];(h|0)!=n[(j+h|0)+-4>>2]&&(i=n[j+4>>2],n[i+8>>2]=n[j+8>>2],n[n[j+8>>2]+4>>2]=i,l=h+l|0);n[k>>2]=l;n[((l&-4)+k|0)+-4>>2]=l^-1;m=k;l=n[k>>2]+-8|0;a:{if(l>>>0<=127){j=(l>>>3|0)+-1|0;break a}i=r(l);j=((l>>>29-i^4)-(i<<2)|0)+110|0;if(l>>>0<=4095)break a;j=((l>>>30-i^2)-(i<<1)|0)+71|0;j=j>>>0<63?j:63}h=j<<4;n[m+4>>2]=h+1024;h=h+1032|0;n[k+8>>2]=n[h>>2];n[h>>2]=k;n[n[k+8>>2]+4>>2]=k;h=n[515];k=j&31;32<=(j&63)>>>0?(j=1<<k,k=0):(j=(1<<k)-1&1>>>32-k,k=1<<k);n[514]=k|n[514];n[515]=j|h}}function I(i,j,k,l){var h=0,p=0;h=u-48|0;u=h;m[h+43|0]=i;m[h+42|0]=j;n[h+36>>2]=k;n[h+32>>2]=l;a:{if(o[h+42|0]>127){n[h+44>>2]=4;break a}if(!(n[h+32>>2]?n[h+36>>2]:0)){n[h+44>>2]=5;break a}n[h+28>>2]=6;p=h,k=y(n[h+28>>2]),n[p+24>>2]=k;if(!n[h+24>>2]){n[h+44>>2]=3;break a}n[h+20>>2]=n[h+24>>2];m[h+19|0]=7;m[n[h+20>>2]]=o[h+19|0];n[h+20>>2]=n[h+20>>2]+1;m[n[h+20>>2]]=o[h+43|0];n[h+20>>2]=n[h+20>>2]+1;n[h+12>>2]=1;i=n[h+20>>2];j=o[h+12|0]|o[h+13|0]<<8;m[i|0]=j;m[i+1|0]=j>>>8;m[i+2|0]=o[h+14|0];n[h+20>>2]=n[h+20>>2]+3;m[n[h+20>>2]]=o[h+42|0];n[n[h+36>>2]>>2]=n[h+24>>2];n[n[h+32>>2]>>2]=n[h+28>>2];n[h+44>>2]=0}u=h+48|0;return n[h+44>>2]}function J(h,i,j){var k=0,l=0;k=u-48|0;u=k;n[k+40>>2]=h;n[k+36>>2]=i;n[k+32>>2]=j;a:{if(!(n[k+32>>2]?n[k+36>>2]:0)){n[k+44>>2]=5;break a}if(p[k+40>>2]>4){n[k+44>>2]=8;break a}n[k+28>>2]=5;l=k,j=y(n[k+28>>2]),n[l+24>>2]=j;if(!n[k+24>>2]){n[k+44>>2]=3;break a}n[k+20>>2]=n[k+24>>2];m[k+19|0]=3;m[n[k+20>>2]]=o[k+19|0];n[k+20>>2]=n[k+20>>2]+1;n[k+12>>2]=1;h=n[k+20>>2];i=o[k+12|0]|o[k+13|0]<<8;m[h|0]=i;m[h+1|0]=i>>>8;m[h+2|0]=o[k+14|0];n[k+20>>2]=n[k+20>>2]+3;m[k+11|0]=n[k+40>>2];m[n[k+20>>2]]=o[k+11|0];n[n[k+36>>2]>>2]=n[k+24>>2];n[n[k+32>>2]>>2]=n[k+28>>2];n[k+44>>2]=0}u=k+48|0;return n[k+44>>2]}function ha(i,j,k){var l=0,h=0;l=u-48|0;u=l;m[l+43|0]=i;n[l+36>>2]=j;n[l+32>>2]=k;a:{if(o[l+43|0]>127){n[l+44>>2]=4;break a}if(!(n[l+32>>2]?n[l+36>>2]:0)){n[l+44>>2]=5;break a}n[l+28>>2]=5;h=l,k=y(n[l+28>>2]),n[h+24>>2]=k;if(!n[l+24>>2]){n[l+44>>2]=3;break a}n[l+20>>2]=n[l+24>>2];m[l+19|0]=1;m[n[l+20>>2]]=o[l+19|0];n[l+20>>2]=n[l+20>>2]+1;n[l+12>>2]=1;i=n[l+20>>2];j=o[l+12|0]|o[l+13|0]<<8;m[i|0]=j;m[i+1|0]=j>>>8;m[i+2|0]=o[l+14|0];n[l+20>>2]=n[l+20>>2]+3;m[n[l+20>>2]]=o[l+43|0];n[n[l+36>>2]>>2]=n[l+24>>2];n[n[l+32>>2]>>2]=n[l+28>>2];n[l+44>>2]=0}u=l+48|0;return n[l+44>>2]}function K(j,k,h,l,i){var m=0;m=u-32|0;u=m;n[m+24>>2]=j;n[m+20>>2]=k;n[m+16>>2]=h;n[m+12>>2]=l;n[m+8>>2]=i;a:{if(p[m+16>>2]<1){n[m+28>>2]=9;break a}n[n[m+8>>2]>>2]=n[m+16>>2]-1;if(p[n[m+20>>2]>>2]<p[n[m+8>>2]>>2]){n[m+28>>2]=1;break a}j=y(n[n[m+8>>2]>>2]);n[n[m+12>>2]>>2]=j;if(!n[n[m+12>>2]>>2]){n[m+28>>2]=3;break a}A(n[n[m+12>>2]>>2],n[n[m+24>>2]>>2],n[n[m+8>>2]>>2]);j=n[m+24>>2];n[j>>2]=n[n[m+8>>2]>>2]+n[j>>2];j=n[m+20>>2];n[j>>2]=n[j>>2]-n[n[m+8>>2]>>2];n[m+28>>2]=0}u=m+32|0;return n[m+28>>2]}function L(k){var l,h,m,i,j,n;m=k&63;l=m;h=l&31;32<=l>>>0?(l=0,j=-1>>>h|0):(l=-1>>>h|0,j=(1<<h)-1<<32-h|-1>>>h);h=j&-2;i=m&31;32<=m>>>0?(l=h<<i,j=0):(l=(1<<i)-1&h>>>32-i|l<<i,j=h<<i);h=l;n=0-k&63;l=n;k=l&31;32<=l>>>0?(l=-1<<k,k=0):(l=(1<<k)-1&-1>>>32-k|-1<<k,k=-1<<k);i=k&-2;m=n&31;32<=n>>>0?(k=0,l=l>>>m|0):(k=l>>>m|0,l=((1<<m)-1&l)<<32-m|i>>>m);l=l|j;v=k|h;return l}function M(i,j){var h=0;h=u-16|0;u=h;n[h+12>>2]=i;n[h+8>>2]=j;n[h+4>>2]=0;while(1){if(p[h+4>>2]<p[h+8>>2]){n[h>>2]=n[h+12>>2]+q(n[h+4>>2],20);a:{if(!(n[n[h>>2]>>2]&15)){H(n[n[h>>2]+8>>2]);break a}b:{if((n[n[h>>2]>>2]&15)==5){H(n[n[h>>2]+8>>2]);break b}(n[n[h>>2]>>2]&15)==6&&H(n[n[h>>2]+12>>2])}}n[h+4>>2]=n[h+4>>2]+1;continue}break}H(n[h+12>>2]);u=h+16|0}function N(i,j,k){var l=0,h=0;l=u-32|0;u=l;m[l+27|0]=i;n[l+20>>2]=j;n[l+16>>2]=k;n[n[l+16>>2]>>2]=2;h=l,i=y(n[n[l+16>>2]>>2]),n[h+12>>2]=i;a:{if(!n[l+12>>2]){n[l+28>>2]=3;break a}n[n[l+20>>2]>>2]=n[l+12>>2];m[l+11|0]=8;m[n[l+12>>2]]=o[l+11|0];n[l+12>>2]=n[l+12>>2]+1;m[n[l+12>>2]]=o[l+27|0];n[l+28>>2]=0}u=l+32|0;return n[l+28>>2]}function O(h,i,j,k){var l;l=u-32|0;n[l+24>>2]=h;n[l+20>>2]=i;n[l+16>>2]=j;n[l+12>>2]=k;m[l+11|0]=0;a:{if(p[n[l+20>>2]>>2]<1){n[l+28>>2]=1;break a}m[l+11|0]=o[n[n[l+24>>2]>>2]];h=n[l+24>>2];n[h>>2]=n[h>>2]+1;h=n[l+20>>2];n[h>>2]=n[h>>2]-1;m[n[l+16>>2]]=(o[l+11|0]&128)==128;m[n[l+12>>2]]=o[l+11|0]&127;n[l+28>>2]=0}return n[l+28>>2]}function P(h,i){var j=0,k=0;j=u-32|0;u=j;n[j+24>>2]=h;n[j+20>>2]=i;k=j,h=y(1),n[k+16>>2]=h;a:{if(!n[j+16>>2]){n[j+28>>2]=3;break a}m[j+15|0]=10;m[n[j+16>>2]]=o[j+15|0];n[n[j+24>>2]>>2]=n[j+16>>2];n[n[j+20>>2]>>2]=1;n[j+28>>2]=0}u=j+32|0;return n[j+28>>2]}function ia(h,i){var j=0,k=0;j=u-32|0;u=j;n[j+24>>2]=h;n[j+20>>2]=i;k=j,h=y(1),n[k+16>>2]=h;a:{if(!n[j+16>>2]){n[j+28>>2]=3;break a}m[j+15|0]=2;m[n[j+16>>2]]=o[j+15|0];n[n[j+24>>2]>>2]=n[j+16>>2];n[n[j+20>>2]>>2]=1;n[j+28>>2]=0}u=j+32|0;return n[j+28>>2]}function ja(h,i){var j=0,k=0;j=u-32|0;u=j;n[j+24>>2]=h;n[j+20>>2]=i;k=j,h=y(1),n[k+16>>2]=h;a:{if(!n[j+16>>2]){n[j+28>>2]=3;break a}m[j+15|0]=4;m[n[j+16>>2]]=o[j+15|0];n[n[j+24>>2]>>2]=n[j+16>>2];n[n[j+20>>2]>>2]=1;n[j+28>>2]=0}u=j+32|0;return n[j+28>>2]}function ka(h,i){var j=0,k=0;j=u-32|0;u=j;n[j+24>>2]=h;n[j+20>>2]=i;k=j,h=y(1),n[k+16>>2]=h;a:{if(!n[j+16>>2]){n[j+28>>2]=3;break a}m[j+15|0]=9;m[n[j+16>>2]]=o[j+15|0];n[n[j+24>>2]>>2]=n[j+16>>2];n[n[j+20>>2]>>2]=1;n[j+28>>2]=0}u=j+32|0;return n[j+28>>2]}function la(i,j){var h=0,k=0;if(i|j){k=j+-1|0;h=i+-1|0;h>>>0<4294967295&&(k=k+1|0);h=r(i^h)+32|0;i=r(j^k);i=(i|0)==32?h:i;j=63-i|0;v=0-(63<i>>>0)|0;return j}v=0;return 64}function ma(i){var j=0,h;j=n[520];h=i+3&-4;i=j+h|0;a:{if(i>>>0<=j>>>0?(h|0)>=1:0)break a;if(i>>>0>xa()<<16>>>0&&!t(i|0))break a;n[520]=i;return j}n[516]=48;return-1}function Q(h){var i;i=u-16|0;n[i+12>>2]=h;h=1;a:{if(n[i+12>>2]==5)break a;h=1;if(n[i+12>>2]==6)break a;h=1;if(n[i+12>>2]==7)break a;h=n[i+12>>2]==8}return h}function R(){var i=0,j,h;while(1){j=i<<4;h=j+1024|0;n[j+1028>>2]=h;n[j+1032>>2]=h;i=i+1|0;if((i|0)!=64)continue;break}D(48)}function S(k,l,h,m,i,j,n){k=k|0;l=l|0;h=h|0;m=m|0;i=i|0;j=j|0;n=n|0;return B(k,l,h,m,i,j,n)|0}function T(k,l,h,m,i,j){k=k|0;l=l|0;h=h|0;m=m|0;i=i|0;j=j|0;return w(k,l,h,m,i,j)|0}function na(k,l,h,m,i,j){k=k|0;l=l|0;h=h|0;m=m|0;i=i|0;j=j|0;return C(k,l,h,m,i,j)|0}function oa(j,k,h,l,i){j=j|0;k=k|0;h=h|0;l=l|0;i=i|0;return F(j,k,h,l,i)|0}function U(i,j,h,k){i=i|0;j=j|0;h=h|0;k=k|0;return I(i,j,h,k)|0}function pa(i,j,h){i=i|0;j=j|0;h=h|0;return ha(i,j,h)|0}function V(i,j,h){i=i|0;j=j|0;h=h|0;return J(i,j,h)|0}function W(i,j,h){i=i|0;j=j|0;h=h|0;return N(i,j,h)|0}function X(h,i){h=h|0;i=i|0;return q(i,20)+h|0}function Y(h,i){h=h|0;i=i|0;return ka(h,i)|0}function qa(h,i){h=h|0;i=i|0;return P(h,i)|0}function ra(h,i){h=h|0;i=i|0;return ia(h,i)|0}function sa(h,i){h=h|0;i=i|0;return ja(h,i)|0}function Z(h){h=h|0;return o[h+4|0]>>>1|0}function $(h){h=h|0;return o[h+8|0]>>>1|0}function ta(h){h=h|0;return n[h>>2]&15}function ua(h){h=h|0;return m[h+4|0]&1}function va(h){h=h|0;return n[h+16>>2]}function wa(h){h=h|0;return m[h+8|0]&1}function aa(h){h=h|0;return n[h+12>>2]}function ba(h){h=h|0;return n[h+8>>2]}function ca(h){h=h|0;return ya(h|0)|0}function da(h){h=h|0;return o[h+4|0]}function ea(h){h=h|0;return y(h)|0}function fa(h){h=h|0,H(h)}function ga(){R()}function xa(){return j.byteLength/65536|0}function ya(h){h=h|0;var k=xa()|0;h=k+h|0;if(k<h&&h<65536){h=new ArrayBuffer(q(h,65536));var r=new i.Int8Array(h);r.set(m);m=r;m=new i.Int8Array(h);new i.Int16Array(h);n=new i.Int32Array(h);o=new i.Uint8Array(h);new i.Uint16Array(h);p=new i.Uint32Array(h);new i.Float32Array(h);new i.Float64Array(h);j=h;l.buffer=h}return k}return{__wasm_call_ctors:ga,_malloc:ea,_free:fa,_DgwCodecEncodeEmpty:ra,_DgwCodecEncodeDirectStream_Ack:pa,_DgwCodecEncodeDeauth:sa,_DgwCodecEncodeDrain:V,_DgwCodecEncodeDirectStream_Data:na,_DgwCodecEncodeStreamGroup_EstablishStream:oa,_DgwCodecEncodeStreamGroup_EndOfData:W,_DgwCodecEncodeStreamGroup_Data:S,_DgwCodecEncodeStreamGroup_Ack:U,_DgwCodecEncodePing:Y,_DgwCodecEncodePong:qa,_DgwCodecDecode:T,_getFrameType:ta,_getAckIdFromAckFrame:Z,_getAckIdFromDataFrame:Z,_getRequiresAckFromDataFrame:ua,_getDataFromDataFrame:ba,_getDataSizeFromDataFrame:aa,_getDrainReasonFromDrainFrame:da,_getDGWFramePtr:X,_getStreamIdFromStreamGroupFrame:da,_getEncodedParamsFromEstablishStreamFrame:ba,_getEncodedParamsSizeFromEstablishStreamFrame:aa,_getDataFromGroupedStreamDataFrame:aa,_getDataSizeFromGroupedStreamDataFrame:va,_getAckIdFromGroupedStreamDataFrame:$,_getRequiresAckFromGroupedStreamDataFrame:wa,_getAckIdFromGroupedStreamAckFrame:$,__growWasmMemory:ca}}return j({Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:Infinity,Math:Math},k,i.buffer)}(ca,B,C);return{exports:i}},instantiate:function(h,i){return{then:function(i){i({instance:new A.Instance(new A.Module(h))})}}},RuntimeError:Error};z=[];typeof A!=="object"&&y("no native wasm support detected");var B,C=new A.Table({initial:1,maximum:1+0,element:"anyfunc"}),D=!1;function E(h,i){h||U("Assertion failed: "+i)}q=65536;function F(h,i){h%i>0&&(h+=i-h%i);return h}var G,H,I;function J(h){G=h,k.HEAP8=new Int8Array(h),k.HEAP16=new Int16Array(h),k.HEAP32=I=new Int32Array(h),k.HEAPU8=H=new Uint8Array(h),k.HEAPU16=new Uint16Array(h),k.HEAPU32=new Uint32Array(h),k.HEAPF32=new Float32Array(h),k.HEAPF64=new Float64Array(h)}p=5245120;var ha=2080,K=k.INITIAL_MEMORY||8388608;k.wasmMemory?B=k.wasmMemory:B=new A.Memory({initial:K/q,maximum:2147483648/q});B&&(G=B.buffer);G.byteLength;J(G);I[ha>>2]=p;function L(h){while(h.length>0){var i=h.shift();if(typeof i=="function"){i(k);continue}var j=i.func;typeof j==="number"?i.arg===void 0?k.dynCall_v(j):k.dynCall_vi(j,i.arg):j(i.arg===void 0?null:i.arg)}}var M=[],N=[],O=[],P=[];function ia(){if(k.preRun){typeof k.preRun=="function"&&(k.preRun=[k.preRun]);while(k.preRun.length)ma(k.preRun.shift())}L(M)}function ja(){L(N)}function ka(){L(O)}function la(){if(k.postRun){typeof k.postRun=="function"&&(k.postRun=[k.postRun]);while(k.postRun.length)Q(k.postRun.shift())}L(P)}function ma(h){M.unshift(h)}function Q(h){P.unshift(h)}var R=0,S=null,T=null;function na(h){R++,k.monitorRunDependencies&&k.monitorRunDependencies(R)}function oa(h){R--;k.monitorRunDependencies&&k.monitorRunDependencies(R);if(R==0){S!==null&&(clearInterval(S),S=null);if(T){h=T;T=null;h()}}}k.preloadedImages={};k.preloadedAudios={};function U(h){k.onAbort&&k.onAbort(h);h+="";x(h);y(h);D=!0;h="abort("+h+"). Build with -s ASSERTIONS=1 for more info.";throw new A.RuntimeError(h)}function pa(h,i){return String.prototype.startsWith?h.startsWith(i):h.indexOf(i)===0}var V="data:application/octet-stream;base64,";function W(h){return pa(h,V)}var X="dgwcppbridge.wasm";W(X)||(X=v(X));function Y(){try{if(z)return new Uint8Array(z);var h=ba(X);if(h)return h;if(w)return w(X);else throw"both async and sync fetching of the wasm failed"}catch(h){U(h)}}function qa(){return!z&&(s||t)&&typeof fetch==="function"?fetch(X,{credentials:"same-origin"}).then(function(h){if(!h.ok)throw"failed to load wasm binary file at '"+X+"'";return h.arrayBuffer()})["catch"](function(){return Y()}):new(i("Promise"))(function(h,i){h(Y())})}function ra(){var i={env:ca,wasi_snapshot_preview1:ca};function j(i,h){h=i.exports;k.asm=h;oa("wasm-instantiate")}na("wasm-instantiate");function n(h){j(h.instance)}function o(h){return qa().then(function(h){return A.instantiate(h,i)}).then(h,function(h){y("failed to asynchronously prepare wasm: "+h),U(h)})}function p(){if(!z&&typeof A.instantiateStreaming==="function"&&!W(X)&&typeof fetch==="function")fetch(X,{credentials:"same-origin"}).then(function(h){h=A.instantiateStreaming(h,i);return h.then(n,function(h){y("wasm streaming compile failed: "+h);y("falling back to ArrayBuffer instantiation");return o(n)})});else return o(n)}if(k.instantiateWasm)try{var h=k.instantiateWasm(i,j);return h}catch(h){y("Module.instantiateWasm callback failed with error: "+h);return!1}p();return{}}N.push({func:function(){da()}});function sa(h,i,j){H.copyWithin(h,i,i+j)}function Z(){return H.length}function $(h){try{B.grow(h-G.byteLength+65535>>>16);J(B.buffer);return 1}catch(h){}}function ta(h){h=h>>>0;var i=Z(),j=65536,k=2147483648;if(h>k)return!1;var l=16777216;for(var m=1;m<=4;m*=2){var n=i*(1+.2/m);n=Math.min(n,h+100663296);n=Math.min(k,F(Math.max(l,h,n),j));n=$(n);if(n)return!0}return!1}var ua=!1;function va(h){var i=[];for(var j=0;j<h.length;j++){var k=h[j];k>255&&(ua&&E(!1,"Character code "+k+" ("+String.fromCharCode(k)+")  at offset "+j+" not in 0x00-0xFF."),k&=255);i.push(String.fromCharCode(k))}return i.join("")}var wa=typeof atob==="function"?atob:function(h){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",j="",k,l,m,n,o,p=0;h=h.replace(/[^A-Za-z0-9\+\/\=]/g,"");do l=i.indexOf(h.charAt(p++)),m=i.indexOf(h.charAt(p++)),n=i.indexOf(h.charAt(p++)),o=i.indexOf(h.charAt(p++)),l=l<<2|m>>4,m=(m&15)<<4|n>>2,k=(n&3)<<6|o,j=j+String.fromCharCode(l),n!==64&&(j=j+String.fromCharCode(m)),o!==64&&(j=j+String.fromCharCode(k));while(p<h.length);return j};function aa(h){try{h=wa(h);var i=new Uint8Array(h.length);for(var j=0;j<h.length;++j)i[j]=h.charCodeAt(j);return i}catch(h){throw new Error("Converting base64 string to bytes failed.")}}function ba(h){if(!W(h))return;return aa(h.slice(V.length))}var ca={emscripten_memcpy_big:sa,emscripten_resize_heap:ta,memory:B,table:C};K=ra();k.asm=K;var da=k.___wasm_call_ctors=function(){return(da=k.___wasm_call_ctors=k.asm.__wasm_call_ctors).apply(null,arguments)};k.__malloc=function(){return(k.__malloc=k.asm._malloc).apply(null,arguments)};k.__free=function(){return(k.__free=k.asm._free).apply(null,arguments)};k.__DgwCodecEncodeEmpty=function(){return(k.__DgwCodecEncodeEmpty=k.asm._DgwCodecEncodeEmpty).apply(null,arguments)};k.__DgwCodecEncodeDirectStream_Ack=function(){return(k.__DgwCodecEncodeDirectStream_Ack=k.asm._DgwCodecEncodeDirectStream_Ack).apply(null,arguments)};k.__DgwCodecEncodeDeauth=function(){return(k.__DgwCodecEncodeDeauth=k.asm._DgwCodecEncodeDeauth).apply(null,arguments)};k.__DgwCodecEncodeDrain=function(){return(k.__DgwCodecEncodeDrain=k.asm._DgwCodecEncodeDrain).apply(null,arguments)};k.__DgwCodecEncodeDirectStream_Data=function(){return(k.__DgwCodecEncodeDirectStream_Data=k.asm._DgwCodecEncodeDirectStream_Data).apply(null,arguments)};k.__DgwCodecEncodeStreamGroup_EstablishStream=function(){return(k.__DgwCodecEncodeStreamGroup_EstablishStream=k.asm._DgwCodecEncodeStreamGroup_EstablishStream).apply(null,arguments)};k.__DgwCodecEncodeStreamGroup_EndOfData=function(){return(k.__DgwCodecEncodeStreamGroup_EndOfData=k.asm._DgwCodecEncodeStreamGroup_EndOfData).apply(null,arguments)};k.__DgwCodecEncodeStreamGroup_Data=function(){return(k.__DgwCodecEncodeStreamGroup_Data=k.asm._DgwCodecEncodeStreamGroup_Data).apply(null,arguments)};k.__DgwCodecEncodeStreamGroup_Ack=function(){return(k.__DgwCodecEncodeStreamGroup_Ack=k.asm._DgwCodecEncodeStreamGroup_Ack).apply(null,arguments)};k.__DgwCodecEncodePing=function(){return(k.__DgwCodecEncodePing=k.asm._DgwCodecEncodePing).apply(null,arguments)};k.__DgwCodecEncodePong=function(){return(k.__DgwCodecEncodePong=k.asm._DgwCodecEncodePong).apply(null,arguments)};k.__DgwCodecDecode=function(){return(k.__DgwCodecDecode=k.asm._DgwCodecDecode).apply(null,arguments)};k.__getFrameType=function(){return(k.__getFrameType=k.asm._getFrameType).apply(null,arguments)};k.__getAckIdFromAckFrame=function(){return(k.__getAckIdFromAckFrame=k.asm._getAckIdFromAckFrame).apply(null,arguments)};k.__getAckIdFromDataFrame=function(){return(k.__getAckIdFromDataFrame=k.asm._getAckIdFromDataFrame).apply(null,arguments)};k.__getRequiresAckFromDataFrame=function(){return(k.__getRequiresAckFromDataFrame=k.asm._getRequiresAckFromDataFrame).apply(null,arguments)};k.__getDataFromDataFrame=function(){return(k.__getDataFromDataFrame=k.asm._getDataFromDataFrame).apply(null,arguments)};k.__getDataSizeFromDataFrame=function(){return(k.__getDataSizeFromDataFrame=k.asm._getDataSizeFromDataFrame).apply(null,arguments)};k.__getDrainReasonFromDrainFrame=function(){return(k.__getDrainReasonFromDrainFrame=k.asm._getDrainReasonFromDrainFrame).apply(null,arguments)};k.__getDGWFramePtr=function(){return(k.__getDGWFramePtr=k.asm._getDGWFramePtr).apply(null,arguments)};k.__getStreamIdFromStreamGroupFrame=function(){return(k.__getStreamIdFromStreamGroupFrame=k.asm._getStreamIdFromStreamGroupFrame).apply(null,arguments)};k.__getEncodedParamsFromEstablishStreamFrame=function(){return(k.__getEncodedParamsFromEstablishStreamFrame=k.asm._getEncodedParamsFromEstablishStreamFrame).apply(null,arguments)};k.__getEncodedParamsSizeFromEstablishStreamFrame=function(){return(k.__getEncodedParamsSizeFromEstablishStreamFrame=k.asm._getEncodedParamsSizeFromEstablishStreamFrame).apply(null,arguments)};k.__getDataFromGroupedStreamDataFrame=function(){return(k.__getDataFromGroupedStreamDataFrame=k.asm._getDataFromGroupedStreamDataFrame).apply(null,arguments)};k.__getDataSizeFromGroupedStreamDataFrame=function(){return(k.__getDataSizeFromGroupedStreamDataFrame=k.asm._getDataSizeFromGroupedStreamDataFrame).apply(null,arguments)};k.__getAckIdFromGroupedStreamDataFrame=function(){return(k.__getAckIdFromGroupedStreamDataFrame=k.asm._getAckIdFromGroupedStreamDataFrame).apply(null,arguments)};k.__getRequiresAckFromGroupedStreamDataFrame=function(){return(k.__getRequiresAckFromGroupedStreamDataFrame=k.asm._getRequiresAckFromGroupedStreamDataFrame).apply(null,arguments)};k.__getAckIdFromGroupedStreamAckFrame=function(){return(k.__getAckIdFromGroupedStreamAckFrame=k.asm._getAckIdFromGroupedStreamAckFrame).apply(null,arguments)};var ea=k.__growWasmMemory=function(){return(ea=k.__growWasmMemory=k.asm.__growWasmMemory).apply(null,arguments)};k.asm=K;var fa;T=function h(){fa||ga(),fa||(T=h)};function ga(h){h||r;if(R>0)return;ia();if(R>0)return;function i(){if(fa)return;fa=!0;k.calledRun=!0;if(D)return;ja();ka();o(k);k.onRuntimeInitialized&&k.onRuntimeInitialized();la()}k.setStatus?(k.setStatus("Running..."),setTimeout(function(){setTimeout(function(){k.setStatus("")},1),i()},1)):i()}k.run=ga;if(k.preInit){typeof k.preInit=="function"&&(k.preInit=[k.preInit]);while(k.preInit.length>0)k.preInit.pop()()}ga();return k.ready}}();typeof m==="object"&&typeof l==="object"?l.exports=n:typeof define==="function"&&define.amd?define([],function(){return n}):typeof m==="object"&&(m.Module=n)}),null);
__d("DGWUtils",["DGWConstants","DGWCppBridge","DGWLoggingContext","Random","URI","regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";f.uuidv4=a;var g,h=4;function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var c=b("Random").random()*16|0;a=a=="x"?c:c&3|8;return a.toString(16)})}var i=null;c=function(){function a(){}a.initialize=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:if(!(i!=null)){a.next=2;break}return a.abrupt("return");case 2:a.next=4;return b("regeneratorRuntime").awrap(b("DGWCppBridge")());case 4:i=a.sent;case 5:case"end":return a.stop()}},null,this)};a.constructConnectUrl=function(a){var c,d,e=a.appId,f=a.appVersion,h=a.authType,i=a.dgwVersion,j=a.fbId,k=a.tier,l=a.loggingId,m=a.headers,n=a.endpoint,o=a.serviceId;a=a.regionHint;var p=(c={},c[(d=b("DGWConstants")).HEADER_CONSTANTS.HEADER_APPID]=e,c[d.HEADER_CONSTANTS.HEADER_APPVERSION]=f,c[d.HEADER_CONSTANTS.HEADER_AUTHTYPE]=h,c[d.HEADER_CONSTANTS.HEADER_DGW_VERSION]=i,c[d.HEADER_CONSTANTS.HEADER_UUID]=j,c[d.HEADER_CONSTANTS.HEADER_TARGET_TIER]=k,c);l!==void 0&&(p[b("DGWConstants").HEADER_CONSTANTS.HEADER_LOGGING_ID]=l);a!==void 0&&(p[b("DGWConstants").HEADER_CONSTANTS.HEADER_REGIONHINT]=a);Object.keys(m).forEach(function(a){var c=b("DGWConstants").HEADER_CONSTANTS.APPHEADER_PREFIX+a;Object.prototype.hasOwnProperty.call(p,c)||(p[c]=m[a])});e=new(g||(g=b("URI")))(n);e.setQueryData(p);e.setPath(e.getPath()+"/"+o);return e.toString()};return a}();f.DGWUtils=c;d=function(){function a(a,b){this.$1=null,this.$2=a,this.$3=b}a.initialize=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:if(!(i!=null)){a.next=2;break}return a.abrupt("return");case 2:a.next=4;return b("regeneratorRuntime").awrap(b("DGWCppBridge")());case 4:i=a.sent;case 5:case"end":return a.stop()}},null,this)};var c=a.prototype;c.malloc=function(a){return i.__malloc(a)};c.free=function(a){i.__free(a)};c.append=function(a){if(this.$1==null){this.$1=a;return}var b=this.$1.length,c=new Uint8Array(b+a.length);c.set(this.$1,0);c.set(a,b);this.$1=c};c.processData=function(){var a=this;if(this.$1==null)return;var c=this.$1.length,d=this.malloc(c),e=i.HEAPU8.subarray(d,d+c);if(this.$1)for(var f=0;f<e.length;++f)e[f]=this.$1[f];f=this.malloc(h*4);if(f==0){(e=this.$2)==null?void 0:e.logError(b("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Codec memory allocation failure","Could not allocate memory with malloc");return}e=f;var g=e+h,j=g+h,k=j+h;c=i.__DgwCodecDecode(d,c,e,g,j,k);this.free(d);if(c!==b("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){this.free(f);(j=this.$2)==null?void 0:j.logError(b("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Codec Decode Failure","Failed to decode Frame(s). Received error code "+b("DGWConstants").DgwCodecReturnCodeToString(c));return}d=i.HEAPU32.subarray(k/h,k/h+1)[0];if(this.$1==null){this.free(f);return}j=this.$1.length-d;this.$1&&this.$1.length>j?this.$1=new Uint8Array(this.$1.slice(j)):this.$1=null;c=i.HEAPU32.subarray(g/h,g/h+1)[0];k=i.HEAPU32.subarray(e/h,e/h+1)[0];var l=[];for(var d=0;d<c;++d){var m=i.__getDGWFramePtr(k,d);j=i.__getFrameType(m);switch(j){case b("DGWConstants").DgwFrameType.DgwFrameType_Ack:g=function(){var c;(c=a.$2)==null?void 0:c.logEvent(b("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Received ACK Frame from server");var d=i.__getAckIdFromAckFrame(m);l.push(function(){var b;(b=a.$3)==null?void 0:b.handleAckReceived(d)});return"break"}();if(g==="break")break;case b("DGWConstants").DgwFrameType.DgwFrameType_Data:e=function(){var c;(c=a.$2)==null?void 0:c.logEvent(b("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Received Data Frame from server");c=i.__getDataFromDataFrame(m);var d=i.HEAPU8.subarray(c,c+i.__getDataSizeFromDataFrame(m)).slice();a.free(c);var e=i.__getRequiresAckFromDataFrame(m)?i.__getAckIdFromDataFrame(m):null;l.push(function(){var b;return(b=a.$3)==null?void 0:b.onDataReceived(Uint8Array.from(d),e)});return"break"}();if(e==="break")break;case b("DGWConstants").DgwFrameType.DgwFrameType_Drain:j=function(){var c=i.__getDrainReasonFromDrainFrame(m),d=b("DGWConstants").drainReasonToDrainReasonString(c);(c=a.$2)==null?void 0:c.logEvent(b("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Received Drain Frame from server","DrainReason: "+d);l.push(function(){var b;return(b=a.$3)==null?void 0:b.receivedDrainSignal(d)});return"break"}();if(j==="break")break;case b("DGWConstants").DgwFrameType.DgwFrameType_StreamGroup_EstablishStream:g=function(){var b=i.__getStreamIdFromStreamGroupFrame(m),c=i.__getEncodedParamsFromEstablishStreamFrame(m),d=i.HEAPU8.subarray(c,c+i.__getEncodedParamsSizeFromEstablishStreamFrame(m)).slice();a.free(c);l.push(function(){var c;return(c=a.$3)==null?void 0:c.onGroupedStreamEstablishStreamReceived(b,d)});return"break"}();if(g==="break")break;case b("DGWConstants").DgwFrameType.DgwFrameType_StreamGroup_Data:e=function(){var b=i.__getStreamIdFromStreamGroupFrame(m),c=i.__getDataFromGroupedStreamDataFrame(m),d=i.HEAPU8.subarray(c,c+i.__getDataSizeFromGroupedStreamDataFrame(m)).slice();a.free(c);var e=i.__getRequiresAckFromGroupedStreamDataFrame(m)?i.__getAckIdFromGroupedStreamDataFrame(m):null;l.push(function(){var c;return(c=a.$3)==null?void 0:c.onGroupedStreamDataReceived(b,d,e)});return"break"}();if(e==="break")break;case b("DGWConstants").DgwFrameType.DgwFrameType_StreamGroup_Ack:j=function(){var b=i.__getStreamIdFromStreamGroupFrame(m),c=i.__getAckIdFromGroupedStreamAckFrame(m);l.push(function(){var d;return(d=a.$3)==null?void 0:d.onGroupedStreamAckReceived(b,c)});return"break"}();if(j==="break")break;case b("DGWConstants").DgwFrameType.DgwFrameType_StreamGroup_EndOfData:g=function(){var b=i.__getStreamIdFromStreamGroupFrame(m);l.push(function(){var c;return(c=a.$3)==null?void 0:c.onGroupedStreamEndOfDataReceived(b)});return"break"}();if(g==="break")break;case b("DGWConstants").DgwFrameType.DgwFrameType_Ping:l.push(function(){var b;return(b=a.$3)==null?void 0:b.onPingReceived()});break;case b("DGWConstants").DgwFrameType.DgwFrameType_Pong:l.push(function(){var b;return(b=a.$3)==null?void 0:b.onPongReceived()});break;default:break}this.free(m)}this.free(f);for(var e=0;e<l.length;e++)l[e]()};c.encodeData=function(a,c,d,e){var f=e!=void 0,g=this.malloc(a.length),j=i.HEAPU8.subarray(g,g+a.length);for(var k=0;k<j.length;++k)j[k]=a[k];a=this.malloc(h*2);k=a;var l=a+h,m=b("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Failure;f?m=i.__DgwCodecEncodeStreamGroup_Data(e,g,j.length,c,d,k,l):m=i.__DgwCodecEncodeDirectStream_Data(g,j.length,c,d,k,l);this.free(g);if(m!==b("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){(f=this.$2)==null?void 0:f.logError(b("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Data Frame encode failure","Failed to decode DGW Data Frame. Received error code "+b("DGWConstants").DgwCodecReturnCodeToString(m));return null}e=i.HEAPU32.subarray(k/h,k/h+1)[0];j=i.HEAPU32.subarray(l/h,l/h+1)[0];c=i.HEAPU8.subarray(e,e+j).slice();this.free(e);this.free(a);return c};c.encodeAck=function(a,c){var d=c!=void 0,e=this.malloc(h*2),f=e,g=e+h,j=b("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Failure;d?j=i.__DgwCodecEncodeStreamGroup_Ack(c,a,f,g):j=i.__DgwCodecEncodeDirectStream_Ack(a,f,g);if(j!==b("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){(d=this.$2)==null?void 0:d.logError(b("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"ACK Frame encode failure","Failed to encode ACK Frame. Received error code "+b("DGWConstants").DgwCodecReturnCodeToString(j));return null}c=i.HEAPU32.subarray(f/h,f/h+1)[0];a=i.HEAPU32.subarray(g/h,g/h+1)[0];d=i.HEAPU8.subarray(c,c+a).slice();this.free(c);this.free(e);return d};c.encodeDrain=function(a){var c=this.malloc(h*2),d=c,e=c+h;a=i.__DgwCodecEncodeDrain(a,d,e);if(a!==b("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var f;(f=this.$2)==null?void 0:f.logError(b("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Drain Frame encode failure","Failed to encode Drain Frame. Received error code "+b("DGWConstants").DgwCodecReturnCodeToString(a));return null}f=i.HEAPU32.subarray(d/h,d/h+1)[0];a=i.HEAPU32.subarray(e/h,e/h+1)[0];d=i.HEAPU8.subarray(f,f+a).slice();this.free(f);this.free(c);return d};c.encodeEstablishStream=function(a,c){var d=this.malloc(c.length),e=i.HEAPU8.subarray(d,d+c.length);for(var f=0;f<c.length;++f)e[f]=c[f];e=this.malloc(h*2);f=e;var g=e+h;c=i.__DgwCodecEncodeStreamGroup_EstablishStream(a,d,c.length,f,g);this.free(d);if(c!==b("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){(d=this.$2)==null?void 0:d.logError(b("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"EstablishStream Frame encode failure","Failed to encode EstablishStream Frame. Received error code "+b("DGWConstants").DgwCodecReturnCodeToString(c)+" for StreamId "+a);return null}d=i.HEAPU32.subarray(f/h,f/h+1)[0];c=i.HEAPU32.subarray(g/h,g/h+1)[0];a=i.HEAPU8.subarray(d,d+c).slice();this.free(d);this.free(e);return a};c.encodeEndOfData=function(a){var c=this.malloc(h*2),d=c,e=c+h;a=i.__DgwCodecEncodeStreamGroup_EndOfData(a,d,e);if(a!==b("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var f;(f=this.$2)==null?void 0:f.logError(b("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"EndOfData Frame encode failure","Failed to encode EndOfData Frame. Received error code "+b("DGWConstants").DgwCodecReturnCodeToString(a));return null}f=i.HEAPU32.subarray(d/h,d/h+1)[0];a=i.HEAPU32.subarray(e/h,e/h+1)[0];d=i.HEAPU8.subarray(f,f+a).slice();this.free(f);this.free(c);return d};c.encodePing=function(){var a=this.malloc(h*2),c=a,d=a+h,e=i.__DgwCodecEncodePing(c,d);if(e!==b("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var f;(f=this.$2)==null?void 0:f.logError(b("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Ping Frame encode failure","Failed to encode Ping Frame. Received error code "+b("DGWConstants").DgwCodecReturnCodeToString(e));return null}f=i.HEAPU32.subarray(c/h,c/h+1)[0];e=i.HEAPU32.subarray(d/h,d/h+1)[0];c=i.HEAPU8.subarray(f,f+e).slice();this.free(f);this.free(a);return c};c.encodePong=function(){var a=this.malloc(h*2),c=a,d=a+h,e=i.__DgwCodecEncodePong(c,d);if(e!==b("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var f;(f=this.$2)==null?void 0:f.logError(b("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Pong Frame encode failure","Failed to encode Pong Frame. Received error code "+b("DGWConstants").DgwCodecReturnCodeToString(e));return null}f=i.HEAPU32.subarray(c/h,c/h+1)[0];e=i.HEAPU32.subarray(d/h,d/h+1)[0];c=i.HEAPU8.subarray(f,f+e).slice();this.free(f);this.free(a);return c};return a}();f.DGWCodec=d}),null);
__d("DGWWebSocketTransport",[],(function(a,b,c,d,e,f){"use strict";f.getWebSocketConnection=a;function a(a){a=new WebSocket(a);a.binaryType="arraybuffer";a.onopen=function(){};a.onclose=function(){};a.onerror=function(){};return a}}),null);
__d("DirectStream",["DGWAckManager","DGWConstants","DGWExponentialBackoff","DGWLoggingContext","DGWStream","DGWStreamEvents","DGWUtils","DGWWebSocketTransport","Promise","err","regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g="DGW closing websocket connection";a=function(){function a(a){var c=this,d=a.loggingContext,e=a.serviceId,f=a.streamCallbacks,g=a.streamEvents,h=a.streamOptions;a=a.ws;this.$4=!1;this.$2=!0;this.$5=d;this.$1=new(b("DGWAckManager").DGWAckManager)(this.$5);this.$6=1;this.$7=e;this.$8=g;this.$9=f;this.$10=h;this.$3=new(b("DGWUtils").DGWCodec)(this.$5,{onDataReceived:function(a,b){b!=null&&c.$12(b),c.$9.onDataReceived(a)},handleAckReceived:function(a){c.$1.handleAckReceived(a)},receivedDrainSignal:function(a){c.$4===!1&&(c.$9.onStreamMustDrain(c,a),c.$4=!0)},onGroupedStreamDataReceived:function(a,b,c){},onGroupedStreamAckReceived:function(a,b){},onGroupedStreamEndOfDataReceived:function(a){},onGroupedStreamEstablishStreamReceived:function(a,b){},onPingReceived:function(){},onPongReceived:function(){}});this.$11=a}a.getDGWStream=function(c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;return b("regeneratorRuntime").async(function(v){while(1)switch(v.prev=v.next){case 0:f=c.appId,g=c.appVersion,h=c.authType,i=c.dgwVersion,j=c.endpoint,k=c.fbId,l=c.headers,m=c.serviceId,n=c.streamCallbacks,o=c.streamOptions;v.next=3;return b("regeneratorRuntime").awrap(b("DGWUtils").DGWCodec.initialize());case 3:v.next=5;return b("regeneratorRuntime").awrap(b("DGWUtils").DGWUtils.initialize());case 5:p=(d=o.overrideUrl)!=null?d:j;q=o.loggingId;r=b("DGWUtils").DGWUtils.constructConnectUrl({appId:f,appVersion:g,authType:h,dgwVersion:i,fbId:k,headers:l,loggingId:q,tier:(e=o.serviceTier)!=null?e:b("DGWConstants").DEFAULT_SERVICE_TIER,serviceId:m,endpoint:p,regionHint:o.regionHint});s=new(b("DGWLoggingContext").DGWLoggingContext)(i,q,m,k,o.disableFalcoLogging);t=new(b("DGWStreamEvents").DGWStreamEvents)(s,b("DGWLoggingContext").DGWLoggingComponent.STREAM_COMPONENT);u=function(){return a.$13({connectUrl:r,loggingContext:s,serviceId:m,streamCallbacks:n,streamEvents:t,streamOptions:o})};t.streamEstablishmentPending();v.prev=12;v.next=15;return b("regeneratorRuntime").awrap(b("DGWExponentialBackoff").callWithExponentialBackoff(u));case 15:return v.abrupt("return",v.sent);case 18:v.prev=18;v.t0=v["catch"](12);t.streamEstablishmentFailure(v.t0,"Could not establish stream with exponential backoff");throw v.t0;case 22:case"end":return v.stop()}},null,this,[[12,18]])};a.$13=function(c){var d=c.connectUrl,e=c.loggingContext,f=c.serviceId,g=c.streamEvents,h=c.streamCallbacks;c=c.streamOptions;d=b("DGWWebSocketTransport").getWebSocketConnection(d);var i=new a({loggingContext:e,serviceId:f,streamCallbacks:h,streamEvents:g,streamOptions:c,ws:d});i.$11.onmessage=a.$14(i);i.$11.onclose=a.$15(i);i.$11.onerror=function(){};i.$11.onopen=function(){i.$8.streamEstablished(),i.$2=!1};return a.getStreamPromise(i)};a.getStreamPromise=function(a){return new(b("Promise"))(function(c,d){var e=a.$11.onerror;a.$11.onerror=function(){e(),d(b("err")("Stream could not be initialized"))};var f=a.$11.onopen;a.$11.onopen=function(){f(),c(a)}})};a.$15=function(a){return function(c){if(a.$2===!0){a.$8.connectionEstablishmentFailure(c.code);return}a.$2=!0;if(c.code!==b("DGWConstants").WebsocketCloseCodes.DGW_NORMAL_CLOSURE){a.$8.streamClosed(!1,"Websocket connection failure with code "+c.code);switch(c.code){case b("DGWConstants").WebsocketCloseCodes.NORMAL_CLOSURE:a.$9.onError(b("DGWStream").StreamError.ABNORMAL_CLOSURE);break;case b("DGWConstants").WebsocketCloseCodes.ABNORMAL_CLOSURE:a.$9.onError(b("DGWStream").StreamError.ABNORMAL_CLOSURE);break;case b("DGWConstants").WebsocketCloseCodes.SERVER_INTERNAL_ERROR:a.$9.onError(b("DGWStream").StreamError.SERVER_INTERNAL_ERROR);break;case b("DGWConstants").WebsocketCloseCodes.GOING_AWAY:a.$9.onError(b("DGWStream").StreamError.GOING_AWAY);break;default:a.$9.onError(b("DGWStream").StreamError.UNKNOWN_ERROR);break}}else a.$8.streamClosed(!0,""),a.$9.onClose(a);a.$1.clearPendingAcks()}};a.$14=function(a){return function(b){if(!(b.data instanceof ArrayBuffer)){a.$8.error("Incorrect Data Protocol","Received "+typeof b.data+" instead of ArrayBuffer");return}a.$3.append(new Uint8Array(b.data));a.$3.processData()}};var c=a.prototype;c.send=function(a,c){var d,e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:c===void 0&&(c=b("DGWConstants").DEFAULT_ACK_TIMEOUT_MS);d=this.$6++%b("DGWConstants").MAX_ACK_ID;e=this.$16(a,!0,d);if(!(e===!1)){g.next=5;break}return g.abrupt("return",!1);case 5:g.next=7;return b("regeneratorRuntime").awrap(this.$1.waitForAck(d,c));case 7:f=g.sent;return g.abrupt("return",f);case 9:case"end":return g.stop()}},null,this)};c.$12=function(a){var c=this.$17("Error sending ACK");if(c===!1)return!1;c=this.$3.encodeAck(a);if(c==null||this.$11==null)return!1;try{this.$11.send(c),this.$8.ackSent(a)}catch(a){this.$5.logError(b("DGWLoggingContext").DGWLoggingComponent.STREAM_COMPONENT,"Received error while trying to send ACK","Error: "+a);return!1}return!0};c.sendAndForget=function(a){return this.$16(a,!1,0)};c.__sendDrain=function(a){var c=b("DGWConstants").drainReasonToDrainReasonString(a),d=this.$17("Error simulating drain with reason "+c);if(d===!1)return!1;d=this.$3.encodeDrain(a);if(d==null||this.$11==null)return!1;try{this.$11.send(d),this.$8.drainSent(c)}catch(a){this.$5.logError(b("DGWLoggingContext").DGWLoggingComponent.STREAM_COMPONENT,"Received error while trying to send Drain","Error: "+a);return!1}return!0};c.$16=function(a,c,d){c===void 0&&(c=!1);d===void 0&&(d=0);var e=this.$17("Error sending data");if(e===!1)return!1;e=this.$3.encodeData(a,c,d);if(e==null||this.$11==null)return!1;try{this.$11.send(e)}catch(a){this.$5.logError(b("DGWLoggingContext").DGWLoggingComponent.STREAM_COMPONENT,"Received error while trying to send Data","Error: "+a);return!1}this.$8.dataSent(d,e.length,c);return!0};c.close=function(){this.$2===!1?(this.$5.logEvent(b("DGWLoggingContext").DGWLoggingComponent.STREAM_COMPONENT,"Client called close on stream"),this.$11.close(b("DGWConstants").WebsocketCloseCodes.DGW_NORMAL_CLOSURE,g)):this.$5.logEvent(b("DGWLoggingContext").DGWLoggingComponent.STREAM_COMPONENT,"Client called close on a closed stream")};c.$17=function(a){if(this.$11==null){this.$8.error(a,"Error sending message when websocket was uninitialized");return!1}if(this.$2){this.$8.error(a,"Error sending message when stream was closed locally");return!1}return!0};return a}();f.DirectStream=a}),null);
__d("DGWStreamGroupCallbacks",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({TRANSPORT_SERVER_INTERNAL_ERROR:0,TRANSPORT_ABNORMAL_CLOSURE:1,TRANSPORT_GOING_AWAY:2,TRANSPORT_UNKNOWN_ERROR:3,TRANSPORT_KEEPALIVE_TIMEOUT:4});f.DGWStreamGroupError=a;c=function(){function a(){}var b=a.prototype;b.onStreamGroupError=function(){};b.onStreamGroupMustDrain=function(){};b.onStreamGroupTransportClose=function(){};return a}();f.NoOpDGWStreamGroupCallbacks=c}),null);
__d("DGWStreamCallbacks",[],(function(a,b,c,d,e,f){"use strict"}),null);
__d("GroupedStream",["DGWAckManager","DGWConstants","DGWLoggingContext","DGWStream","DGWStreamEvents","regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c,d,e,f,g,h){this.$1=a,this.$3=!1,this.$4=!1,this.$5=!1,this.$6=c,this.$7=d,this.$8=e,this.$2=g,this.$9=f,this.$10=new(b("DGWAckManager").DGWAckManager)(this.$9),this.$12=new(b("DGWStreamEvents").DGWStreamEvents)(this.$9,b("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,this.$1),this.$11=0,this.$13=h}var c=a.prototype;c.send=function(a,c){var d,e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:e=this.$11++%b("DGWConstants").MAX_ACK_ID;if(this.$14(a,!0,e)){g.next=3;break}return g.abrupt("return",!1);case 3:g.next=5;return b("regeneratorRuntime").awrap(this.$10.waitForAck(e,(d=c)!=null?d:b("DGWConstants").DEFAULT_ACK_TIMEOUT_MS));case 5:f=g.sent;return g.abrupt("return",f);case 7:case"end":return g.stop()}},null,this)};c.sendAndForget=function(a){return this.$14(a,!1)};c.close=function(){var a=this.$2.encodeEndOfData(this.$1);if(a==null){this.$9.logError(b("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to encode EndOfData","streamId: "+this.$1);return}a=this.$8.send(a);if(!a){this.$9.logError(b("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to send EndOfData","streamId: "+this.$1+". StreamGroupTransport not open during send");return}this.$12.endOfDataSent();this.$5=!0;this.$4&&this.$15()};c.__sendDrain=function(a){var c=b("DGWConstants").drainReasonToDrainReasonString(a);if(this.$5)return!1;a=this.$2.encodeDrain(a);if(a==null)return!1;this.$12.drainSent(c);c=this.$8.send(a);return c};c.__transportCloseHook=function(a){this.$10.clearPendingAcks(),a?(this.$12.error("Received StreamError","StreamErrorType: "+b("DGWStream").streamErrorToString(a)),this.$6.onError(a)):this.$5&&this.$4?this.$15():(this.$12.streamClosed(!1,"Stream closed: ClosedLocally: "+this.$5.toString()+", EndOfDataReceived: "+this.$4.toString()),this.$6.onError(b("DGWStream").StreamError.PREMATURE_CLOSE))};c.$15=function(){this.$12.streamClosed(!0,"Graceful close"),this.$6.onClose(this)};c.__dataReceivedHook=function(a,b){this.$12.dataReceived(a.length,b!=null,b),b!=null&&this.$16(b),this.$6.onDataReceived(a)};c.__ackReceivedHook=function(a){this.$12.ackReceived(a),this.$10.handleAckReceived(a)};c.__drainReceivedHook=function(a){this.$3===!1&&(this.$6.onStreamMustDrain(this,a),this.$3=!0)};c.__endOfDataHook=function(){this.$12.endOfDataReceived(),this.$4=!0,this.$5?(this.$15(),this.$13()):this.$6.onServerHasFinishedSendingData(this)};c.$14=function(a,c,d){c===void 0&&(c=!1);d===void 0&&(d=0);if(this.$5){this.$9.logError(b("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to send data","Stream closed locally");return!1}a=this.$2.encodeData(a,c,d,this.$1);if(a==null)return!1;var e=this.$8.send(a);if(!e){this.$9.logError(b("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to send data","ClosedLocally: "+this.$5.toString());return!1}this.$12.dataSent(d,a.length,c);return!0};c.$16=function(a){var c=this.$2.encodeAck(a,this.$1);if(c==null){this.$9.logError(b("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to encode ACK","ackId: "+a);return!1}c=this.$8.send(c);if(!c){this.$9.logError(b("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to send ACK","ackId: "+a);return!1}this.$12.ackSent(a);return!0};return a}();f.GroupedStream=a}),null);
__d("StreamGroupContext",[],(function(a,b,c,d,e,f){"use strict"}),null);
__d("DGWTransportEvents",["DGWLoggingContext","FBLogger"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$3=a}var c=a.prototype;c.transportEstablished=function(){this.$3.logEvent(b("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"open"),this.$2=Date.now()};c.transportEstablishmentPending=function(){this.$1=Date.now(),this.$3.logEvent(b("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"transportPending")};c.transportClosed=function(a,c){this.$4=Date.now(),a?this.$3.logEvent(b("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Transport closed gracefully"):(b("FBLogger")(b("DGWLoggingContext").DGW_MODULE).debug("Transport closed with errors"),this.$3.logError(b("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Transport closed abnormally",c))};c.transportEstablishmentFailure=function(a){this.$3.logError(b("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"WebSocket transport establishment failure","WebSocket close code: "+a)};c.streamEstablishmentTimeout=function(a,c){this.$3.logError(b("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Grouped Stream establishment timeout",a,c)};c.streamEstablishmentPending=function(a){this.$3.logEvent(b("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Grouped Stream establishment pending",a)};c.streamEstablishmentSuccess=function(a){this.$3.logEvent(b("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Grouped Stream establishment success",a)};c.transportError=function(a,c,d){this.$3.logError(b("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,a,c,d)};c.receivedFrameForInactiveStream=function(a,c,d){this.$3.logWarn(b("DGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Frame received for inactive stream","frameType: "+a+", streamID: "+c,d)};return a}();f.DGWTransportEvents=a}),null);
__d("StreamIdGenerator",["err"],(function(a,b,c,d,e,f){"use strict";var g=255;a=function(){function a(){this.$1=new Set();for(var a=1;a<=g;++a)this.$1.add(a)}var c=a.prototype;c.getNextStreamId=function(){var a;if(this.$1.size===0)throw b("err")("Max number of stream IDs reached");a=(a=this.$1.values().next().value)!=null?a:0;this.$1["delete"](a);return a};c.putBackStreamId=function(a){this.$1.add(a)};return a}();f.StreamIdGenerator=a}),null);
__d("StreamGroupWebSocketTransport",["DGWConstants","DGWExponentialBackoff","DGWPinger","DGWStream","DGWStreamGroupCallbacks","DGWTransportEvents","DGWUtils","DGWWebSocketTransport","GroupedStream","Promise","StreamIdGenerator","err","regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g=function(a,c,d,e){var f=this;this.groupedStream=a;this.$1=setTimeout(function(){d(b("err")("Stream establishment timed out"))},e);this.handleEstablishFrameReceived=function(){clearTimeout(f.$1),c(f.groupedStream)};this.abortStream=function(a){d(b("err")("Received StreamError: "+b("DGWStream").streamErrorToString(a)))}};a=function(){function a(a,c,d,e,f){var g=this;this.$13=e;this.$1=a;this.$9=new(b("StreamIdGenerator").StreamIdGenerator)();this.$4=new Map();this.$5=new Map();this.$6=d.keepAliveMs;this.$7=!1;this.$3=!0;this.$11=c;this.$10=new TextEncoder();this.$12=d;e={onDataReceived:function(){},handleAckReceived:function(){},receivedDrainSignal:function(a){g.$12.streamGroupCallbacks.onStreamGroupMustDrain(a),g.$4.forEach(function(b){b.__drainReceivedHook(a)})},onGroupedStreamDataReceived:function(a,b,c){if(g.$4.has(a)){var d=g.$4.get(a);d==null?void 0:d.__dataReceivedHook(b,c)}else{g.$11.receivedFrameForInactiveStream("Data",a,"sendAckID: "+((d=c)!=null?d:"null"))}},onGroupedStreamAckReceived:function(a,b){if(g.$4.has(a)){var c=g.$4.get(a);c==null?void 0:c.__ackReceivedHook(b)}else{g.$11.receivedFrameForInactiveStream("ACK",a,"ackId: "+((c=b)!=null?c:"null"))}},onGroupedStreamEndOfDataReceived:function(a){if(g.$4.has(a)){var b=g.$4.get(a);b==null?void 0:b.__endOfDataHook()}else g.$11.receivedFrameForInactiveStream("EndOfData",a)},onGroupedStreamEstablishStreamReceived:function(a,b){if(g.$5.has(a)){b=g.$5.get(a);g.$5["delete"](a);b==null?void 0:b.handleEstablishFrameReceived()}else g.$11.receivedFrameForInactiveStream("EstablishStream",a,"EstablishStream received for non-inflight stream")},onPingReceived:function(){var a=g.$2.encodePing();if(a==null)return;g.$1.send(a)},onPongReceived:function(){}};this.$2=new(b("DGWUtils").DGWCodec)(f,e)}var c=a.prototype;c.send=function(a){try{this.$1.send(a);return!0}catch(a){this.$11.transportError("Failed to send over transport","readyState: "+this.$1.readyState,a.toString());return!1}};c.close=function(){this.$1.close(b("DGWConstants").WebsocketCloseCodes.DGW_NORMAL_CLOSURE)};c.abort=function(a,b,c,d){this.$7=!0,this.$11.transportClosed(!1,d),this.$4.forEach(function(a){a.__transportCloseHook(b)}),this.$5.forEach(function(a){a.abortStream(b)}),this.$12.streamGroupCallbacks.onStreamGroupError(a),this.$4.clear(),this.$5.clear(),this.$1.close(c)};a.getTransport=function(c,d,e,f){var g,h;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return b("regeneratorRuntime").awrap(b("DGWUtils").DGWCodec.initialize());case 2:g=new(b("DGWTransportEvents").DGWTransportEvents)(e);g.transportEstablishmentPending();h=function(){return a.$14(c,d,g,f,e)};i.prev=5;i.next=8;return b("regeneratorRuntime").awrap(b("DGWExponentialBackoff").callWithExponentialBackoff(h));case 8:return i.abrupt("return",i.sent);case 11:i.prev=11;i.t0=i["catch"](5);throw i.t0;case 14:case"end":return i.stop()}},null,this,[[5,11]])};c.establishGroupedStream=function(a,c,d){var e=this,f,g,h,i;return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:f=this.$9.getNextStreamId();g=new(b("GroupedStream").GroupedStream)(f,a,c,this,d,this.$2,function(){e.$4["delete"](f),e.$9.putBackStreamId(f),e.$4.size===0&&e.close()});h=this.$2.encodeEstablishStream(f,Uint8Array.from(this.$10.encode(JSON.stringify(this.$15(c.groupedStreamHeaders)))));if(!(h==null)){j.next=6;break}throw b("err")("Failed to encode EstablishStreamFrame");case 6:this.$1.send(h);case 7:j.prev=7;this.$11.streamEstablishmentPending();j.next=11;return b("regeneratorRuntime").awrap(this.waitForEstablishStream(g,f));case 11:i=j.sent;this.$4.set(f,g);return j.abrupt("return",i);case 16:j.prev=16;j.t0=j["catch"](7);this.$11.streamEstablishmentTimeout("Stream establishment timeout","streamId: "+f);throw j.t0;case 20:case"end":return j.stop()}},null,this,[[7,16]])};c.$15=function(a){return Object.keys(a).reduce(function(c,d){c[""+b("DGWConstants").HEADER_CONSTANTS.APPHEADER_PREFIX+d]=a[d];return c},{})};c.waitForEstablishStream=function(a,c){var d=this,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:f.next=2;break;return f.abrupt("return",a);case 2:f.next=4;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(b,e){d.$5.set(c,new g(a,b,e,3e4))}));case 4:e=f.sent;return f.abrupt("return",e);case 6:case"end":return f.stop()}},null,this)};a.$14=function(c,d,e,f,g){var h,i,j;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:h=b("DGWWebSocketTransport").getWebSocketConnection(c);i=new a(h,e,d,f,g);h.onmessage=a.$16(i);h.onopen=function(){e.transportEstablished(),i.$3=!1,i.$6!=null&&(i.$8=new(b("DGWPinger").DGWPinger)(i.$6,function(){i.$17()},function(){i.abort(b("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_KEEPALIVE_TIMEOUT,b("DGWStream").StreamError.KEEPALIVE_TIMEOUT,b("DGWConstants").WebsocketCloseCodes.DGW_PING_TIMEOUT,"Aborting transport because of keepalive timeout")}))};h.onerror=function(){};h.onclose=a.$18(i);k.next=8;return b("regeneratorRuntime").awrap(a.getTransportPromise(i));case 8:j=k.sent;return k.abrupt("return",j);case 10:case"end":return k.stop()}},null,this)};a.getTransportPromise=function(a){var c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(c,d){var e=a.$1.onerror,f=a.$1.onopen;a.$1.onerror=function(){e(),d(b("err")("Transport could not be initialized"))};a.$1.onopen=function(){f(),c(a)}}));case 2:c=d.sent;return d.abrupt("return",c);case 4:case"end":return d.stop()}},null,this)};a.$16=function(a){return function(b){var c;(c=a.$8)==null?void 0:c.reset();if(!(b.data instanceof ArrayBuffer)){a.$11.transportError("Incorrect Data Protocol","Received "+typeof b.data+" instead of ArrayBuffer");return}a.$2.append(new Uint8Array(b.data));a.$2.processData()}};a.$18=function(a){return function(c){var d;(d=a.$8)==null?void 0:d.cancel();if(a.$7===!0)return;if(a.$3===!0){a.$11.transportEstablishmentFailure(c.code);a.$4.clear();return}a.$13();a.$3=!0;if(c.code!==b("DGWConstants").WebsocketCloseCodes.DGW_NORMAL_CLOSURE){a.$11.transportClosed(!1,"Websocket connection failure with code "+c.code);d=b("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_UNKNOWN_ERROR;var e=b("DGWStream").StreamError.UNKNOWN_ERROR;switch(c.code){case b("DGWConstants").WebsocketCloseCodes.NORMAL_CLOSURE:d=b("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_ABNORMAL_CLOSURE;e=b("DGWStream").StreamError.ABNORMAL_CLOSURE;break;case b("DGWConstants").WebsocketCloseCodes.ABNORMAL_CLOSURE:d=b("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_ABNORMAL_CLOSURE;e=b("DGWStream").StreamError.ABNORMAL_CLOSURE;break;case b("DGWConstants").WebsocketCloseCodes.SERVER_INTERNAL_ERROR:d=b("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_SERVER_INTERNAL_ERROR;e=b("DGWStream").StreamError.SERVER_INTERNAL_ERROR;break;case b("DGWConstants").WebsocketCloseCodes.GOING_AWAY:d=b("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_GOING_AWAY;e=b("DGWStream").StreamError.GOING_AWAY;break;default:d=b("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_UNKNOWN_ERROR;e=b("DGWStream").StreamError.UNKNOWN_ERROR;break}a.$12.streamGroupCallbacks.onStreamGroupError(d);a.$4.forEach(function(a){a.__transportCloseHook(e)});a.$5.forEach(function(a){a.abortStream(e)})}else a.$11.transportClosed(!0,""),a.$4.forEach(function(a){a.__transportCloseHook()}),a.$12.streamGroupCallbacks.onStreamGroupTransportClose(),a.$5.forEach(function(a){a.abortStream(b("DGWStream").StreamError.TRANSPORT_CLOSED_BEFORE_STREAM_INIT)});a.$4.clear();a.$5.clear()}};c.$17=function(){var a=this.$2.encodePing();if(a==null)throw b("err")("Failed to encode Ping Frame");this.send(a)};c.isClosedLocally=function(){return this.$3||this.$7};return a}();f.StreamGroupWebSocketTransport=a}),null);
__d("StreamGroup",["DGWConstants","DGWLoggingContext","DGWUtils","Promise","StreamGroupWebSocketTransport","regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c,d,e,f,g,h,i,j){this.$2=j;this.$1=j.getNewStreamGroupId();j=(j=h.overrideUrl)!=null?j:f;this.$3={appId:a,appVersion:c,authType:d,dgwVersion:e,headers:h.streamGroupAppHeaders,tier:(f=h.serviceTier)!=null?f:b("DGWConstants").DEFAULT_SERVICE_TIER,connectEndpoint:j,fbId:g,serviceId:h.serviceId,streamGroupCallbacks:i,keepAliveMs:h.keepAliveMs};this.$4=h;this.$5=new(b("DGWLoggingContext").DGWLoggingContext)(this.$3.dgwVersion,this.$4.loggingId,this.$3.serviceId,this.$3.fbId)}var c=a.prototype;c.establishStream=function(a,c){var d=this,e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:if(!(this.$2.containsStreamGroup(this.$1)===!1)){g.next=6;break}e=b("DGWUtils").DGWUtils.constructConnectUrl({appId:this.$3.appId,appVersion:this.$3.appVersion,authType:this.$3.authType,dgwVersion:this.$3.dgwVersion,fbId:this.$3.fbId,headers:babelHelpers["extends"]({},this.$3.headers),loggingId:a.loggingId,tier:this.$3.tier,serviceId:this.$3.serviceId,endpoint:this.$3.connectEndpoint,regionHint:this.$4.regionHint});g.next=4;return b("regeneratorRuntime").awrap(b("StreamGroupWebSocketTransport").StreamGroupWebSocketTransport.getTransport(e,this.$3,this.$5,function(){d.$2.removeStreamGroupAndTransport(d.$1)}));case 4:f=g.sent,this.$2.setStreamGroupAndTransport(this.$1,f);case 6:return g.abrupt("return",this.establishStreamWithTransport(a,c));case 7:case"end":return g.stop()}},null,this)};c.establishStreamWithTransport=function(a,c){var d=this,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:f.next=2;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(e){var f,g,h;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:g=(f=a.loggingId)!=null?f:b("DGWUtils").uuidv4();d.$5.logEvent(b("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"establishing Stream loggingId: "+g);i.next=4;return b("regeneratorRuntime").awrap(d.$2.getStreamGroupTransport(d.$1).establishGroupedStream(c,a,new(b("DGWLoggingContext").DGWLoggingContext)(d.$3.dgwVersion,g,d.$3.serviceId,d.$3.fbId,a.disableFalcoLogging)));case 4:h=i.sent,e(h);case 6:case"end":return i.stop()}},null,this)}));case 2:e=f.sent;return f.abrupt("return",e);case 4:case"end":return f.stop()}},null,this)};return a}();f.StreamGroup=a}),null);
__d("StreamGroupRegistry",["Random","err"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Map(),this.$2=new Set()}var c=a.prototype;c.setStreamGroupAndTransport=function(a,b){this.$1.set(a,b)};c.containsStreamGroup=function(a){return this.$1.has(a)};c.removeStreamGroupAndTransport=function(a){this.$1["delete"](a)};c.getStreamGroupTransport=function(a){a=this.$1.get(a);if(a==void 0)throw b("err")("No stream group transport");return a};c.getNewStreamGroupId=function(){var a=b("Random").uint32();while(this.$2.has(a))a=b("Random").uint32();this.$2.add(a);return a};return a}();f.StreamGroupRegistry=a}),null);
__d("RawDGWClient",["CurrentUser","DirectStream","StreamGroup","StreamGroupRegistry","err"],(function(a,b,c,d,e,f){"use strict";var g="4";a=function(){function a(a){var c=a.appId,d=a.appVersion,e=a.authType,f=a.dgwVersion,g=a.endpoint;a=a.fbId;this.$1=c;this.$2=d;this.$3=e;this.$4=f;this.$5=g;this.$6=a;this.$7=new(b("StreamGroupRegistry").StreamGroupRegistry)()}var c=a.prototype;c.establishDGWStream=function(a,c,d,e){this.handleUserChecks();return b("DirectStream").DirectStream.getDGWStream({appId:this.$1,appVersion:this.$2,authType:this.$3,dgwVersion:this.$4,endpoint:this.$5,headers:a,fbId:this.$6,serviceId:c,streamCallbacks:d,streamOptions:e})};c.establishDGWStreamWithInitialData=function(a,b,c,d,e){this.handleUserChecks();a=this.establishDGWStream(a,c,d,e);c=a.then(function(a){return a.send(b)});return{sendPromise:c,streamPromise:a}};c.createStreamGroup=function(a,c){return new(b("StreamGroup").StreamGroup)(this.$1,this.$2,this.$3,g,this.$5,this.$6,c,a,this.$7)};c.handleUserChecks=function(){if(!b("CurrentUser").isLoggedInNow())throw b("err")("DGWClientError: User is not logged in")};return a}();f.RawDGWClient=a}),null);
__d("DGWClient",["DGWAuth","DGWWebConfig","RawDGWClient","err","isStringNullOrEmpty"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=new(b("RawDGWClient").RawDGWClient)({appId:(c=b("DGWWebConfig")).appId,appVersion:c.appVersion,authType:b("DGWAuth").DGWAuth.FACEBOOK,dgwVersion:c.dgwVersion,endpoint:c.endpoint,fbId:c.fbId});function a(){if(!b("isStringNullOrEmpty")(b("DGWWebConfig").endpoint)||window.document.location.href.includes("intern/rti/portal"))return g;else throw b("err")("unsupported_environment_retry_with_mqtt")}}),null);
__d("RequestStreamCommonRequestStreamCommonTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({Accepted:1,Started:2,Stopped:3});d=a({Rejected:40,Error:50,TryAgain:80,Closed:99});f=a({BestEffort:0,Socket:10,Device:20});b=a({Flow_status:"flow_status",Log:"log",Rewrite:"rewrite",Data:"data",Termination:"termination",Amend_ack:"amend_ack"});e.exports={AckLevel:f,FlowStatus:c,StreamResponseDelta$Types:b,TerminationReason:d}}),null);
__d("MQTTRequestStreamUtils",["BladeRunnerStreamHandler","BladeRunnerTypes","RequestStreamCommonRequestStreamCommonTypes"],(function(a,b,c,d,e,f){"use strict";f.convertToBRHandler=a;var g="Stream closed";f.TERMINATION_REASON_CLOSED=g;var h="Stream rejected";f.TERMINATION_REASON_REJECTED=h;function a(a){var c=function(c){switch(c){case b("BladeRunnerTypes").StreamStatus.ACCEPTED:a.onFlowStatus(b("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Accepted);break;case b("BladeRunnerTypes").StreamStatus.STARTED:a.onFlowStatus(b("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started);break;case b("BladeRunnerTypes").StreamStatus.PAUSED:a.onFlowStatus(b("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Stopped);break;case b("BladeRunnerTypes").StreamStatus.CLOSED:a.onTermination(g);break;case b("BladeRunnerTypes").StreamStatus.REJECTED:a.onTermination(h);break}};return new(b("BladeRunnerStreamHandler"))(function(b){return a.onData(b)},null,c,function(b){return a.onLog(b)},null)}}),null);
__d("TransportSelectingClientUtils",["BladeRunnerInstrumentedStreamHandler","DGWClient","FBLogger","MQTTRequestStreamUtils"],(function(a,b,c,d,e,f){"use strict";f.BRHandlerConverter=a;f.isDGWEnvCompatible=c;function a(a,c){a=b("MQTTRequestStreamUtils").convertToBRHandler(a);if(c.startsWith("FBGQLS")||c.startsWith("SKYWALKER"))return new(b("BladeRunnerInstrumentedStreamHandler"))(a,c);else return a}function c(){try{b("DGWClient")()}catch(a){if(a.message==="unsupported_environment_retry_with_mqtt")return!1;else b("FBLogger")("requeststream-web").info("error initializing DGW client",a.message)}return!0}}),null);
__d("TransportSelectionClientRolloutResolver",["gkx"],(function(a,b,c,d,e,f){"use strict";f.enableDGWRequestStreamClient=a;var g=[{gk:function(){return b("gkx")("1956158")},use_cases:new Set(["FBGQLS:FEEDBACK_LIKE_SUBSCRIBE"])}];function a(a){if(a.startsWith("FBLQ:")&&a!="FBLQ:comet_notifications_live_query_experimental")return b("gkx")("427");for(var c=0;c<g.length;c++){var d=g[c];if(d.use_cases!=null&&d.use_cases.has(a))return d.gk()}return!1}}),null);
__d("TransportSelectingClient",["BladeRunnerDeferredClient","DGWStreamGroupType","Promise","RequestStreamHandler","TransportSelectingClientContextualConfig","TransportSelectingClientUtils","TransportSelectionClientRolloutResolver","cr:1987488","gkx","nullthrows","regeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f){a=function(){function a(){this.$1=null}var c=a.prototype;c.requestStream=function(a,c,d,e){var f,g,h,i,j,k,l,m,n;return b("regeneratorRuntime").async(function(o){while(1)switch(o.prev=o.next){case 0:g=new(b("RequestStreamHandler"))(d);if(!(b("cr:1987488")!=null&&b("TransportSelectingClientUtils").isDGWEnvCompatible())){o.next=16;break}i=(h=a.method)!=null?h:"unknown";o.next=5;return b("regeneratorRuntime").awrap(this.$2(i));case 5:j=o.sent;k=j.streamGroupType;l=j.requestLogContext;e!=null&&l!=null&&(e.requestLogContext=l);if(!k){o.next=16;break}o.next=12;return b("regeneratorRuntime").awrap(b("cr:1987488").createStream(a,c,e,g,{streamGroupType:k}));case 12:m=o.sent;o.next=15;return b("regeneratorRuntime").awrap(m.start());case 15:return o.abrupt("return",m);case 16:o.next=18;return b("regeneratorRuntime").awrap(b("BladeRunnerDeferredClient").requestStream(a,c,b("TransportSelectingClientUtils").BRHandlerConverter(g,(f=a.method)!=null?f:"unknown"),e));case 18:n=o.sent;return o.abrupt("return",n);case 20:case"end":return o.stop()}},null,this)};c.$3=function(){this.$1==null&&(this.$1=new(b("Promise"))(function(a){b("requireDeferred")("ContextualConfig").__setRef("TransportSelectingClient").onReady(function(b){a(b)})}))};c.$2=function(a){var c,d,e,f,g,h,i,j;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:if(!b("TransportSelectionClientRolloutResolver").enableDGWRequestStreamClient(a)){k.next=2;break}return k.abrupt("return",{streamGroupType:b("DGWStreamGroupType").DGWStreamGroupType.NONE,usePing:null,requestLogContext:null});case 2:this.$3();k.next=5;return b("regeneratorRuntime").awrap(b("nullthrows")(this.$1));case 5:c=k.sent;d=new c(JSON.parse(b("TransportSelectingClientContextualConfig").rawConfig)).resolve({method:a});e=d.get("group","default_group");f=!1;g=!1;k.t0=e;k.next=k.t0==="group1"?13:k.t0==="group2"?16:k.t0==="group3"?19:k.t0==="group4"?22:k.t0==="group5"?25:28;break;case 13:f=b("gkx")("227");g=b("gkx")("228");return k.abrupt("break",28);case 16:f=b("gkx")("229");g=b("gkx")("230");return k.abrupt("break",28);case 19:f=b("gkx")("231");g=b("gkx")("232");return k.abrupt("break",28);case 22:f=b("gkx")("233");g=b("gkx")("234");return k.abrupt("break",28);case 25:f=b("gkx")("235");g=b("gkx")("236");return k.abrupt("break",28);case 28:if(!(e!=="default_group"&&f)){k.next=34;break}h=g?b("DGWStreamGroupType").DGWStreamGroupType.MULTI:b("DGWStreamGroupType").DGWStreamGroupType.NONE;i=e+":"+h;j=!1;h===b("DGWStreamGroupType").DGWStreamGroupType.MULTI&&b("gkx")("871")&&(j=!0,i+=":ping");return k.abrupt("return",{streamGroupType:h,usePing:j,requestLogContext:i});case 34:return k.abrupt("return",{streamGroupType:null,usePing:null,requestLogContext:null});case 35:case"end":return k.stop()}},null,this)};return a}();e.exports=a}),null);
__d("TransportSelectingClientSingleton",["TransportSelectingClient"],(function(a,b,c,d,e,f){"use strict";a=new(b("TransportSelectingClient"))();e.exports=a}),null);
__d("stableStringify",[],(function(a,b,c,d,e,f){"use strict";e.exports=h;function g(a){return a!==null&&Object.prototype.toString.call(a)==="[object Object]"}function h(a){var b=Array.isArray(a),c=g(a);if(b||c){c=Object.keys(a);if(c.length){c=c.sort().map(function(b){var c=a[b],d;g(c)||Array.isArray(c)?d=h(c):d=JSON.stringify(c);return b+":"+d});if(b)return"["+c.join(",")+"]";else return"{"+c.join(",")+"}"}}return JSON.stringify(a)}}),null);
__d("mapObject",[],(function(a,b,c,d,e,f){"use strict";e.exports=g;function g(a,b,c){if(!a)return null;var d={};Object.keys(a).forEach(function(e){d[e]=b.call(c,a[e],e,a)});return d}function a(a,b,c){return g(a,b,c)}function b(a,b,c){return g(a,b,c)}g.untyped=a;g.shape=b}),null);
__d("processRelaySRPayload",["HasteResponse","ifRequireable"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d,e){var f=a.ddd;if(!f){d&&d();return}var g=function(){return b("HasteResponse").handle(f,{source:"relay_3d",sourceDetail:c,onBlocking:d,onLog:e})};b("ifRequireable")("ReactDOMComet",function(a){return a.flushSync(g)},g)}}),null);
__d("RealtimeFrameworksCounterFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744251");c=b("FalcoLoggerInternal").create("realtime_frameworks_counter",a);e.exports=c}),null);
__d("GraphQLSubscriptionsTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:GraphQLSubscriptionsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:GraphQLSubscriptionsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:GraphQLSubscriptionsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppBackgrounded=function(a){this.$1.app_backgrounded=a;return this};c.setAppState=function(a){this.$1.app_state=a;return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setAppversion=function(a){this.$1.appversion=a;return this};c.setAttemptCount=function(a){this.$1.attempt_count=a;return this};c.setClientSampleWeight=function(a){this.$1.client_sample_weight=a;return this};c.setClientUserID=function(a){this.$1.client_userid=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setDebugData=function(a){this.$1.debug_data=a;return this};c.setDeltaTime=function(a){this.$1.delta_time=a;return this};c.setErrorRecoveryPolicyName=function(a){this.$1.error_recovery_policy_name=a;return this};c.setErrorRetriesEnabled=function(a){this.$1.error_retries_enabled=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setExceptionCategory=function(a){this.$1.exception_category=a;return this};c.setExceptionData=function(a){this.$1.exception_data=a;return this};c.setExceptionType=function(a){this.$1.exception_type=a;return this};c.setFilterChain=function(a){this.$1.filter_chain=a;return this};c.setForceLogContext=function(a){this.$1.force_log_context=a;return this};c.setHandleType=function(a){this.$1.handle_type=a;return this};c.setHeartbeatInterval=function(a){this.$1.heartbeat_interval=a;return this};c.setHeartbeatSequenceID=function(a){this.$1.heartbeat_sequence_id=a;return this};c.setIsemployee=function(a){this.$1.isemployee=a;return this};c.setMqttClientCheckpoint=function(a){this.$1.mqtt_client_checkpoint=a;return this};c.setMqttState=function(a){this.$1.mqtt_state=a;return this};c.setMutationType=function(a){this.$1.mutation_type=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setPublishCluster=function(a){this.$1.publish_cluster=a;return this};c.setPublishID=function(a){this.$1.publish_id=a;return this};c.setPublishTimeMs=function(a){this.$1.publish_time_ms=a;return this};c.setQueryID=function(a){this.$1.query_id=a;return this};c.setQueryParams=function(a){this.$1.query_params=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setRawclienttime=function(a){this.$1.rawclienttime=a;return this};c.setReason=function(a){this.$1.reason=a;return this};c.setResult=function(a){this.$1.result=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setShadowingPayloadCount=function(a){this.$1.shadowing_payload_count=a;return this};c.setSubscriptionCall=function(a){this.$1.subscription_call=a;return this};c.setSubscriptionLeg=function(a){this.$1.subscription_leg=a;return this};c.setSubscriptionPayloadCount=function(a){this.$1.subscription_payload_count=a;return this};c.setTimeSinceLastWindowShownMs=function(a){this.$1.time_since_last_window_shown_ms=a;return this};c.setTopic=function(a){this.$1.topic=a;return this};c.setTopicData=function(a){this.$1.topic_data=b("GeneratedLoggerUtils").serializeMap(a);return this};return a}();c={app_backgrounded:!0,app_state:!0,appid:!0,appversion:!0,attempt_count:!0,client_sample_weight:!0,client_userid:!0,clienttime:!0,debug_data:!0,delta_time:!0,error_recovery_policy_name:!0,error_retries_enabled:!0,event:!0,exception_category:!0,exception_data:!0,exception_type:!0,filter_chain:!0,force_log_context:!0,handle_type:!0,heartbeat_interval:!0,heartbeat_sequence_id:!0,isemployee:!0,mqtt_client_checkpoint:!0,mqtt_state:!0,mutation_type:!0,name:!0,publish_cluster:!0,publish_id:!0,publish_time_ms:!0,query_id:!0,query_params:!0,rawclienttime:!0,reason:!0,result:!0,session_id:!0,shadowing_payload_count:!0,subscription_call:!0,subscription_leg:!0,subscription_payload_count:!0,time_since_last_window_shown_ms:!0,topic:!0,topic_data:!0};e.exports=a}),null);
__d("JSResourceForInteraction",["JSResource"],(function(a,b,c,d,e,f){function a(a){return b("JSResource").call(null,a)}c=a;e.exports=c}),null);
__d("BladeRunnerAllowList",[],(function(a,b,c,d,e,f){function g(a){return"FBGQLS:"+a.toUpperCase()}f.getGqlsMethodNameFromUseCase=g;function h(a){a=a.split("/");return a.length>2?g(a[1]):null}f.getGqlsMethodNameFor=h;var i=["gqls/test_actualized_subscribe/"];function a(a){if(!a.startsWith("gqls/"))return null;for(var b=0;b<i.length;b++){var c=i[b];if(a.startsWith(c))return null}return h(a)}f.getRequestStreamMethodIfSupported=a}),null);
__d("StreamStateMachineConstants",[],(function(a,b,c,d,e,f){"use strict";a={GQLS_STATE_CREATED:"created",GQLS_STATE_ACTIVE:"active",GQLS_STATE_PAUSED:"paused",GQLS_STATE_TERMINATED:"terminated"};f.states=a;b={GQLS_STATE_TRANSIT_ON_CREATE:"onCreated",GQLS_STATE_TRANSIT_ON_ACTIVE:"onActive",GQLS_STATE_TRANSIT_ON_PAUSE:"onPause",GQLS_STATE_TRANSIT_ON_RESUME:"onResume",GQLS_STATE_TRANSIT_ON_TERMINATE:"onTerminate"};f.events=b}),null);
__d("GQLSManager",["BladeRunnerAllowList","Bootloader","MQTTRequestStreamUtils","Promise","RequestStreamCommonRequestStreamCommonTypes","StreamStateMachineConstants","TransportSelectingClientSingleton","nullthrows","promiseDone","regeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f){var g="request_stream",h="mqtt_skywalker",i=babelHelpers["extends"]({},b("StreamStateMachineConstants").events,{GQLS_STATE_TRANSIT_ON_REJECT:"onReject"});a=function(){function a(){}var c=a.prototype;c.subscribeViaRequestStreamWithMobileStyleTopicTransform=function(a,c,d){d===void 0&&(d={});var e=this.$3(b("BladeRunnerAllowList").getGqlsMethodNameFromUseCase(a),null,c,d);b("promiseDone")(e);return{getTopic:function(){var a=new Error("Unimplemented getTopic called for mobile style GQLS");a.stack;throw a},getContext:function(){var a=new Error("Unimplemented getContext called for mobile style GQLS");a.stack;throw a},isUnsubscribed:function(){return this.$4},unsubscribe:function(){this.$4=!0;return e.then(function(a){return a.unsubscribe()})},$4:!1}};c.subscribe=function(a,c,d){d===void 0&&(d={});var e=this.$5(a,c,d);b("promiseDone")(e);return{getTopic:function(){return a},getContext:function(){return d.context},isUnsubscribed:function(){return this.$4},unsubscribe:function(){this.$4=!0;return e.then(function(a){return a.unsubscribe()})},$4:!1}};c.once=function(a,b,c){c===void 0&&(c={});var d=this.subscribe(a,function(){d.isUnsubscribed()||(d.unsubscribe(),b.apply(this,arguments))},c);return d};c.getSubscriptionType=function(a,b){if(this.$6(a))return g;return b!=null&&b.headers!=null?g:h};c.$5=function(a,c,d){var e,f;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:e=this.getSubscriptionType(a,d);if(!(e===g)){h.next=7;break}f=d.headers!=null?d.headers.method:null;f==null&&(f=b("BladeRunnerAllowList").getRequestStreamMethodIfSupported(a));return h.abrupt("return",this.$3(b("nullthrows")(f),a,c,d));case 7:return h.abrupt("return",this.$7(a,c,d));case 8:case"end":return h.stop()}},null,this)};c.$7=function(a,c,d){var e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:f.next=2;return b("regeneratorRuntime").awrap(this.$8());case 2:e=f.sent;return f.abrupt("return",e.subscribe(a,function(a){return c(babelHelpers["extends"]({},a))},d));case 4:case"end":return f.stop()}},null,this)};c.$6=function(a){return b("BladeRunnerAllowList").getRequestStreamMethodIfSupported(a)!=null};c.$3=function(a,c,d,e){var f,g,h,j,k,l,m,n;return b("regeneratorRuntime").async(function(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return b("regeneratorRuntime").awrap(this.$9());case 2:f=o.sent;g=f.patchContext(e.context);h=Object.assign({},e.headers,{method:a});c!=null&&(h.topic=c);j=function(a){var b=JSON.parse(a);if(Object.prototype.hasOwnProperty.call(b,"payload")&&Object.prototype.hasOwnProperty.call(b,"topic")){var e=c!=null?c:b.topic;d({topic:e,payload:b.payload})}else d(a)};k=function(a){};l=function(a){switch(a){case b("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Accepted:e.gqlsLifecycleHandler&&e.gqlsLifecycleHandler(i.GQLS_STATE_TRANSIT_ON_CREATE);break;case b("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started:e.gqlsLifecycleHandler&&e.gqlsLifecycleHandler(i.GQLS_STATE_TRANSIT_ON_ACTIVE);break;case b("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Stopped:e.gqlsLifecycleHandler&&e.gqlsLifecycleHandler(i.GQLS_STATE_TRANSIT_ON_PAUSE);break}};m={onData:j,onTermination:function(a){var c;a.message===b("MQTTRequestStreamUtils").TERMINATION_REASON_CLOSED&&(c=i.GQLS_STATE_TRANSIT_ON_TERMINATE);a.message===b("MQTTRequestStreamUtils").TERMINATION_REASON_REJECTED&&(c=i.GQLS_STATE_TRANSIT_ON_REJECT);e.gqlsLifecycleHandler&&c!=null&&e.gqlsLifecycleHandler(c)},onLog:k,onFlowStatus:l};o.next=12;return b("regeneratorRuntime").awrap(b("TransportSelectingClientSingleton").requestStream(h,JSON.stringify(g),m,e.instrumentationData));case 12:n=o.sent;e.onSubscribe&&e.onSubscribe({data:{},error:null});return o.abrupt("return",{unsubscribe:function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:e.onUnsubscribeEager&&e.onUnsubscribeEager(),n.cancel(),e.onUnsubscribe&&e.onUnsubscribe({data:{},error:null});case 3:case"end":return a.stop()}},null,this)}});case 15:case"end":return o.stop()}},null,this)};c.$8=function(){var a,c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:if(!(this.$1!=null)){d.next=2;break}return d.abrupt("return",this.$1);case 2:a=new(b("Promise"))(function(a){b("Bootloader").loadModules(["MqttSkywalkerManager"],a,"GQLSManager")});d.next=5;return b("regeneratorRuntime").awrap(a);case 5:c=d.sent;this.$1=c;return d.abrupt("return",c);case 8:case"end":return d.stop()}},null,this)};c.$9=function(){var a,c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:if(!(this.$2!=null)){d.next=2;break}return d.abrupt("return",this.$2);case 2:a=new(b("Promise"))(function(a){b("requireDeferred")("SkywalkerUtils").__setRef("GQLSManager").onReady(function(b){a(b)})});d.next=5;return b("regeneratorRuntime").awrap(a);case 5:c=d.sent;this.$2=c;return d.abrupt("return",c);case 8:case"end":return d.stop()}},null,this)};return a}();c=new a();e.exports=c}),null);
__d("RelayFBConsoleLog",["cr:1121434"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1121434")!=null?b("cr:1121434")():null;c=a;e.exports=c}),null);
__d("RelayFBGCScheduler",["JSScheduler"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){b("JSScheduler").scheduleLoggingPriCallback(a)}}),null);
__d("BizKitNotificationsThinClientConnectionHandler",["relay-runtime","unrecoverableViolation","warning"],(function(a,b,c,d,e,f){"use strict";f.update=a;f.getConnection=c;f.buildConnectionEdge=k;var g="bizkit_notifications_thin_client",h="id",i=function(a){return a==null?void 0:(a=a.getLinkedRecord("notif"))==null?void 0:a.getValue(h)},j="__connection_next_edge_index";function a(a,c){var d,e=a.get(c.dataID);if(!e)return;var f=b("relay-runtime").ConnectionInterface.get(),g=f.EDGES,h=f.END_CURSOR,i=f.HAS_NEXT_PAGE,o=f.HAS_PREV_PAGE,p=f.PAGE_INFO,q=f.PAGE_INFO_TYPE;f=f.START_CURSOR;var r=e.getLinkedRecord(c.fieldKey),s=r&&r.getLinkedRecord(p);if(!r){e.setValue(null,c.handleKey);return}var t=b("relay-runtime").generateClientID(e.getDataID(),c.handleKey),u=e.getLinkedRecord(c.handleKey);d=(d=u)!=null?d:a.get(t);var v=d&&d.getLinkedRecord(p);if(!d){var w=a.create(t,r.getType());w.setValue(0,j);w.copyFieldsFrom(r);t=r.getLinkedRecords(g);if(t){var x=b("relay-runtime").ConnectionInterface.get(),y=x.NODE;t=t.reduce(function(b,c){if(!c)return b;var d=c.getLinkedRecord(y);d=d==null?void 0:d.getType();return d==="NotifPageCachedNotificationRow"?b:b.concat(k(a,w,c))},[]);w.setLinkedRecords(t,g)}e.setLinkedRecord(w,c.handleKey);v=a.create(b("relay-runtime").generateClientID(w.getDataID(),p),q);v.setValue(!1,i);v.setValue(!1,o);v.setValue(null,h);v.setValue(null,f);s&&v.copyFieldsFrom(s);w.setLinkedRecord(v,p)}else{u==null&&e.setLinkedRecord(d,c.handleKey);var z=d;x=r.getLinkedRecords(g);x&&(x=x.map(function(b){return k(a,z,b)}));t=z.getLinkedRecords(g);q=z.getLinkedRecord(p);z.copyFieldsFrom(r);t&&z.setLinkedRecords(t,g);q&&z.setLinkedRecord(q,p);u=[];e=c.args;if(t&&x)if(e.after!=null)if(v&&e.after===v.getValue(h)){d=new Set();l(t,u,d);l(x,u,d)}else{b("warning")(!1,"Relay: Unexpected after cursor `%s`, edges must be fetched from the end of the list (`%s`).",e.after,v&&v.getValue(h));return}else if(e.before!=null)if(v&&e.before===v.getValue(f)){r=new Set();l(x,u,r);l(t,u,r)}else{b("warning")(!1,"Relay: Unexpected before cursor `%s`, edges must be fetched from the beginning of the list (`%s`).",e.before,v&&v.getValue(f));return}else{q=m(t);p=new Set();n(x,u,q,p)}else x?u=x:u=t;u!=null&&u!==t&&z.setLinkedRecords(u,g);if(v&&s)if(e.after==null&&e.before==null)v.copyFieldsFrom(s);else if(e.before!=null||e.after==null&&e.last){v.setValue(!!s.getValue(o),o);c=s.getValue(f);typeof c==="string"&&v.setValue(c,f)}else if(e.after!=null||e.before==null&&e.first){v.setValue(!!s.getValue(i),i);d=s.getValue(h);typeof d==="string"&&v.setValue(d,h)}}}function c(a,c,d){c=b("relay-runtime").getRelayHandleKey(g,c,null);return a.getLinkedRecord(c,d)}function k(a,c,d){if(d==null)return d;var e=b("relay-runtime").ConnectionInterface.get();e=e.EDGES;var f=c.getValue(j);if(!(typeof f==="number"))throw b("unrecoverableViolation")("CometNotificationsThinClientConnectionHandler: Expected edgeIndex to be a number","Notifications");e=b("relay-runtime").generateClientID(c.getDataID(),e,f);a=a.create(e,d.getType());a.copyFieldsFrom(d);c.setValue(f+1,j);return a}function l(a,c,d){var e=b("relay-runtime").ConnectionInterface.get();e=e.NODE;for(var f=0;f<a.length;f++){var g=a[f];if(!g)continue;var h=g.getLinkedRecord(e);h=h&&h.getDataID();if(h!=null){if(d.has(h))continue;d.add(h)}c.push(g)}}function m(a){var c={},d=b("relay-runtime").ConnectionInterface.get();d=d.NODE;for(var e=0;e<a.length;e++){var f=a[e];if(!f)continue;f=f.getLinkedRecord(d);var g=f&&f.getType();if(g==="NotifPageNotificationRow"){g=i(f);typeof g==="string"&&(c[g]=f)}}return c}function n(a,c,d,e){var f=b("relay-runtime").ConnectionInterface.get();f=f.NODE;for(var g=0;g<a.length;g++){var h=a[g];if(!h)continue;var j=h.getLinkedRecord(f),k=j&&j.getDataID();if(k!=null){if(e.has(k))continue;e.add(k)}k=j==null?void 0:j.getType();var l=i(j);if(j&&k==="NotifPageCachedNotificationRow"){if(typeof l==="string"){k=d[l];k&&(k.copyFieldsFrom(j),h.setLinkedRecord(k,f),c.push(h))}}else c.push(h)}}}),null);
__d("RelayFBConnectionHandler_UNSTABLE",["invariant","relay-runtime/mutations/RelayRecordProxy","relay-runtime/mutations/RelayRecordSourceProxy","relay-runtime/mutations/RelayRecordSourceSelectorProxy","relay-runtime/util/getRelayHandleKey"],(function(a,b,c,d,e,f,g){"use strict";var h="connection";function a(a,c,d,e){e===void 0&&(e=h);var f=[],i=b("relay-runtime/util/getRelayHandleKey")(e,d,null);a instanceof b("relay-runtime/mutations/RelayRecordSourceSelectorProxy")&&(a=a.__recordSource);c instanceof b("relay-runtime/mutations/RelayRecordProxy")&&a instanceof b("relay-runtime/mutations/RelayRecordSourceProxy")||g(0,14424);e=a.__mutator.unstable_getRawRecordWithChanges(c.getDataID());if(e==null)return e;Object.keys(e).forEach(function(a){if(a!==i&&a.indexOf(i+"(")!==0)return;a=c.getLinkedRecord(a);a!=null&&f.push(a)});return f}e.exports={unstable_getAllConnectionsWithKey:a}}),null);
__d("UFI2CommentsConnectionHandler",["ODS","RelayFBConnectionHandler_UNSTABLE","gkx","relay-runtime","warning"],(function(a,b,c,d,e,f){"use strict";f.update=a;f.getConnection=c;f.unstable_getAllConnectionsWithKey=d;var g="ufi2_comments",h="__connection_next_edge_index",i="ufi2_connection_generation";function a(a,c){var d,e=a.get(c.dataID);if(!e)return;var f=b("relay-runtime").ConnectionInterface.get(),g=f.EDGES,k=f.END_CURSOR,l=f.HAS_NEXT_PAGE,m=f.HAS_PREV_PAGE,n=f.PAGE_INFO,o=f.PAGE_INFO_TYPE;f=f.START_CURSOR;var p=e.getLinkedRecord(c.fieldKey),q=p&&p.getLinkedRecord(n);if(!p){e.setValue(null,c.handleKey);return}var r=b("relay-runtime").generateClientID(e.getDataID(),c.handleKey),s=e.getLinkedRecord(c.handleKey);d=(d=s)!=null?d:a.get(r);var t=d&&d.getLinkedRecord(n);if(!d){var u=a.create(r,p.getType());u.setValue(0,i);u.setValue(0,h);u.copyFieldsFrom(p);r=p.getLinkedRecords(g);r&&(r=r.map(function(c){return b("relay-runtime").ConnectionHandler.buildConnectionEdge(a,u,c)}),u.setLinkedRecords(r,g));e.setLinkedRecord(u,c.handleKey);t=a.create(b("relay-runtime").generateClientID(u.getDataID(),n),o);t.setValue(!1,l);t.setValue(!1,m);t.setValue(null,k);t.setValue(null,f);q&&t.copyFieldsFrom(q);u.setLinkedRecord(t,n)}else{s==null&&e.setLinkedRecord(d,c.handleKey);var v=d;r=p.getLinkedRecords(g);r&&(r=r.map(function(c){return b("relay-runtime").ConnectionHandler.buildConnectionEdge(a,v,c)}));o=v.getLinkedRecords(g);s=v.getLinkedRecord(n);v.copyFieldsFrom(p);o&&v.setLinkedRecords(o,g);s&&v.setLinkedRecord(s,n);e=[];d=c.args;if(t!=null&&d.after==null&&d.before==null){p=t.getValue(f);s=t.getValue(k);n=t.getValue(l);c=t.getValue(m);b("ODS").bumpFraction(2507,"ufi_connection_generation_incremented",b("gkx")("708253")?"comet":"blue",0,1);if(p!=null||s!=null||n!==!0&&c!==!0){b("ODS").bumpFraction(2507,"ufi_connection_generation_incremented",b("gkx")("708253")?"comet":"blue",1,0);s=(p=Number(v.getValue(i)))!=null?p:0;v.setValue(s+1,i)}}if(o&&r)if(d.after!=null)if(t&&d.after===t.getValue(k)){n=new Set();j(o,e,n);j(r,e,n)}else{b("warning")(!1,"Relay: Unexpected after cursor `%s`, edges must be fetched from the end of the list (`%s`).",d.after,t&&t.getValue(k));return}else if(d.before!=null)if(t&&d.before===t.getValue(f)){c=new Set();j(r,e,c);j(o,e,c)}else{b("warning")(!1,"Relay: Unexpected before cursor `%s`, edges must be fetched from the beginning of the list (`%s`).",d.before,t&&t.getValue(f));return}else e=r;else r?e=r:e=o;e!=null&&e!==o&&v.setLinkedRecords(e,g);if(t&&q)if(d.after==null&&d.before==null)t.copyFieldsFrom(q);else if(d.before!=null||d.after==null&&d.last){t.setValue(!!q.getValue(m),m);p=q.getValue(f);typeof p==="string"&&t.setValue(p,f)}else if(d.after!=null||d.before==null&&d.first){t.setValue(!!q.getValue(l),l);s=q.getValue(k);typeof s==="string"&&t.setValue(s,k)}}}function c(a,c,d){c=b("relay-runtime").getRelayHandleKey(g,c,null);return a.getLinkedRecord(c,d)}function d(a,c,d){return b("RelayFBConnectionHandler_UNSTABLE").unstable_getAllConnectionsWithKey(a,c,d,g)}function j(a,c,d){var e=b("relay-runtime").ConnectionInterface.get();e=e.NODE;for(var f=0;f<a.length;f++){var g=a[f];if(!g)continue;var h=g.getLinkedRecord(e);h=h&&h.getDataID();if(h!=null){if(d.has(h))continue;d.add(h)}c.push(g)}}}),null);
__d("RelayFBHandlerProvider",["BizKitNotificationsThinClientConnectionHandler","UFI2CommentsConnectionHandler","relay-runtime"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){switch(a){case"connection":return b("relay-runtime").ConnectionHandler;case"ufi2_comments":return b("UFI2CommentsConnectionHandler");case"bizkit_notifications_thin_client":return b("BizKitNotificationsThinClientConnectionHandler");case"deleteRecord":return b("relay-runtime").MutationHandlers.DeleteRecordHandler;case"deleteEdge":return b("relay-runtime").MutationHandlers.DeleteEdgeHandler;case"appendEdge":return b("relay-runtime").MutationHandlers.AppendEdgeHandler;case"prependEdge":return b("relay-runtime").MutationHandlers.PrependEdgeHandler;case"appendNode":return b("relay-runtime").MutationHandlers.AppendNodeHandler;case"prependNode":return b("relay-runtime").MutationHandlers.PrependNodeHandler}throw new Error("RelayFBHandlerProvider: No handler defined for `"+a+"`.")}}),null);
__d("RelayFBOperationLoader",["Promise","RelayFBModuleLoader"],(function(a,b,c,d,e,f){"use strict";a={get:function(a){return a==null||typeof a!=="object"?null:b("RelayFBModuleLoader").get(a)},load:function(a){return a==null||typeof a!=="object"?b("Promise").resolve(null):b("RelayFBModuleLoader").load(a)}};c=a;e.exports=c}),null);
__d("RelayFBScheduler",["ReactDOMComet"],(function(a,b,c,d,e,f){"use strict";a={cancel:function(){},schedule:function(a){b("ReactDOMComet").unstable_batchedUpdates(a);return""}};c=a;e.exports=c}),null);
__d("RelayRequiredFieldLogger",["FBLogger","err","fb-error"],(function(a,b,c,d,e,f){"use strict";f.create=a;var g=b("fb-error").TAALOpcode,h="relay-required";function i(a){return a.kind+"-"+a.fieldPath+"-"+a.owner}function a(){var a=new Set();return function(c){var d=i(c),e=a.has(d);e||a.add(d);switch(c.kind){case"missing_field.log":e||b("FBLogger")(h).blameToPreviousFrame().mustfix('Encountered a missing `@required` field with action "LOG" at "%s" in "%s"',c.fieldPath,c.owner);break;case"missing_field.throw":d=['Encountered a missing `@required` field with action "THROW" at "%s" in "%s"',c.fieldPath,c.owner];var f=b("err").apply(void 0,d);f.taalOpcodes=f.taalOpcodes||[];f.taalOpcodes.push(g.PREVIOUS_FRAME);if(!e){(e=b("FBLogger")(h).blameToPreviousFrame()).mustfix.apply(e,d)}throw f;default:c.kind}}}}),null);
__d("processRelayPrefetchURIsPayload",["ExecutionEnvironment","gkx"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){if(!b("ExecutionEnvironment").canUseDOM)return;if(b("gkx")("1766003"))return;a.forEach(function(a){if(typeof a==="string"){var b=new Image();b.src=a}})}}),null);
__d("withLive",["invariant"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=a.metadata;c=c.live;if(c!=null&&typeof c==="object"){c=h(a);a=i(a);c==null||a==null||g(0,45,c,a);c!=null||a!=null||g(0,46);if(c!=null){var d=b.poll;d==null||d===c||g(0,47,d,c);return babelHelpers["extends"]({},b,{poll:c})}if(a!=null){d=b.liveConfigId;d==null||d===a||g(0,48,d,a);return babelHelpers["extends"]({},b,{liveConfigId:a})}}return b}function h(a){a=a.metadata;a=a.live;if(a!=null&&typeof a==="object"){a.polling_interval==null||typeof a.polling_interval==="number"||g(0,49);return a.polling_interval}return null}function i(a){a=a.metadata;a=a.live;if(a!=null&&typeof a==="object"){a.config_id==null||typeof a.config_id==="string"||g(0,50);return a.config_id}return null}e.exports=a}),null);
__d("withLiveClientPolling",["invariant","LiveQueryWebClientPollingSwitchList"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h="switch_all_use_cases_careful_to_use";function a(a,c){var d=a.metadata;d=d.live;if(d!=null&&typeof d==="object"){d=i(a);if(d!=null){a=c.liveConfigId;a==null||a===d||g(0,48,a,d);a=b("LiveQueryWebClientPollingSwitchList").liveQueryWebClientPollingSwitchList;if(a!=null){if(typeof a[d]==="number")return babelHelpers["extends"]({},c,{poll:a[d]});if(typeof a[h]==="number"&&a[h]>5e3)return babelHelpers["extends"]({},c,{poll:a[h]})}}}return c}function i(a){a=a.metadata;a=a.live;if(a!=null&&typeof a==="object"){a.config_id==null||typeof a.config_id==="string"||g(0,50);return a.config_id}return null}}),null);
__d("createRelayFBNetwork",["DTSG","Promise","cr:1110430","gkx","isPromise","killswitch","processRelayPrefetchURIsPayload","processRelaySRPayload","relay-runtime","withLive","withLiveClientPolling"],(function(a,b,c,d,e,f){"use strict";e.exports=a;b("cr:1110430");var g=b("killswitch")("RELAY_BLOCK_NETWORK_ON_3D_STATIC_RESOURCES")===!1&&!b("gkx")("708253");function h(a,c,d,e,f,g){a=a.extensions;if(!a||a.__resources_processed){d&&d();return}a.__resources_processed=!0;if(a.__sr_unprocessed)throw b("relay-runtime").RelayError.create("GraphQLError","Fatal Error: Found unprocessed static resource payload");var h=a.prefetch_uris;b("gkx")("1906451")&&(a.prefetch_uris=null);h!=null&&Array.isArray(h)&&b("processRelayPrefetchURIsPayload")(h);h=a.prefetch_dash_segments;b("gkx")("1906451")&&(a.prefetch_dash_segments=null);h!=null&&Array.isArray(h)&&e&&e(h);e=a.sr_payload;b("gkx")("1906451")&&(a.sr_payload=null);e!=null&&typeof e==="object"?b("processRelaySRPayload")(e,c,d,function(a){g&&g({srPayloadStats:a})}):d&&d();h=a.dtsgToken;h&&typeof h==="string"&&b("DTSG").setToken(h);e=a.prefetch_comet_routing;b("gkx")("1906451")&&(a.prefetch_comet_routing=null);if(f!=null&&(e!=null&&typeof e==="object")){c=e.data;d=e.uris;(c!=null||d!=null)&&f(d,c)}}function i(a,c,d,e,f){var g;g=(g=a.extensions)==null?void 0:g.sr_payload;if(g!=null&&typeof g==="object")return new(b("Promise"))(function(b){h(a,c,function(){b(a)},d,e,f)});h(a,c,null,d,e,f);return a}function j(a,c){return b("relay-runtime").Observable.create(function(d){var e=!1,f,g,h=[];function i(a){if(g)h.push(a);else try{b("relay-runtime").Observable.from(c(a)).subscribe({start:function(a){g=a},next:d.next,error:d.error,complete:function(){g=void 0,h.length!==0?i(h.shift()):e&&d.complete()}})}catch(a){d.error(a)}}a.subscribe({start:function(a){f=a},next:i,error:d.error,complete:function(){e=!0,g||d.complete()}});return function(){g&&(g.unsubscribe(),g=void 0),f.unsubscribe(),h.length=0}})}function a(a,c,d,e){var f=b("relay-runtime").Network.create(a,c);return{execute:function(a,c,k,l,m){k=b("withLiveClientPolling")(a,b("withLive")(a,k));return g?j(f.execute(a,c,k,l,m),function(c){if(Array.isArray(c)){var f=[],g=!1;c.forEach(function(c){c=i(c,a.name,d,e,m);g=g||b("isPromise")(c);f.push(c)});return g?b("Promise").all(f):f}return i(c,a.name,d,e,m)}):f.execute(a,c,k,l,m)["do"]({next:function(b){Array.isArray(b)?b.forEach(function(b){h(b,a.name,null,d,e,m)}):h(b,a.name,null,d,e,m)}})}}}}),null);
__d("createChunkedResponseParser",["invariant"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h="\r\n",i=2;function a(a,b){var c=0,d=function(d,e,f){b&&(d=b(d),d==null||typeof d==="string"||g(0,4071));if(d){var j=d.length;while(c<j){var k=d.indexOf(h,c);if(k<0)if(f)k=j;else break;k=d.slice(c,k);c+=k.length+i;a(k,e,f&&c>=j)}}else f&&a("",e,!0)};d.parseStreaming=!0;return d}}),null);
__d("createRelayChunkedResponseParser",["invariant"],(function(a,b,c,d,e,f,g){"use strict";var h="\r\n",i=2;function a(a,b){var c=0,d=function(d,e,f){d=d;b&&(d=b(d),d==null||typeof d==="string"||g(0,42548));if(d!=null){var j=d.length,k=[];while(c<j){var l=d.indexOf(h,c);if(l<0)if(f)l=j;else break;l=d.slice(c,l);c+=l.length+i;k.push({responseText:l,responseHeaders:e,isComplete:f&&c>=j})}k.length>0&&a(k)}else f&&a([{responseText:"",responseHeaders:e,isComplete:!0}])};d.parseStreaming=!0;return d}e.exports=a}),null);
__d("getRelayAPIRequestHandler",["cr:696703"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var c=a;if(b("cr:696703")){var d=b("cr:696703").getUserBlockingRunAtCurrentPriCallbackScheduler_DO_NOT_USE();c=function(){for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];d(function(){return a.apply(void 0,c)})};c.parseStreaming=a.parseStreaming}return c}}),null);
__d("RelayAPIRequest",["invariant","NetworkStatus","URI","XHRHttpError","XHRRequest","createChunkedResponseParser","createRelayChunkedResponseParser","forEachObject","getRelayAPIRequestHandler","getSameOriginTransport","warning"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return a===b("XHRHttpError").HTTP_TRANSPORT_ERROR||a===b("XHRHttpError").HTTP_SERVER_ERROR}a=function(){function a(a,c,d){this.$1=!1,this.setURI(a),this.setMethod("POST"),this.setTransportBuilder(b("getSameOriginTransport")),this.$15=c,this.$16=d}var c=a.prototype;c.setURI=function(a){this.$1&&g(0,2124);this.$2=new(h||(h=b("URI")))(a);return this};c.setMethod=function(a){this.$1&&g(0,2125);this.$3=a;return this};c.setData=function(a){this.$1&&g(0,2126);this.$4=a;return this};c.setRawData=function(a){this.$1&&g(0,2127);this.$5=a;return this};c.setTrackingName=function(a){this.$8=a;return this};c.setPerformanceLogger=function(a){this.$17=a;return this};c.setRequestHeaders=function(a){this.$1&&g(0,2128);this.$6=a;return this};c.setTransportBuilder=function(a){var b=this;this.$1&&g(0,2129);var c=a;this.$9=function(){var a=c();a.setTrackingName&&a.setTrackingName(b.$8);a.setPerformanceLogger&&b.$17&&a.setPerformanceLogger(b.$17);return a};return this};c.setResponseFilter=function(a){this.$1&&g(0,2130);this.$10=a;return this};c.setResponseChunkHandler=function(a){this.$1&&g(0,2131);this.$11==null||g(0,42544);this.$12=a;return this};c.setResponseBatchChunkHandler=function(a){this.$1&&g(0,2131);this.$12==null||g(0,42545);this.$11=a;return this};c.setErrorHandler=function(a){this.$1&&g(0,2132);this.$13=a;return this};c.setTimeoutHandler=function(a){this.$1&&g(0,2133);this.$14=a;return this};c.setSkipRetry=function(a){this.$7=a;return this};c.send=function(){var a=this;this.$1&&g(0,2134);this.$1=!0;if(!this.$2||!this.$2.toString()){this.$13&&this.$13({errorCode:"HTTP_CLIENT_ERROR",errorType:"HTTP",errorMsg:"No uri provided - make sure RelayAPIConfig is properly setup."});return{abort:function(){}}}var c,d=0,e=0,f,h=function(){return!a.$7&&d<=a.$15.length},j=function(){var b=a.$15[d-1];b=e+b;var f=setTimeout(function(){c=k()},b-Date.now());c={abort:function(){clearTimeout(f)}}},k=function(){d++;e=Date.now();var g;a.$11?(g=b("createRelayChunkedResponseParser")(a.$11,a.$10),g=b("getRelayAPIRequestHandler")(g)):a.$12&&(g=b("createChunkedResponseParser")(a.$12,a.$10),g=b("getRelayAPIRequestHandler")(g));var k=a.$13,l=function(a){h()&&i(a.errorCode)?(b("warning")(!1,"RelayAPIRequest: Transient HTTP error, retrying. %s %s %s",a.errorType||"",a.errorCode||"",a.errorMsg||""),!b("NetworkStatus").isOnline()?(f=b("NetworkStatus").onChange(function(a){a=a.online;a&&(j(),f.remove())}),c={abort:function(){f.remove()}}):j()):k&&k(a)},m=a.$14,n=function(){h()?(b("warning")(!1,"RelayAPIRequest: HTTP timeout, retrying."),j()):m&&m()},o=new(b("XHRRequest"))(a.$2).setMethod(a.$3).setData(a.$4).setTransportBuilder(a.$9).setErrorHandler(l).setResponseHandler(g).setTimeout(a.$16).setTimeoutHandler(n);a.$5!=null&&o.setRawData(a.$5);a.$6&&b("forEachObject")(a.$6,function(a,b){o.setRequestHeader(b,a)});o.send();return o};c=k();return{abort:function(){c&&c.abort()}}};return a}();e.exports=a}),null);
__d("RelayRuntime",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";e.exports=b("relay-runtime")}),null);
__d("RelayGraphQLRequestUtils",["CSRFGuard","RelayRuntime","XHRHttpError"],(function(a,b,c,d,e,f){"use strict";var g=b("RelayRuntime").RelayError;a={createErrorFromPayload:function(a){if(typeof a==="object")if(a.code||a.description){var b;b=g.create("GraphQLError","GraphQL server responded with error %s: %s\n%s",a.code,a.description,(b=a.debug_info)!=null?b:"")}else b=g.create("GraphQLError","GraphQL server responded with error: %s",JSON.stringify(a));else b=g.create("GraphQLError","GraphQL server responded with an error: %s",a);b=b;b.source=a;typeof a==="object"&&(b.code=a.code,b.description=a.description,b.summary=a.summary,b.debug_info=a.debug_info);return b},createErrorFromXHR:function(a,c){var d;a.errorCode===b("XHRHttpError").HTTP_TRANSPORT_ERROR?d=g.createWarning("NetworkTransportError",c):a.errorCode===b("XHRHttpError").HTTP_CLIENT_ERROR&&a.errorMsg&&a.errorMsg.match(/OAuthException/)?d=g.create("NetworkOAuthError",c):d=g.create("NetworkRequestError",c);d.source=a;return d},getRelayAPIConfigHeaders:function(a,b,c){a=babelHelpers["extends"]({},a);b&&(a["Content-Encoding"]=b);c&&(a["User-Agent"]=c);return a},parsePayload:function(a){if(b("CSRFGuard").exists(a)){var c=h(b("CSRFGuard").clean(a));if(Object.prototype.hasOwnProperty.call(c,"data")||!Object.prototype.hasOwnProperty.call(c,"error"))return c;var d=g.createWarning("GraphQLXControllerError","GraphQL server responded with error %s: %s\n%s",c.error,c.errorSummary,c.errorDescription);d=d;d.source=c;d.code=c.error;d.description=c.errorDescription;d.summary=c.errorSummary;throw d}return h(a)}};function h(a){try{return JSON.parse(a)}catch(b){throw g.create("JSONParseError","Response contained invalid JSON.\nReason: %s\n%s",b.message,a)}}e.exports=a}),null);
__d("RelayAsyncStreamPool",["invariant"],(function(a,b,c,d,e,f,g){"use strict";var h=0,i=1,j=2;a=function(){function a(){this.$1=0,this.$2=new Map()}var b=a.prototype;b.forceComplete=function(a){a=this.$3(a);if(a.status!==h)return;var b=a.observers;a.status=j;a.events.push({kind:"complete",sequenceNumber:a.events.length});a.observers=new Map();b.forEach(function(a){return a.complete()})};b.forceError=function(a,b){a=this.$3(a);if(a.status!==h)return;var c=a.observers;a.status=j;a.events.push({kind:"error",error:b,sequenceNumber:a.events.length});a.observers=new Map();c.forEach(function(a){return a.error(b)})};b.complete=function(a,b){Number.isInteger(b)&&b>=0||g(0,14878,b);var c=this.$3(a);if(c.status!==h)return;var d=c.events.length;if(b===d){var e=c.observers;c.status=j;c.events.push({kind:"complete",sequenceNumber:b});c.observers=new Map();e.forEach(function(a){return a.complete()})}else b>d&&!Object.prototype.hasOwnProperty.call(c.pendingEvents,b)||g(0,14879,b,a),c.status=i,c.pendingEvents[b]={kind:"complete",sequenceNumber:b}};b.error=function(a,b,c){Number.isInteger(c)&&c>=0||g(0,14878,c);var d=this.$3(a);if(d.status!==h)return;var e=d.events.length;if(c===e){var f=d.observers;d.status=j;d.events.push({kind:"error",error:b,sequenceNumber:c});d.observers=new Map();f.forEach(function(a){return a.error(b)})}else c>e&&!Object.prototype.hasOwnProperty.call(d.pendingEvents,c)||g(0,14879,c,a),d.status=i,d.pendingEvents[c]={kind:"error",error:b,sequenceNumber:c}};b.next=function(a,b,c){Number.isInteger(c)&&c>=0||g(0,14878,c);var d=this.$3(a);if(d.status===j)return;var e=d.events.length;if(c===e){var f=d.observers;d.events.push({kind:"next",data:b,sequenceNumber:c});f.forEach(function(a){return a.next(b)});var h=d.pendingEvents,i=function(b){var c=h[b];if(c==null)return"break";d.events.push(c);switch(c.kind){case"complete":d.status=j;d.observers=new Map();f.forEach(function(a){return a.complete()});return{v:void 0};case"error":d.status=j;d.observers=new Map();f.forEach(function(a){return a.error(c.error)});return{v:void 0};case"next":f.forEach(function(a){return a.next(c.data)});break;default:c.kind,g(0,14593,c.kind,a)}};_loop:for(var k=e+1;k<h.length;k++){var l=i(k);switch(l){case"break":break _loop;default:if(typeof l==="object")return l.v}}}else c>e&&!Object.prototype.hasOwnProperty.call(d.pendingEvents,c)||g(0,14879,c,a),d.pendingEvents[c]={kind:"next",data:b,sequenceNumber:c}};b.clear=function(a){this.$2["delete"](a)};b.has=function(a){return this.$2.has(a)};b.subscribe=function(a,b){var c=this.$3(a),d=this.$1++,e=c.events;e.length!==0&&e.forEach(function(c){switch(c.kind){case"complete":b.complete();break;case"error":b.error(c.error);break;case"next":b.next(c.data);break;default:c.kind,g(0,14593,c.kind,a)}});var f=c.observers;f.set(d,b);e={unsubscribe:function(){f["delete"](d)}};b.start(e);return e};b.$3=function(a){var b=this.$2.get(a);b==null&&(b={status:h,events:[],observers:new Map(),pendingEvents:[]},this.$2.set(a,b));return b};return a}();e.exports=a}),null);
__d("stableStringifyPrefetchedRelayVariablesWithActor",["stableStringify"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c){a=["$actorID:"+a];var d=Object.keys(c).sort();for(var e=0;e<d.length;e++){var f=d[e],g=c[f];g!=null&&a.push(f+": "+b("stableStringify")(g))}return"{"+a.join(",")+"}"}}),null);
__d("RelayPrefetchedStreamCache",["ExecutionEnvironment","FBLogger","RelayAsyncStreamPool","clearImmediate","setImmediateAcrossTransitions","stableStringifyPrefetchedRelayVariablesWithActor"],(function(a,b,c,d,e,f){"use strict";f.clear=a;f.subscribe=c;f.next=d;f.error=e;f.registerPreloader=r;var g=new(b("RelayAsyncStreamPool"))(),h={},i={},j={};function k(a,b){return Object.prototype.hasOwnProperty.call(j,a)?j[a][b]:null}function l(a,b,c){Object.prototype.hasOwnProperty.call(j,a)?j[a][b]=c:(j[a]={},j[a][b]=c)}function m(a,b){if(Object.prototype.hasOwnProperty.call(h,a)){var c=h[a][b];c!=null&&g.clear(c);delete h[a][b];Object.keys(h[a]).length===0&&delete h[a]}Object.prototype.hasOwnProperty.call(i,a)&&(delete i[a][b],Object.keys(i[a]).length===0&&delete i[a]);Object.prototype.hasOwnProperty.call(j,a)&&(delete j[a][b],Object.keys(j[a]).length===0&&delete j[a])}function n(a,c){var d=k(a,c);d&&(b("clearImmediate")(d),m(a,c))}function o(a,c){k(a,c)||l(a,c,b("setImmediateAcrossTransitions")(function(){m(a,c)}))}function p(a,b){return Object.prototype.hasOwnProperty.call(h,a)?h[a][b]:null}function q(a,b,c){Object.prototype.hasOwnProperty.call(h,a)||(h[a]={}),Object.prototype.hasOwnProperty.call(i,a)||(i[a]={}),i[a][b]=!1,h[a][b]=c}function a(a,c,d){a=b("stableStringifyPrefetchedRelayVariablesWithActor")(a,d);o(c,a)}function c(a,c,d,e,f){a=b("stableStringifyPrefetchedRelayVariablesWithActor")(a,d);d=p(c,a);if(d!=null){i[c][a]=!0;return g.subscribe(d,e)}if(h[c]&&Object.values(i[c]).filter(function(a){return!a}).length>0){var j;d=Object.keys(h[c]);b("FBLogger")("RelayQueryPreloader").addMetadata("RELAY_PRELOADER","QUERY_ID",c).addMetadata("RELAY_PRELOADER","QUERY_NAME",(j=f)!=null?j:"unknown").addToCategoryKey((j=f)!=null?j:c).warn("RelayPrefetchedStreamCache.subscribe(): Could not find preloader for query with actor ID and variables: `%s`\n\nbut had data for that query with actorID/variables:\n `%s`\n",a,d.join("||"))}if(!b("ExecutionEnvironment").canUseDOM){b("FBLogger")("RelayQueryPreloader").addMetadata("RELAY_PRELOADER","QUERY_ID",c).addMetadata("RELAY_PRELOADER","QUERY_NAME",(j=f)!=null?j:"unknown").addToCategoryKey((d=f)!=null?d:c).mustfix("RelayPrefetchedStreamCache:.get: Missing relay query preloader for query: %s with actorID and variables %s. Make sure your relay preloaders are configured. https://fburl.com/comet_preloading",f!=null?f:c,a)}j=!1;d={unsubscribe:function(){j=!0}};e.start(d);j||e.complete();return d}function d(a,c){var d=null,e=0,f=null;if(c!=null){var h;d=c.result;e=(h=c.sequence_number)!=null?h:0;f=c.complete;typeof f!=="boolean"&&b("FBLogger")("RelayQueryPreloader").mustfix("RelayPrefetchedStreamCache:.next: Expected GraphQL preloader `complete` field to be a boolean, got `%s` for preloader `%s`.",String(f),a)}d!=null&&g.next(a,d,e);h=d==null||f!==!1;h&&g.complete(a,e+1)}function e(a,b,c){c===void 0&&(c=0),c===0?g.forceError(a,b):g.error(a,b,c)}function r(a,c,d,e){var f=b("stableStringifyPrefetchedRelayVariablesWithActor")(e,d);n(c,f);var h=p(c,f);h!=null&&(b("FBLogger")("RelayQueryPreloader").addMetadata("RELAY_PRELOADER","QUERY_ID",c).warn("RelayPrefetchedStreamCache::registerPreloader(): You must not register more than one preloader for the query with ID `%s` and actorID/variables `%s`. This could result in stale data.",c,b("stableStringifyPrefetchedRelayVariablesWithActor")(e,d)),g.forceComplete(h),m(c,f));q(c,f,a)}}),null);
__d("RelayPrefetchedResponseProvider",["RelayGraphQLRequestUtils","RelayPrefetchedStreamCache","RelayRuntime"],(function(a,b,c,d,e,f){"use strict";var g=b("RelayRuntime").Observable;a={get:function(a,c,d,e,f){return g.create(function(f){var g=function(a){if(!a){f.complete();return}if(a.errors)for(var c=a.errors,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(d){if(e>=c.length)break;g=c[e++]}else{e=c.next();if(e.done)break;g=e.value}g=g;if(g.severity==="CRITICAL"){f.error(b("RelayGraphQLRequestUtils").createErrorFromPayload(g));return}}f.next(a)},h=b("RelayPrefetchedStreamCache").subscribe(a,c,d,{complete:f.complete,error:function(a){return f.complete()},next:g,start:function(){}},e);return function(){h!=null&&(h.unsubscribe(),h=null),b("RelayPrefetchedStreamCache").clear(a,c,d)}})}};e.exports=a}),null);
__d("RelayWWWInitialRolloutResolver",["gkx"],(function(a,b,c,d,e,f){"use strict";f.enableWWWInitial=a;var g=[{gk:function(){return!0},config_ids:new Set(["relay_live_query_demo_intern_task"])},{gk:function(){return b("gkx")("1369861")},config_ids:new Set(["relay_queue_manager","relay_queue_manager_root_calls","relay_queue_manager_sidebar_searches_sets"])},{gk:function(){return b("gkx")("1414060")},config_ids:new Set(["relay_work_galahad_meeting_calendar","relay_work_galahad_admin_bookmarks"])},{gk:function(){return b("gkx")("1443173")},config_ids:new Set(["streamer_dashboard_comments","streamer_dashboard_moderation"])},{gk:function(){return b("gkx")("1414691")},config_ids:new Set(["www_wp_cc_preview_uri"])},{gk:function(){return b("gkx")("1477298")},config_ids:new Set(["relay_sevmanager_comment_panel","relay_sevmanager_incident_report_panel","relay_sevmanager_summary_panel","relay_sevmanager_escalation_panel"])},{gk:function(){return b("gkx")("1443174")},config_ids:new Set(["rtc_web_vcl_update_query","sandcastle_job_root","www_lwi_banner","m_relay_dtp_activity","GHOSTBUSTER_CONFIG"])},{gk:function(){return b("gkx")("1443175")},config_ids:new Set(["sev_recovery_metric_panel","relay_ops_center_blockers","relay_daiquery_query_version","lead_gen_goldilocks_stage_count","relay_launch_manager_attachments","relay_opscenter_issue_details","relay_dtp_activity","relay_global_support_activity_code_selector_query","smart_office_stargates_page","relay_opscenter_powersearch_issues","relay_recruiting_requisitions","relay_snoop_insight_series_live_container","canvas_document_root_container","relay_consent_order","db_portal_aosc_running_jobs_notification","relay_dataops_configerator","db_portal_olm_notification","relay_opscenter_issue_groups","svc_deployment_jobs_chart_sidebar_task_states","relay_graphql_record_server_poll"])},{gk:function(){return b("gkx")("1865464")},config_ids:new Set(["comet_lwi_payment_method_section","comet_video_viewer_tagged_products","comet_live_together","comet_billing_blue_on_comet_util","comet_billing_account_info_collection_util","gemini_calendar_connection_loading","comet_billing_required_wizard_name","comet_coplay_discovery_rooms_query","gemini_garden_badge_unread_count","comet_live_event_manager_list","comet_live_event_root_query","gemini_garden_chats_badge_unread_count","comet_live_event_video_indicator"])}],h=new Set(["relay_snoop_insight_series_live_container","relay_snoop_case_details_live_container"]);function a(a){if(h.has(a))return!1;for(var c=0;c<g.length;c++){var d=g[c];if(d.config_ids!=null&&d.config_ids.has(a))return d.gk()}return b("gkx")("1443176")}}),null);
__d("getAnalyticsTags",["relay-runtime","requireWeak"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(){var a=[];b("requireWeak")("QPLUserFlow",function(b){b=b.getActiveFlowIDs();b.length>0&&a.push("qpl_active_flow_ids="+b.sort().join(","))});return b("relay-runtime").Observable.from(a)}}),null);
__d("createRelayFBNetworkFetch",["invariant","RelayAPIConfig","RelayAPIRequest","RelayGraphQLRequestUtils","RelayPrefetchedResponseProvider","RelayRuntime","RelayWWWInitialRolloutResolver","getAnalyticsTags","getAsyncParams","getCrossOriginTransport","getSameOriginTransport","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=(d=b("RelayRuntime")).Observable,i=d.RelayError,j=d.RelayProfiler,k=d.RelayFeatureFlags;function l(a){return a.operationKind==="mutation"}function m(a){return a.operationKind==="query"}function n(b,c){a.FormData!=null||g(0,19002);var d=new FormData();for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&d.append(e,b[e]);for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&d.append(f,c[f]);return d}function o(a){a=a.cacheID?a.cacheID:a.id;a!=null||g(0,22754);return a}function c(a){var c=a.graphURI,d=a.transportBuilder,e=a.getAdditionalData,f=a.getAdditionalHeaders,h=a.queryResponseCache,i=a.liveQueryFetchWithWWWInitialFn,j=a.liveQueryFetchFn,l=a.wrapObservableFn,m=a.accessToken,n=a.actorID,o=a.customHeaders,v=a.fetchTimeout,w=a.getAnalyticsTags,x=w===void 0?b("getAnalyticsTags"):w,y=a.retryDelays,z=a.userAgent,A=a.xhrEncoding,B=a.useXController,C=a.tokenProxy,D=a.batchResponseChunks;return function(a,w,E,F,G){var H,I,J,K,L,M,N;H=(H=c)!=null?H:b("RelayAPIConfig").graphURI;var O=h;I=(I=n)!=null?I:b("RelayAPIConfig").actorID;J=(J=m)!=null?J:b("RelayAPIConfig").accessToken;K=(K=B)!=null?K:b("RelayAPIConfig").useXController;k.ENABLE_FRIENDLY_QUERY_NAME_GQL_URL&&H.addQueryData({__query:a.name});L=(L=d)!=null?L:K?b("getSameOriginTransport"):b("RelayAPIConfig").withCredentials?b("getCrossOriginTransport").withCredentials:b("getCrossOriginTransport");K=e?e():K?{av:I}:{access_token:J};M=f?f():b("RelayGraphQLRequestUtils").getRelayAPIConfigHeaders((M=o)!=null?M:b("RelayAPIConfig").customHeaders,(M=A)!=null?M:b("RelayAPIConfig").xhrEncoding,(M=z)!=null?M:b("RelayAPIConfig").userAgent);var P={queryName:a.name,usedCache:!1,usedPrefetcher:!1,serverTimestamp:null,transactionId:E.transactionId};N=E==null?void 0:(N=E.metadata)==null?void 0:N.performanceLogger;M=u(H,L,M,a,w,F,K,x,(H=y)!=null?H:b("RelayAPIConfig").retryDelays,(L=v)!=null?L:b("RelayAPIConfig").fetchTimeout,C,N,D);O&&(M=t(M,a,w,O));F=q(E);F!=null&&(M=F.withDiskCacheSave(a,I,w,M));K=r(a,w,P,O,E,I,G,N);H=null;E.liveConfigId!=null&&(!b("RelayWWWInitialRolloutResolver").enableWWWInitial(E.liveConfigId)||i==null)&&(j!=null||g(0,37288,E.liveConfigId),H=j(a,w,{actor_id:I,access_token:J,config_id:E.liveConfigId}));L=H?K.concat(H):K;if(F!=null){N=F.getResponse(a,I,w);L=L.ifEmpty(N)}if(O){H=s(a,w,P,E,O,G);L=L.ifEmpty(H)}L=L.ifEmpty(M);k.ENABLE_DO_NOT_WRAP_LIVE_QUERY&&(L=l!=null?l(L):L);E.liveConfigId!=null&&b("RelayWWWInitialRolloutResolver").enableWWWInitial(E.liveConfigId)&&i!=null&&(L=i(a,w,{actor_id:I,access_token:J,config_id:E.liveConfigId},L));k.ENABLE_DO_NOT_WRAP_LIVE_QUERY||(L=l!=null?l(L):L);return p(P,L)}}function p(a,b){var c;return b["do"]({start:function(){c=j.profile("fetchRelayQuery",a)},next:function(b){var d;if(!Array.isArray(b)&&((d=b.extensions)==null?void 0:d.server_metadata)!=null&&((d=b.extensions.server_metadata)==null?void 0:d.request_start_time_ms)!=null&&((d=b.extensions.server_metadata)==null?void 0:d.time_at_flush_ms)!=null){d=b.extensions.server_metadata;b=d.request_start_time_ms;d=d.time_at_flush_ms;a.serverTimestamp={startTime:Number(b),endTime:Number(d)}}c.stop()},error:function(a){c.stop(a)}})}function q(a){return a==null?void 0:(a=a.metadata)==null?void 0:a.queryResponseDiskCache}function r(a,c,d,e,f,i,j,k){if(!m(a))return h.create(function(a){return a.complete()});var l=o(a);f=f!=null&&f.metadata!=null&&f.metadata.prefetchedResponseProvider||void 0;f!=null&&(typeof f.get==="function"||g(0,2666),f=f);f=(f=f)!=null?f:b("RelayPrefetchedResponseProvider");f=f.get(i,l,c,a.name,k);return f.map(function(a){j!=null&&j({prefetched:!0});d.usedPrefetcher=!0;e&&e.set(l,c,a);return a})}function s(a,b,c,d,e,f){return h.create(function(g){if(m(a)&&!d.force){var h=e.get(o(a),b);h&&(f!=null&&f({cached:!0}),c.usedCache=!0,g.next(h))}g.complete()})}function t(a,b,c,d){return a["do"]({next:function(a){l(b)?d.clear():Array.isArray(a)||d.set(o(b),c,a)}})}function u(a,c,d,e,f,g,j,k,m,o,p,q,r){p===void 0&&(p=!1);r===void 0&&(r=!1);return h.create(function(s){(!l(e)||k==null)&&(k=function(){return h.from(null)}),k().subscribe({next:function(h){var k=new(b("RelayAPIRequest"))(a,m,o).setMethod("POST").setSkipRetry(l(e)).setTrackingName("RelayFBNetwork_"+e.name).setPerformanceLogger(q).setTransportBuilder(c).setErrorHandler(function(a){var c;s.error(b("RelayGraphQLRequestUtils").createErrorFromXHR(a,"Network request encountered error "+(((c=a.errorType)!=null?c:"")+" ")+(((c=a.errorCode)!=null?c:"")+": "+((c=a.errorMsg)!=null?c:""))))}).setTimeoutHandler(function(){s.error(i.createWarning("NetworkTimeoutError","Network request timed out. %s(%s)",e.name,e.id||""))});r?k.setResponseBatchChunkHandler(function(a){var c=[],d;for(var a=a,f=Array.isArray(a),g=0,a=f?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=a.length)break;h=a[g++]}else{g=a.next();if(g.done)break;h=g.value}h=h;var j=h.responseText;h=h.isComplete;d=d||h;h=void 0;try{h=b("RelayGraphQLRequestUtils").parsePayload(j)}catch(a){c.length>0&&s.next(c);return s.error(a)}if(h==null){c.length>0&&s.next(c);return s.error(i.createWarning("EmptyResponseError","Parsed network response is empty. %s(%s)",e.name,e.id||""))}if(h.errors)for(var j=h.errors,k=Array.isArray(j),l=0,j=k?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(k){if(l>=j.length)break;m=j[l++]}else{l=j.next();if(l.done)break;m=l.value}m=m;if(m.severity==="CRITICAL"){c.length>0&&s.next(c);return s.error(b("RelayGraphQLRequestUtils").createErrorFromPayload(m))}}Array.isArray(h)?c.push.apply(c,h):c.push(h)}c.length>0&&s.next(c);d&&s.complete()}):k.setResponseChunkHandler(function(a,c,d){try{c=b("RelayGraphQLRequestUtils").parsePayload(a)}catch(a){return s.error(a)}if(!c)return s.error(i.createWarning("EmptyResponseError","Parsed network response is empty. %s(%s)",e.name,e.id||""));if(c.errors)for(var a=c.errors,f=Array.isArray(a),g=0,a=f?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=a.length)break;h=a[g++]}else{g=a.next();if(g.done)break;h=g.value}h=h;if(h.severity==="CRITICAL")return s.error(b("RelayGraphQLRequestUtils").createErrorFromPayload(h))}s.next(c);d&&s.complete()});var t=babelHelpers["extends"]({},j,b("getAsyncParams")("POST"),{fb_api_caller_class:"RelayModern",fb_api_req_friendly_name:e.name,variables:JSON.stringify(f),server_timestamps:!0});p&&delete t.__csr;e.id?t.doc_id=e.id:t.doc=b("nullthrows")(e.text,"RelayFBNetwork: A query should have either an id or text, found neither.");h!=null&&h.length>0&&(t.fb_api_analytics_tags=JSON.stringify(h));g!=null?k.setRawData(n(g,t)):k.setData(t).setRequestHeaders(babelHelpers["extends"]({"Content-Type":"application/x-www-form-urlencoded"},d));return k.send().abort}})})}e.exports=c}),null);
__d("RelayRTIGraphQLSubscriptionTopicProvider",["FBLogger","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.registerProvider=function(a,c){if(Object.prototype.hasOwnProperty.call(this.$1,a)){b("FBLogger")("relay").mustfix("Multiple RTIGraphQLSubscription topic providers were registered for the query: %s",a);return}this.$1[a]=c};c.clearProvider=function(a){Object.prototype.hasOwnProperty.call(this.$1,a)&&delete this.$1[a]};c.registerProviderForQuery=function(a,c){if(b("relay-runtime").isRequest(a)===!1){b("FBLogger")("relay").blameToPreviousFile().warn("The `subscription` passed to `registerProvider()` must be a `ConcreteRequest`.");return}a=b("relay-runtime").getRequest(a);a=a.params.id;typeof a==="string"&&this.registerProvider(a,c)};c.clearProviderForQuery=function(a){a=b("relay-runtime").getRequest(a);a=a.params.id;typeof a==="string"&&this.clearProvider(a)};c.getTopicForQuery=function(a,c){var d=this.$1[a]||null;if(d==null)return null;var e=null;try{e=d(c)}catch(c){b("FBLogger")("relay").catching(c).mustfix("TopicProvider for queryID %s threw an unexpected exception",a)}return(d=e)!=null?d:null};return a}();c=new a();e.exports=c}),null);
__d("RelayFBEnvironment",["cr:1385201"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1385201");e.exports=a}),null);
__d("str2rstr",[],(function(a,b,c,d,e,f){e.exports=a;function a(a){var b="",c,d;for(var e=0;e<a.length;e++)c=a.charCodeAt(e),d=e+1<a.length?a.charCodeAt(e+1):0,55296<=c&&c<=56319&&56320<=d&&d<=57343&&(c=65536+((c&1023)<<10)+(d&1023),e++),c<=127?b+=String.fromCharCode(c):c<=2047?b+=String.fromCharCode(192|c>>>6&31,128|c&63):c<=65535?b+=String.fromCharCode(224|c>>>12&15,128|c>>>6&63,128|c&63):c<=2097151&&(b+=String.fromCharCode(240|c>>>18&7,128|c>>>12&63,128|c>>>6&63,128|c&63));return b}}),null);
__d("md5",["str2rstr"],(function(a,b,c,d,e,f){e.exports=a;function g(a,b){var c=a[0],d=a[1],e=a[2],f=a[3];c=i(c,d,e,f,b[0],7,-680876936);f=i(f,c,d,e,b[1],12,-389564586);e=i(e,f,c,d,b[2],17,606105819);d=i(d,e,f,c,b[3],22,-1044525330);c=i(c,d,e,f,b[4],7,-176418897);f=i(f,c,d,e,b[5],12,1200080426);e=i(e,f,c,d,b[6],17,-1473231341);d=i(d,e,f,c,b[7],22,-45705983);c=i(c,d,e,f,b[8],7,1770035416);f=i(f,c,d,e,b[9],12,-1958414417);e=i(e,f,c,d,b[10],17,-42063);d=i(d,e,f,c,b[11],22,-1990404162);c=i(c,d,e,f,b[12],7,1804603682);f=i(f,c,d,e,b[13],12,-40341101);e=i(e,f,c,d,b[14],17,-1502002290);d=i(d,e,f,c,b[15],22,1236535329);c=j(c,d,e,f,b[1],5,-165796510);f=j(f,c,d,e,b[6],9,-1069501632);e=j(e,f,c,d,b[11],14,643717713);d=j(d,e,f,c,b[0],20,-373897302);c=j(c,d,e,f,b[5],5,-701558691);f=j(f,c,d,e,b[10],9,38016083);e=j(e,f,c,d,b[15],14,-660478335);d=j(d,e,f,c,b[4],20,-405537848);c=j(c,d,e,f,b[9],5,568446438);f=j(f,c,d,e,b[14],9,-1019803690);e=j(e,f,c,d,b[3],14,-187363961);d=j(d,e,f,c,b[8],20,1163531501);c=j(c,d,e,f,b[13],5,-1444681467);f=j(f,c,d,e,b[2],9,-51403784);e=j(e,f,c,d,b[7],14,1735328473);d=j(d,e,f,c,b[12],20,-1926607734);c=k(c,d,e,f,b[5],4,-378558);f=k(f,c,d,e,b[8],11,-2022574463);e=k(e,f,c,d,b[11],16,1839030562);d=k(d,e,f,c,b[14],23,-35309556);c=k(c,d,e,f,b[1],4,-1530992060);f=k(f,c,d,e,b[4],11,1272893353);e=k(e,f,c,d,b[7],16,-155497632);d=k(d,e,f,c,b[10],23,-1094730640);c=k(c,d,e,f,b[13],4,681279174);f=k(f,c,d,e,b[0],11,-358537222);e=k(e,f,c,d,b[3],16,-722521979);d=k(d,e,f,c,b[6],23,76029189);c=k(c,d,e,f,b[9],4,-640364487);f=k(f,c,d,e,b[12],11,-421815835);e=k(e,f,c,d,b[15],16,530742520);d=k(d,e,f,c,b[2],23,-995338651);c=l(c,d,e,f,b[0],6,-198630844);f=l(f,c,d,e,b[7],10,1126891415);e=l(e,f,c,d,b[14],15,-1416354905);d=l(d,e,f,c,b[5],21,-57434055);c=l(c,d,e,f,b[12],6,1700485571);f=l(f,c,d,e,b[3],10,-1894986606);e=l(e,f,c,d,b[10],15,-1051523);d=l(d,e,f,c,b[1],21,-2054922799);c=l(c,d,e,f,b[8],6,1873313359);f=l(f,c,d,e,b[15],10,-30611744);e=l(e,f,c,d,b[6],15,-1560198380);d=l(d,e,f,c,b[13],21,1309151649);c=l(c,d,e,f,b[4],6,-145523070);f=l(f,c,d,e,b[11],10,-1120210379);e=l(e,f,c,d,b[2],15,718787259);d=l(d,e,f,c,b[9],21,-343485551);a[0]=r(c,a[0]);a[1]=r(d,a[1]);a[2]=r(e,a[2]);a[3]=r(f,a[3])}function h(a,b,c,d,e,f){b=r(r(b,a),r(d,f));return r(b<<e|b>>>32-e,c)}function i(a,b,c,d,e,f,g){return h(b&c|~b&d,a,b,e,f,g)}function j(a,b,c,d,e,f,g){return h(b&d|c&~d,a,b,e,f,g)}function k(a,b,c,d,e,f,g){return h(b^c^d,a,b,e,f,g)}function l(a,b,c,d,e,f,g){return h(c^(b|~d),a,b,e,f,g)}function m(a){var b=a.length,c=[1732584193,-271733879,-1732584194,271733878],d;for(d=64;d<=a.length;d+=64)g(c,n(a.substring(d-64,d)));a=a.substring(d-64);var e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(d=0;d<a.length;d++)e[d>>2]|=a.charCodeAt(d)<<((d&3)<<3);e[d>>2]|=128<<((d&3)<<3);if(d>55){g(c,e);for(d=0;d<16;d++)e[d]=0}e[14]=b*8;g(c,e);return c}function n(a){var b=[],c=0;while(c<64)b[c>>2]=a.charCodeAt(c++)|a.charCodeAt(c++)<<8|a.charCodeAt(c++)<<16|a.charCodeAt(c++)<<24;return b}var o="0123456789abcdef".split("");function p(a){var b="",c=0;for(;c<4;c++)b+=o[a>>(c<<3)+4&15]+o[a>>(c<<3)&15];return b}function q(a){var b=[];for(var c=0;c<a.length;c++)b[c]=p(a[c]);return b.join("")}var r=function(a,b){return a+b&4294967295};function a(a){if(a==null)return null;a=a;for(var c=0;c<a.length;c++)if(a[c]>"\x7f"){a=b("str2rstr")(a);break}return q(m(a))}a("hello")!="5d41402abc4b2a76b9719d911017c592"&&(r=function(a,b){var c=(a&65535)+(b&65535);a=(a>>16)+(b>>16)+(c>>16);return a<<16|c&65535})}),null);
__d("RelayRTIUtils",["invariant","ActorURI","CSRFGuard","ChannelClientID","CurrentLocale","CurrentUser","GraphQLSubscriptionsTypedLogger","Promise","Random","RealtimeFrameworksCounterFalcoEvent","RelayAPIConfig","RelayFBEnvironment","XHRRequest","getAsyncParams","getCrossOriginTransport","gkx","md5","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";f.maybeLaunchGraphQLSubscriptionsFleetBeacon=a;f.logSubscriptionEvent=c;f.extractUseCaseFromTopic=n;f.getTopicAndTransformContext_DEPRECATED=d;f.computeRoutingHint=e;f.useJSScheduler=o;var h=b("requireDeferred")("FleetBeaconSubscriptionLauncher").__setRef("RelayRTIUtils"),i=1e4,j=1,k=1e4,l="155160167952447";f.GRAPH_SERVICES_SDK_APP_ID=l;var m="test_fleet_beacon_subscribe";function a(a){if(!b("gkx")("1344998"))return!1;if(a==m)return!1;if(!b("Random").coinflip(k))return!1;h.onReady(function(c){var d=c.CreateFleetBeaconTestSubscription;c=c.LaunchFleetBeaconTestSubscription;var e=b("RelayFBEnvironment");d=d(e,a,function(a){});c(d)});return!0}function c(a,c,d,e,f,g){var h=null;switch(a){case"client_subscribe":h="client_subscribe";break;case"client_unsubscribe":h="client_unsubscribe";break;case"receivepayload":h="client_received_payload";break}h!==null&&b("RealtimeFrameworksCounterFalcoEvent").log(function(){var a;return{event:(a=h)!=null?a:"",event_detail:"null",use_case:c,use_case_type:"gqls"}});var k=b("gkx")("1243442")||e!=null?j:i;if(!b("Random").coinflip(k))return;var l=new(b("GraphQLSubscriptionsTypedLogger"))();l.setSubscriptionCall(c).setQueryParams({input:JSON.stringify(d.input)}).setForceLogContext(e).setEvent(a).setHandleType(f).setClienttime(Date.now()/1e3).setClientSampleWeight(k).setQueryID(g).setSessionID(b("ChannelClientID").getID()).log()}function n(a){return a.split("/").reverse()[1]}function d(a,c,d,e,f,h){if(d!=null&&f!=null){var i={locale:b("CurrentLocale").get(),queryID:String(d),serializedQueryParameters:JSON.stringify(e),viewerID:b("CurrentUser").getID(),pageID:h==b("CurrentUser").getID()?null:h,useOSSResponseFormat:!0,appID:l};return b("Promise").resolve({topic:f,transformContext:i,useCase:n(f)})}c!=null||d!=null||g(0,271);return new(b("Promise"))(function(f,g){var i,j;i=babelHelpers["extends"]((j={},j[b("ActorURI").PARAMETER_ACTOR]=(i=h)!=null?i:b("RelayAPIConfig").actorID,j.query_params=JSON.stringify(e),j),b("getAsyncParams")("POST"));d!=null&&(i.doc_id=d);c!=null&&(i.query=c);j=new(b("XHRRequest"))(a).setTransportBuilder(b("getCrossOriginTransport").withCredentials).setMethod("POST").setData(i).setErrorHandler(function(a){g(new Error("getTopicAndTransformContext: Unable to retrieve topicID for subscription. HTTP Error ["+a.errorCode+"] "+a.errorType+" "+a.errorMsg))}).setResponseHandler(function(a){try{var c=JSON.parse(b("CSRFGuard").clean(a)),d=c.payload.topic||c.payload.payload.topic;c=JSON.parse(c.payload.transform_context||c.payload.payload.transform_context);f({topic:d,transformContext:c,useCase:n(d)})}catch(b){g(new Error("getTopicAndTransformContext: encountered error "+b+" during "+("parsing, raw response is \n"+a)))}});j.send()})}function e(a,c){c=Object.assign({},c);delete c.client_subscription_id;c=(JSON.stringify(c).match(/[a-zA-Z0-9\-_]+/g)||[]).concat(a).sort().join(":");return b("md5")(c)}function o(a){return a==="pegasus_comment_create_subscribe"?!0:!1}}),null);
__d("RelayRTIGraphQLSubscriber",["invariant","CurrentUser","FBLogger","GQLSManager","JSScheduler","Promise","RTISubscriptionManagerConfig","Random","RelayRTIGraphQLSubscriptionTopicProvider","RelayRTIUtils","RelayRuntime","StreamStateMachineConstants","gkx","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";f.subscribeWithURIWithLoggingWithCacheInvalidation=a;f.subscribeWithMobileStyleTopicTransform=w;var h="no_logging",i="custom_logging",j="workplace_logging",k="gqls_workplace_logging_relay",l="default_logging",m="gqls_default_logging_relay",n=1e3,o=100,p=100;new Set();var q="155160167952447";function a(a,b,c,d,e,f){return r(a,b,c,e,f)["do"]({next:function(){d&&d.clear()}})}function r(a,c,d,e,f){var k,m=(k=c.metadata)==null?void 0:k.subscriptionName;typeof m==="string"||g(0,13280,c.name);k="gqls/"+m+"/";var q=b("GQLSManager").getSubscriptionType(k);k=d.input["%options"];k=(k==null?void 0:k.client_logged_context)==null?h:i;k===h&&(b("gkx")("1383502")&&b("Random").coinflip(o)&&(k=j));k===h&&((b("gkx")("1388683")||b("gkx")("1382775")&&b("Random").coinflip(n))&&(k=l));m==="work_availability_status_fanout_subscribe"&&k===h&&(b("gkx")("1809663")&&b("Random").coinflip(p)&&(k=l));var r=t(c,e),s=y(k,d,r?"_sstt":null);b("RelayRTIUtils").maybeLaunchGraphQLSubscriptionsFleetBeacon(m);return z(a,c,d,k,e,f)["do"]({start:function(){b("RelayRTIUtils").logSubscriptionEvent("client_subscribe",m,d,s,q,c.id)},next:function(){b("RelayRTIUtils").logSubscriptionEvent("receivepayload",m,d,s,q,c.id)},unsubscribe:function(){b("RelayRTIUtils").logSubscriptionEvent("client_unsubscribe",m,d,s,q,c.id)}})}var s=new Set([]);function t(a,c){if(c!=null&&c!=b("CurrentUser").getID()&&!b("gkx")("1783697"))return!1;c=a.metadata.subscriptionName;if(typeof c!=="string")return!1;if(c==="feedback_typing_subscribe")return b("gkx")("1604051");if(c==="feedback_like_subscribe")return b("gkx")("1739138");if(c==="feedback_add_streaming_reaction_subscribe")return b("gkx")("1739139");if(c==="comment_create_subscribe")return b("gkx")("1739140");if(c==="comment_like_subscribe")return b("gkx")("1749562");if(c==="web_notification_receive_subscribe")return b("gkx")("1739141");if(c==="live_video_comment_create_subscribe")return!b("gkx")("1990719");if(s.has(c))return!1;c=(a=b("RTISubscriptionManagerConfig").is_intern)!=null?a:!1;return c?b("gkx")("1701897"):b("gkx")("1293002")}function u(a,c,d){if(a!=null){a=b("RelayRTIUtils").computeRoutingHint(a,c.input);a!=null&&(d.routing_hint=a)}c.input.client_subscription_id!=null&&(d.requestId=c.input.client_subscription_id)}function v(a,b){return a==null?null:{requestId:b,forceLogContext:a}}function w(a,c,d,e,f){e===void 0&&(e=null);return b("RelayRuntime").Observable.create(function(g){var h=a.id;if(typeof h!="string"){var i=new Error("Found illegal docID in subscribeWithMobileStyleTopicTransform");i.stack;throw i}i={doc_id:h};((h=b("RTISubscriptionManagerConfig").is_intern)!=null?h:!1)&&(i.www_tier="intern");e!=null&&e!=b("CurrentUser").getID()&&(i.page_id=e);h=a.metadata.subscriptionName;if(typeof h!="string"){var j=new Error("Found null useCase in subscribeWithMobileStyleTopicTransform");j.stack;throw j}u(h,c,i);j=(j=c["%options"])!=null?j:{};j.useOSSResponseFormat=!0;d!=null&&(j.client_logged_context=d);j.client_has_ods_usecase_counters=!0;j=babelHelpers["extends"]({context:babelHelpers["extends"]({},c,{"%options":j}),gqlsLifecycleHandler:function(a){a===b("StreamStateMachineConstants").events.GQLS_STATE_TRANSIT_ON_ACTIVE&&f&&f();return new(b("Promise"))(function(a){return a()})}},i?{headers:i}:{});i=v(d,c.input.client_subscription_id);i!=null&&(j=babelHelpers["extends"]({},j,{instrumentationData:i}));var k=b("GQLSManager").subscribeViaRequestStreamWithMobileStyleTopicTransform(h,function(a){try{a=A(a);g.next(a)}catch(a){g.error(a)}},j);return function(){return k&&k.unsubscribe()}})}function x(a){var b=a.input;a=babelHelpers.objectWithoutPropertiesLoose(a,["input"]);b["%options"];b=babelHelpers.objectWithoutPropertiesLoose(b,["%options"]);return babelHelpers["extends"]({},a,{input:b})}function y(a,b,c){c===void 0&&(c=null);var d=null;a==j?d=k:a==l?d=m:a==i&&(d=b.input["%options"].client_logged_context);d!=null&&c!=null&&(d+=c);return d}function z(a,c,d,e,f,g){var h=x(d),i=t(c,f),j=y(e,d,i?"_sstt":null);return i?w(c,h,j,f,g):b("RelayRuntime").Observable.create(function(e){var i,k=c.id,l=k!=null?b("RelayRTIGraphQLSubscriptionTopicProvider").getTopicForQuery(k,h):null;b("RelayRTIUtils").getTopicAndTransformContext_DEPRECATED(a,null,k,h,l,f).then(function(c){var a=c.topic,f=c.transformContext;c=c.useCase;if(e.closed)return;f.appID=q;f.serializedQueryParameters!=null&&(j!=null&&(f.serializedQueryParameters=B(f.serializedQueryParameters,j)),f.serializedQueryParameters=C(f.serializedQueryParameters));var h={};u(c,d,h);h=babelHelpers["extends"]({context:{transformContext:JSON.stringify(f)},gqlsLifecycleHandler:function(a){a===b("StreamStateMachineConstants").events.GQLS_STATE_TRANSIT_ON_ACTIVE&&g&&g();return new(b("Promise"))(function(a){return a()})}},h?{headers:h}:{});var k=v(j,d.input.client_subscription_id);k!=null&&(h=babelHelpers["extends"]({},h,{instrumentationData:k}));var l=function(a){if(f==null?void 0:f.useOSSResponseFormat)try{var b=A(a);e.next(b)}catch(a){e.error(a)}else if(typeof a==="object")e.next({data:JSON.parse(a.payload)});else{b=new Error("Relay received an invalid GQLS payload");b.stack;throw b}},m=b("RelayRTIUtils").useJSScheduler(c);i=b("GQLSManager").subscribe(b("nullthrows")(a),function(a){m?b("JSScheduler").scheduleLoggingPriCallback(function(){return l(a)}):l(a)},h)})["catch"](e.error);return function(){return i&&i.unsubscribe()}})}function A(a){if(typeof a==="string")return JSON.parse(a);else if(typeof a==="object"&&(a==null?void 0:a.hasOwnProperty("payload"))&&typeof (a==null?void 0:a.payload)==="string"&&(a==null?void 0:a.hasOwnProperty("topic"))&&typeof (a==null?void 0:a.topic)==="string")return JSON.parse(a.payload);else{a=new Error("Relay client received an invalid GQLS payload");a.stack;throw a}}function B(a,c){try{var d=JSON.parse(a);if(d!=null){d["%options"]!=null?d["%options"].client_logged_context=c:d["%options"]={client_logged_context:c};return JSON.stringify(d)}else return a}catch(c){b("FBLogger")("GraphQLSubscriptions").catching(c).mustfix("serializedQueryParameters is invalid JSON when setting forceLogContext in RelayRTIGraphQLSubscriber");return a}}function C(a){try{var c=JSON.parse(a);if(c!=null){c["%options"]!=null?c["%options"].client_has_ods_usecase_counters=!0:c["%options"]={client_has_ods_usecase_counters:!0};return JSON.stringify(c)}else return a}catch(c){b("FBLogger")("GraphQLSubscriptions").catching(c).mustfix("serializedQueryParameters is invalid JSON when setting clientHasUsecaseCounters in RelayRTIGraphQLSubscriber");return a}}}),null);
__d("RelayFBSubscribeFunction",["GQLSHeartbeatConfig","RelayAPIConfig","RelayRTIGraphQLSubscriber","RelayRuntime"],(function(a,b,c,d,e,f){"use strict";var g=b("GQLSHeartbeatConfig").heartbeat_interval,h=b("RelayRTIGraphQLSubscriber").subscribeWithURIWithLoggingWithCacheInvalidation;b("RelayRuntime").Observable;function a(a,c,d,e,f){if(b("RelayAPIConfig").subscriptionTopicURI==null)throw new Error("RelayFBSubscribeFunction: `RelayAPIConfig.subscriptionTopicURI` should not be null on www");c["%options"]&&c["%options"].heartbeat&&(c["%options"].heartbeat={interval:g});return h(b("RelayAPIConfig").subscriptionTopicURI,a,c,d,e,f)}e.exports=a}),null);
__d("createRelayFBSubscribeFunction",["RelayFBSubscribeFunction"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.queryResponseCache,d=a.actorID;return function(a,e,f){f=f==null?void 0:f.onSubscribe;return b("RelayFBSubscribeFunction")(a,e,c,d,f)}}e.exports=a}),null);
__d("getRelayFBMissingFieldHandlers",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";var g=b("relay-runtime").ROOT_TYPE;function a(){return[{kind:"linked",handle:function(a,b,c){if(b!=null&&b.__typename===g&&a.name==="node"&&Object.prototype.hasOwnProperty.call(c,"id"))return c.id}},{kind:"linked",handle:function(a,b,c,d){if(b!=null&&b.__typename===g&&a.name.startsWith("fetch__")&&Object.prototype.hasOwnProperty.call(c,"id")){b=c.id;c=d.get(b);if(c!=null&&c.getType()===a.name.substr(7))return b}}},{kind:"pluralLinked",handle:function(a,b,c){if(b!=null&&b.__typename===g&&a.name==="nodes"&&Object.prototype.hasOwnProperty.call(c,"ids"))return c.ids}}]}e.exports=a}),null);
__d("relayFBGetDataID",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";var g=b("relay-runtime").VIEWER_ID,h=b("relay-runtime").VIEWER_TYPE;function a(a,b){if(b===h)return g;return b==="MessagingParticipant"||b==="BlockedUser"||b==="SRTUser"?a.id==null?null:b+":"+a.id:a.id}e.exports=a}),null);
__d("RelayFBEnvironmentDefinitions",["RelayFBConsoleLog","RelayFBEnvironmentActorID","RelayFBGCScheduler","RelayFBHandlerProvider","RelayFBOperationLoader","RelayFBScheduler","RelayRequiredFieldLogger","createRelayFBNetwork","createRelayFBNetworkFetch","createRelayFBSubscribeFunction","getRelayFBMissingFieldHandlers","relay-runtime","relayFBGetDataID"],(function(a,b,c,d,e,f){"use strict";var g=b("RelayFBEnvironmentActorID").getActorID,h=(c=b("relay-runtime")).Environment,i=c.RecordSource,j=c.Store,k=c.QueryResponseCache;function l(a){var c=a.actorID,d=a.handlerProvider;d=d===void 0?b("RelayFBHandlerProvider"):d;var e=a.log;e=e===void 0?b("RelayFBConsoleLog"):e;var f=a.missingFieldHandlers;f=f===void 0?b("getRelayFBMissingFieldHandlers")():f;var g=a.operationLoader;g=g===void 0?b("RelayFBOperationLoader"):g;var l=a.store;l=l===void 0?new j(new i(),{getDataID:b("relayFBGetDataID"),gcReleaseBufferSize:10,gcScheduler:b("RelayFBGCScheduler"),operationLoader:b("RelayFBOperationLoader"),queryCacheExpirationTime:5*60*1e3,log:e}):l;var m=a.requiredFieldLogger;m=m===void 0?b("RelayRequiredFieldLogger").create():m;var n=a.scheduler;n=n===void 0?b("RelayFBScheduler"):n;var o=a.getDataID;o=o===void 0?b("relayFBGetDataID"):o;a=babelHelpers.objectWithoutPropertiesLoose(a,["actorID","handlerProvider","log","missingFieldHandlers","operationLoader","store","requiredFieldLogger","scheduler","getDataID"]);var p={actorID:c};if(a.network)return new h(babelHelpers["extends"]({},a,{handlerProvider:d,log:e,missingFieldHandlers:f,operationLoader:g,store:l,options:p,requiredFieldLogger:m,scheduler:n,getDataID:o}));else{var q,r=a.networkConfig;a=babelHelpers.objectWithoutPropertiesLoose(a,["networkConfig"]);q=(q=r==null?void 0:r.queryResponseCache)!=null?q:new k({size:10,ttl:5*60*1e3});r=b("createRelayFBNetwork")(b("createRelayFBNetworkFetch")(babelHelpers["extends"]({},r,{queryResponseCache:q,actorID:c})),b("createRelayFBSubscribeFunction")({queryResponseCache:q,actorID:c}));return new h(babelHelpers["extends"]({},a,{handlerProvider:d,log:e,missingFieldHandlers:f,operationLoader:g,store:l,network:r,options:p,requiredFieldLogger:m,scheduler:n,getDataID:o}))}}function a(a){var b=new Map();return{getForActorID:function(c,d,e){var f;f=c+((f=d)!=null?f:"")+JSON.stringify((f=e)!=null?f:{});var g=b.get(f);g||(g=l(a(c,d,e)),b.set(f,g));return g},commitLocalUpdateForEachEnvironment:function(a){var c=function(){if(e){if(f>=d.length)return"break";h=d[f++]}else{f=d.next();if(f.done)return"break";h=f.value}var b=h,c=b[1];c.commitUpdate(function(b){a(g(c),c,b)})};for(var d=b,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h,i=c();if(i==="break")break}}}}e.exports={createEnvironment:l,createEnvironmentFactory:a}}),null);
__d("filterNulls",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var b=[];for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e!=null&&b.push(e)}return b}}),null);